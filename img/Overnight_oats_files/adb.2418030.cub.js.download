/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. 045e8743:lvfvme4o:449 */
!function i(r,o,a){function s(n,e){if(!o[n]){if(!r[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);throw new Error("Cannot find module '"+n+"'")}e=o[n]={exports:{}};r[n][0].call(e.exports,function(e){var t=r[n][1][e];return s(t||e)},e,e.exports,i,r,o,a)}return o[n].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,r,h){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?i(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l=e("../shim.js").polyfills,I=l.chunk,j=l.convertCamelToUnderscore,k=l.convertTypes,b=l.createTrackPixelHtml,T=l.deepAccess,C=l.deepClone,G=l.fill,v=l.getBidRequest,J=l.getMaxValueFromArray,X=l.getMinValueFromArray,R=l.getParameterByName,_=l.getUniqueIdentifierStr,y=l.getWindowFromDocument,D=l.isArray,a=(l.isArrayOfNums,l.isEmpty),w=l.isFn,B=l.isNumber,E=l.isPlainObject,P=l.isStr,O=l.logError,W=l.logInfo,p=l.logMessage,x=l.logWarn,z=l.mergeDeep,U=l.transformBidderParamKeywords,A=l.Renderer,M=l.config,K=l.getIabSubCategory,g=(l.registerBidder,l.ADPOD),s=l.BANNER,d=l.NATIVE,c=l.VIDEO,$=l.auctionManager,q=l.find,N=l.includes,Y=l.INSTREAM,Q=l.OUTSTREAM,t=l.getStorageManager,Z=l.bidderSettings,L=l.hasPurpose1Consent,ee=l.convertOrtbRequestToProprietaryNative,n="appnexus",te=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],ne=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],ie=["age","externalUid","external_uid","segments","gender","dnt","language"],re=["geo","device_id"],oe=["enabled","dongle","member_id","debug_timeout"],F={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},u={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},ae=t({bidderCode:n}),t={code:n,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"defymedia",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618}],supportedMediaTypes:[s,c,d],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){var n,i=(e=ee(e)).map(se),r=q(e,de),o={},a=(!0===M.getConfig("coppa")&&(o={coppa:!0}),r&&Object.keys(r.params.user).filter(function(e){return N(ie,e)}).forEach(function(e){var t,n=j(e);"segments"===e&&D(r.params.user[e])?(t=[],r.params.user[e].forEach(function(e){B(e)?t.push({id:e}):E(e)&&t.push(e)}),o[n]=t):"segments"!==e&&(o[n]=r.params.user[e])}),q(e,ue)),s=(a&&a.params&&a.params.app&&(n={},Object.keys(a.params.app).filter(function(e){return N(re,e)}).forEach(function(e){return n[e]=a.params.app[e]})),q(e,le)),d=(s&&s.params&&a.params.app&&a.params.app.id&&(h={appid:s.params.app.id}),{}),c={},u=ae.getCookie("apn_prebid_debug")||null;if(u)try{d=JSON.parse(u)}catch(e){O("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(F).forEach(function(e){var t=R(e);P(t)&&""!==t&&(d[F[e]]=t,d.enabled=!0)});var d=k({member_id:"number",debug_timeout:"number"},d),u=q(e,pe);u&&u.debug&&(d=u.debug)}d&&d.enabled&&Object.keys(d).filter(function(e){return N(oe,e)}).forEach(function(e){c[e]=d[e]});var u=q(e,ce),u=u?parseInt(u.params.member,10):0,l=e[0].schain,p=q(e,fe),g={tags:S(i),user:o,sdk:{source:"pbjs",version:"7.44.0"},schain:l};p&&(g.iab_support={omidpn:"Appnexus",omidpv:"7.44.0"}),0<u&&(g.member_id=u),a&&(g.device=n),s&&(g.app=h);var f,m,h,b,v,l=C(t&&t.ortb2),p=(f=l,m=[],["site.keywords","site.content.keywords","user.keywords","app.keywords","app.content.keywords"].forEach(function(e){e=T(f,e);P(e)&&m.push(e)}),m.map(be)),_=C(M.getConfig("appnexusAuctionKeywords"))||{},u=(Object.keys(_).forEach(function(e){(P(_[e])||B(_[e]))&&(_[e]=[_[e]])}),z.apply(void 0,[{},_].concat(S(p)))),s=U(u),l=(0<s.length&&(s.forEach(V),g.keywords=s),M.getConfig("adpod.brandCategoryExclusion")&&(g.brand_category_uniqueness=!0),c.enabled&&(g.debug=c,W("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(c,null,4))),t&&t.gdprConsent&&(g.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent)&&-1!==t.gdprConsent.addtlConsent.indexOf("~")&&(l=(h=t.gdprConsent.addtlConsent).substring(h.indexOf("~")+1),g.gdpr_consent.addtl_consent=l.split(".").map(function(e){return parseInt(e,10)})),t&&t.uspConsent&&(g.us_privacy=t.uspConsent),null!=t&&t.gppConsent?g.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!=(p=t.ortb2)&&null!=(u=p.regs)&&u.gpp&&(g.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo&&(s={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},h=t.refererInfo.canonicalUrl,P(h)&&""!==h&&(s.rd_can=h),g.referrer_detection=s),q(e,ge)&&e.filter(ge).forEach(function(t){var e=function(e,t){var n=t.mediaTypes.video,i=n.durationRangeSec,n=n.requireExactDuration,r=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,e=e.requireExactDuration,i=X(n),t=Math.floor(t/i);return e?Math.max(t,n.length):t}(t.mediaTypes.video),o=J(i),e=e.filter(function(e){return e.uuid===t.bidId}),e=G.apply(void 0,S(e).concat([r]));{var a;n?(n=Math.ceil(r/i.length),a=I(e,n),i.forEach(function(t,e){a[e].map(function(e){H(e,"minduration",t),H(e,"maxduration",t)})})):e.map(function(e){return H(e,"maxduration",o)})}return e}(i,t),n=g.tags.filter(function(e){return e.uuid!==t.bidId});g.tags=[].concat(S(n),S(e))}),e[0].userId&&(b=[],e[0].userIdAsEids.forEach(function(t){!t||!t.uids||t.uids.length<1||t.uids.forEach(function(e){e={source:t.source,id:e.id};"adserver.org"==t.source?e.rti_partner="TDID":"uidapi.com"==t.source&&(e.rti_partner="UID2"),b.push(e)})}),b.length)&&(g.eids=b),i[0].publisher_id&&(g.publisher_id=i[0].publisher_id),g),y=t,w=[],x={withCredentials:!0},A="https://ib.adnxs.com/ut/v3/prebid";return L(null==y?void 0:y.gdprConsent)||(A="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==R("apn_test").toUpperCase()&&!0!==M.getConfig("apn_test")||(x.customHeaders={"X-Is-Test":1}),15<l.tags.length?(v=C(l),I(l.tags,15).forEach(function(e){v.tags=e;e=JSON.stringify(v);w.push({method:"POST",url:A,data:e,bidderRequest:y,options:x})})):(l=JSON.stringify(l),w={method:"POST",url:A,data:l,bidderRequest:y,options:x}),w},interpretResponse:function(e,t){var n=this,i=t.bidderRequest,r=(e=e.body,[]);return!e||e.error?(t="in response for ".concat(i.bidderCode," adapter"),e&&e.error&&(t+=": ".concat(e.error)),O(t)):(e.tags&&e.tags.forEach(function(e){var t=(t=e)&&t.ads&&t.ads.length&&q(t.ads,function(e){return e.rtb});t&&(!0===Z.get(i.bidderCode,"allowZeroCpmBids")?0<=t.cpm:0<t.cpm)&&N(n.supportedMediaTypes,t.ad_type)&&((e=function(t,e,n){var i=v(t.uuid,[n]),r=_(),o={adId:r,requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};e.adomain&&(o.meta=l.utils.assign({},o.meta,{advertiserDomains:[e.adomain]}));e.advertiser_id&&(o.meta=l.utils.assign({},o.meta,{advertiserId:e.advertiser_id}));e.buyer_member_id&&(o.meta=l.utils.assign({},o.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(e)}));e.brand_id&&(o.meta=l.utils.assign({},o.meta,{brandId:e.brand_id}));if(e.rtb.video){var a;switch(l.utils.assign(o,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),T(i,"mediaTypes.video.context")){case g:var s=K(i.bidder,e.brand_category_id),s=(o.meta=l.utils.assign({},o.meta,{primaryCatId:s}),e.deal_priority);o.video={context:g,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:s},o.vastUrl=e.rtb.video.asset_url;break;case Q:o.adResponse=t,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=e.rtb.video.content,e.renderer_url&&(s=q(n.bids,function(e){return e.bidId===t.uuid}),a=(a=T(s,"mediaTypes.video.renderer.options"))||T(s,"renderer.options"),o.renderer=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=A.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{t.setRender(me)}catch(e){x("Prebid Error calling setRender on renderer",e)}return t.setEventHandlers({impression:function(){return p("AppNexus outstream video impression event")},loaded:function(){return p("AppNexus outstream video loaded event")},ended:function(){p("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),t}(o.adUnitCode,e,a));break;case Y:o.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}}else{l.utils.assign(o,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{if(e.rtb.trackers)for(var d=0;d<e.rtb.trackers[0].impression_urls.length;d++){var c=e.rtb.trackers[0].impression_urls[d],u=b(c);o.ad+=u}}catch(e){O("Error appending tracking pixel",e)}}return o}(e,t,i)).mediaType=function(e){e=e.ad_type;return e===c?c:e===d?d:s}(t),r.push(e))}),e.debug&&e.debug.debug_info&&(t=(t="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),p("https://console.appnexus.com/docs/understanding-the-debug-auction"),p(t))),r},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,n,i,r){if(e.iframeEnabled&&L(n)&&(!(e=r)||!Array.isArray(e.applicableSections)||e.applicableSections.every(function(e){return"number"==typeof e&&e<=5})))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(n,e,t,i){var r,o,a=U;return!0===e&&(r=null,o=M.getConfig("s2sConfig"),E(o)?r=T(o,"endpoint.p1Consent"):D(o)&&o.forEach(function(e){N(e.bidders,t.bids[0].bidder)&&(r=T(e,"endpoint.p1Consent"))}),r)&&r.match("/openrtb2/prebid")&&(a=he),n=k({member:"string",invCode:"string",placementId:"number",keywords:a,publisherId:"number"},n),e&&(f(n.keywords)&&n.keywords.forEach(V),Object.keys(n).forEach(function(e){var t=j(e);t!==e&&(n[t]=n[e],delete n[e])}),n.use_pmt_rule="boolean"==typeof n.use_payment_rule&&n.use_payment_rule,n.use_payment_rule)&&delete n.use_payment_rule,n}};function f(e){return D(e)&&0<e.length}function V(e){f(e.value)&&""===e.value[0]&&delete e.value}function se(n){var t,r={},e=(Object.keys(n.params).forEach(function(e){var t=j(e);t!==e&&(n.params[t]=n.params[e],delete n.params[e])}),r.sizes=m(n.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=n.bidId,n.params.placement_id?r.id=parseInt(n.params.placement_id,10):r.code=n.params.inv_code,r.allow_smaller_sizes=n.params.allow_smaller_sizes||!1,r.use_pmt_rule="boolean"==typeof n.params.use_payment_rule?n.params.use_payment_rule:"boolean"==typeof n.params.use_pmt_rule&&n.params.use_pmt_rule,r.prebid=!0,r.disable_psa=!0,w((i=n).getFloor)?(e=i.getFloor({currency:"USD",mediaType:"*",size:"*"}),!E(e)||isNaN(e.floor)||"USD"!==e.currency?null:e.floor):i.params.reserve||null),i=(e&&(r.reserve=e),n.params.position?r.position={above:1,below:2}[n.params.position]||0:0!==(i=T(n,"mediaTypes.banner.pos")||T(n,"mediaTypes.video.pos"))&&1!==i&&3!==i||(r.position=3===i?2:i),n.params.traffic_source_code&&(r.traffic_source_code=n.params.traffic_source_code),n.params.private_sizes&&(r.private_sizes=m(n.params.private_sizes)),n.params.supply_type&&(r.supply_type=n.params.supply_type),n.params.pub_click&&(r.pubclick=n.params.pub_click),n.params.ext_inv_code&&(r.ext_inv_code=n.params.ext_inv_code),n.params.publisher_id&&(r.publisher_id=parseInt(n.params.publisher_id,10)),n.params.external_imp_id&&(r.external_imp_id=n.params.external_imp_id),T(n,"ortb2Imp.ext.data.keywords")),i=((P(i)&&""!==i||!a(n.params.keywords))&&(i=be(i),t=E(n.params.keywords)?C(n.params.keywords):{},Object.keys(t).forEach(function(e){(P(t[e])||B(t[e]))&&(t[e]=[t[e]])}),i=z({},t,i),0<(i=U(i)).length)&&(i.forEach(V),r.keywords=i),T(n,"ortb2Imp.ext.data.pbadslot")),o=(i&&(r.gpid=i),T(n,"mediaTypes.".concat(c))),i=T(n,"mediaTypes.video.context"),i=(r.hb_source=o&&"adpod"===i?7:1,n.mediaType!==c&&!o||r.ad_types.push(c),(n.mediaType===c||o&&"outstream"!==i)&&(r.require_asset_url=!0),n.params.video&&(r.video={},Object.keys(n.params.video).filter(function(e){return N(te,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=n.params.video[e],t=D(t)?t[0]:t;r.video[e]=u[e][t];break;case"frameworks":break;default:r.video[e]=n.params.video[e]}}),n.params.video.frameworks)&&D(n.params.video.frameworks)&&(r.video_frameworks=n.params.video.frameworks),o&&(r.video=r.video||{},Object.keys(o).filter(function(e){return N(ne,e)}).forEach(function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof r.video[e]&&(r.video[e]=o[e]);break;case"skip":"boolean"!=typeof r.video.skippable&&(r.video.skippable=1===o[e]);break;case"skipafter":"number"!=typeof r.video.skipoffset&&(r.video.skippoffset=o[e]);break;case"playbackmethod":"number"!=typeof r.video.playback_method&&(i=o[e],1<=(i=D(i)?i[0]:i))&&i<=4&&(r.video.playback_method=i);break;case"api":!r.video_frameworks&&D(o[e])&&(i=o[e].map(function(e){e=4===e?5:5===e?4:e;if(1<=e&&e<=5)return e}).filter(function(e){return e}),r.video_frameworks=i);break;case"startdelay":case"placement":var t,n,i="context";"number"!=typeof r.video[i]&&(n=o.placement,t=o.startdelay,n=function(e){if(e)return 2===e?"in-banner":2<e?"outstream":void 0}(n)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(t),r.video[i]=u[i][n])}})),n.renderer&&(r.video=l.utils.assign({},r.video,{custom_renderer_present:!0})),n.params.frameworks&&D(n.params.frameworks)&&(r.banner_frameworks=n.params.frameworks),q($.getAdUnits(),function(e){return n.transactionId===e.transactionId}));return i&&i.mediaTypes&&i.mediaTypes.banner&&r.ad_types.push(s),0===r.ad_types.length&&delete r.ad_types,r}function m(e){var t=[],n={};if(D(e)&&2===e.length&&!D(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===o(e))for(var i=0;i<e.length;i++){var r=e[i];(n={}).width=parseInt(r[0],10),n.height=parseInt(r[1],10),t.push(n)}return t}function de(e){return!!e.params.user}function ce(e){return!!parseInt(e.params.member,10)}function ue(e){if(e.params)return!!e.params.app}function le(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function pe(e){return!!e.debug}function ge(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===g}function fe(e){var t=!1,n=e.params,i=e.params.video;return t=!(t=n.frameworks&&D(n.frameworks)?N(e.params.frameworks,6):t)&&i&&i.frameworks&&D(i.frameworks)?N(e.params.video.frameworks,6):t}function H(e,t,n){a(e.video)&&(e.video={}),e.video[t]=n}function me(e,t){var n=e.adUnitCode;try{var i=document.getElementById(n).querySelectorAll("div[id^='google_ads']");i[0]&&i[0].style.setProperty("display","none")}catch(e){}n=e.adUnitCode;try{var r=document.getElementById(n).querySelectorAll("script[id^='sas_script']");r[0].nextSibling&&"iframe"===r[0].nextSibling.localName&&r[0].nextSibling.style.setProperty("display","none")}catch(e){}e.renderer.push(function(){(y(t)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))})}function he(e){var n="";return Object.keys(e).forEach(function(t){P(e[t])?""!==e[t]?n+="".concat(t,"=").concat(e[t],","):n+="".concat(t,","):D(e[t])&&(""===e[t][0]?n+="".concat(t,","):e[t].forEach(function(e){n+="".concat(t,"=").concat(e,",")}))}),n=n.substring(0,n.length-1)}function be(e){var i={};return P(e)&&""!==e&&e.split(/\s*(?:,)\s*/).forEach(function(e){var t,n;-1!==e.indexOf("=")?(t=(n=e.split("="))[0],n=n[1],i.hasOwnProperty(t)?i[t].push(n):i[t]=[n]):i.hasOwnProperty(e)||(i[e]=[""])}),i}r.exports=e("../shim.js").wrap({spec:t,unitIDKey:"placement_id",floorKey:"reserve",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":55}],2:[function(e,t,n){"use strict";function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function a(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}var i=e("../shim.js").polyfills,s=i.generateUUID,d=i.deepSetValue,c=i.deepAccess,u=i.isArray,r=i.isInteger,l=i.logError,p=i.logWarn,g=(i.registerBidder,i.BANNER),f=i.VIDEO,m={mimes:function(e){return Array.isArray(e)&&0<e.length&&e.every(function(e){return"string"==typeof e})},minduration:function(e){return r(e)},maxduration:function(e){return r(e)},protocols:function(e){return Array.isArray(e)&&e.every(function(e){return 1<=e&&e<=10})},w:function(e){return r(e)},h:function(e){return r(e)},startdelay:function(e){return r(e)},placement:function(e){return Array.isArray(e)&&e.every(function(e){return 1<=e&&e<=5})},linearity:function(e){return-1!==[1,2].indexOf(e)},skip:function(e){return-1!==[0,1].indexOf(e)},skipmin:function(e){return r(e)},skipafter:function(e){return r(e)},sequence:function(e){return r(e)},battr:function(e){return Array.isArray(e)&&e.every(function(e){return 1<=e&&e<=17})},maxextended:function(e){return r(e)},minbitrate:function(e){return r(e)},maxbitrate:function(e){return r(e)},boxingallowed:function(e){return-1!==[0,1].indexOf(e)},playbackmethod:function(e){return Array.isArray(e)&&e.every(function(e){return 1<=e&&e<=6})},playbackend:function(e){return-1!==[1,2,3].indexOf(e)},delivery:function(e){return-1!==[1,2,3].indexOf(e)},pos:function(e){return-1!==[0,1,2,3,4,5,6,7].indexOf(e)},api:function(e){return Array.isArray(e)&&e.every(function(e){return 1<=e&&e<=6})}},i={code:"deepintent",supportedMediaTypes:[g,f],aliases:[],isBidRequestValid:function(e){var t=!1;return e&&e.params&&e.params.tagId&&(!("string"==typeof e.params.tagId||e.params.tagId instanceof String)||e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(f)&&!e.mediaTypes[f].hasOwnProperty("context")||(t=!0)),t},interpretResponse:function(e,t){var i=[];if(e&&e.body)try{var n=e.body.seatbid&&e.body.seatbid[0]?e.body.seatbid[0].bid:[];n&&n.forEach(function(e){var t={requestId:(t=e)&&t.impid?t.impid:void 0,cpm:t&&t.price?t.price:0,width:t&&t.w?t.w:0,height:t&&t.h?t.h:0,ad:t&&t.adm?t.adm:"",meta:{advertiserDomains:t&&t.adomain?t.adomain:[]},creativeId:t&&t.crid?t.crid:void 0,netRevenue:!1,currency:t&&t.cur?t.cur:"USD",ttl:300,dealId:t&&t.dealId?t.dealId:void 0},n=function(e){var t,n=new RegExp(/VAST\s+version/);e.adm&&0<=e.adm.indexOf("deepintent_wrapper")?t=g:n.test(e.adm)&&(t=f);return t}(e);n===g?t.mediaType=g:n===f&&(t.mediaType=f,t.vastXml=e.adm),i.push(t)})}catch(e){l(e)}return i},buildRequests:function(e,t){var n,i=e.map(function(e){if(e&&e.params&&e.params.user)return{id:e.params.user.id&&"string"==typeof e.params.user.id?e.params.user.id:void 0,buyeruid:e.params.user.buyeruid&&"string"==typeof e.params.user.buyeruid?e.params.user.buyeruid:void 0,yob:e.params.user.yob&&"number"==typeof e.params.user.yob?e.params.user.yob:null,gender:e.params.user.gender&&"string"==typeof e.params.user.gender?e.params.user.gender:void 0,keywords:e.params.user.keywords&&"string"==typeof e.params.user.keywords?e.params.user.keywords:void 0,customdata:e.params.user.customdata&&"string"==typeof e.params.user.customdata?e.params.user.customdata:void 0}}),r=i;for(n in r)null!==r[n]&&void 0!==r[n]||delete r[n];i={id:s(),at:1,imp:e.map(function(e){var t={};return t={id:e.bidId,tagid:e.params.tagId||"",secure:"https:"===window.location.protocol?1:0,displaymanager:"di_prebid",displaymanagerver:"1.0.0",ext:function(e){return e.params&&e.params.custom?{deepintent:e.params.custom}:{}}(e)},c(e,"mediaTypes.banner")&&(t.banner=function(e){{var t;if(c(e,"mediaTypes.banner"))return!c(e,"mediaTypes.banner.sizes")||e.params.height||e.params.width?{h:e.params.height,w:e.params.width,pos:e&&e.params&&e.params.pos?e.params.pos:0}:(t=c(e,"mediaTypes.banner.sizes"),u(t)&&0<t.length?{h:t[0][1],w:t[0][0],pos:e&&e.params&&e.params.pos?e.params.pos:0}:void 0)}}(e)),c(e,"mediaTypes.video")&&(t.video=function(e){var t={},n=c(e,"mediaTypes.video",{}),e=c(e,"params.video",{}),i={};{var r;Array.isArray(n.playerSize)&&(r=Array.isArray(n.playerSize[0])?n.playerSize[0]:n.playerSize,i.w=r[0],i.h=r[1])}var o=a(a(a({},i),n),e);return Object.keys(m).forEach(function(e){o.hasOwnProperty(e)&&(m[e](o[e])?t[e]=o[e]:p("The OpenRTB video param ".concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))}),t}(e)),t}),site:function(e){var t={};e&&e.refererInfo&&e.refererInfo.page&&(t.page=e.refererInfo.page,t.domain=e.refererInfo.domain);return t}(t),device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"===navigator.doNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:i&&1===i.length?i[0]:{}},t&&t.uspConsent&&d(i,"regs.ext.us_privacy",t.uspConsent),t&&t.gdprConsent&&(d(i,"user.ext.consent",t.gdprConsent.consentString),d(i,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t=i;return e=c(e,"0.userIdAsEids"),u(e)&&0<e.length&&(d(t,"user.eids",e),d(t,"user.ext.eids",e)),{method:"POST",url:"https://prebid.deepintent.com/prebid",data:JSON.stringify(i),options:{contentType:"application/json"}}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://cdn.deepintent.com/syncpixel.html"}]}};t.exports=e("../shim.js").wrap({spec:i,unitIDKey:"tagId",floorKey:!1,floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":55}],3:[function(e,t,n){var d=e("../utils.js"),c="hlcg";t.exports=function(e,t,n){var i={},r={},a=(this.settings=n,this.getPrebidReqCtr=function(e){return(r[e]||0)+1},this.getPrebidWinCtr=function(e){return i[e]||0},this.onBidWon=d.wrapAsync(function(e){i[e.adUnitCode]=(i[e.adUnitCode]||0)+1,this.renderBid(e)}),this.onSetTarget=function(e){},this.buildPrebidParams=function(e){return{}},{});this.execute=function(e){var r,o;window.getDriversForAds?(r=[],o={},e.eachBidRequest(c,function(e,t){var n=e.get("dom_id"),e=e.get("gpt_slot").getAdUnitPath(),i=e.match(/\/pagenumber(\d)\/\d*(.*)$/),i={page:i&&parseInt(i[1])||0,slot:i&&i[2]||"invalid",dom_id:n};o[i.slot]?d.err("HLCG.ambiguousSlot",n,e):(a[(o[i.slot]=t).id]=d.copy(i),r.push(i))}),r.length?(d.log("HLCG - issuing request to getDriversForAds API",e.id,r),getDriversForAds(r).then(d.wrapAsync(function(s){d.log("HLCG - getDriversForAds response",e.id,s),d.each(o,function(e,t){var n,i,r,o=e.unit,a=s[t];a?(i=o.size.split("x"),n=parseInt(i[0]),i=parseInt(i[1]),r={requestId:e.id,bidderCode:c,cpm:a,width:n,height:i,ad:t="\x3c!-- AdBridg/HL Render Stub for "+t+" --\x3e",ttl:300,creativeId:1,mediaType:"banner",currency:"USD",netRevenue:!0},o.addBid(e,{creative:t,cpm:a,width:n,height:i,extras:{crid:1,ttl:300,cur:"USD",nr:!0,mediaType:"banner"},rawbid:r})):e.unit.addEmptyBid(e)})})),this.renderBid=d.wrapAsync(function(e){var t=a[e.requestId];t?t.used?d.err("HLCG.renderFail.duplicated",t):(t.used=!0,d.log("HLCG is calling renderDriver",t),renderDriver(t)):d.err("HLCG.renderFail.paramsNotFound",e.adUnitCode)})):d.log("HLCG - nothing to request from getDriversForAds")):(d.err("HLCG.getDriversForAds.notAvailable"),e.markBidderEmpty(c))}}},{"../utils.js":58}],4:[function(t,r,o){"use strict";function x(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function S(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function X(e,t){var n,i,r,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==a.return||a.return()}finally{if(i)throw r}}};if(Array.isArray(e)||(a=s(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var n;if(e)return"string"==typeof e?i(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var e=t("../shim.js").polyfills,l=e.contains,p=e.convertTypes,I=e.deepAccess,j=e.deepClone,k=e.deepSetValue,f=e.getGptSlotInfoForAdUnitCode,g=e.inIframe,W=e.isArray,T=e.isEmpty,_=e.isFn,C=e.isInteger,R=e.logError,m=e.logWarn,D=e.mergeDeep,B=e.parseQueryStringParameters,y=e.safeJSONParse,E=e.BANNER,h=e.VIDEO,b=e.NATIVE,P=e.config,w=e.CONSTANTS,K=e.getStorageManager,$=e.events,Y=e.find,Q=(e.registerBidder,e.INSTREAM),Z=e.OUTSTREAM,ee=e.Renderer,O="ix",te="roundel",d=[E,h,b],ne=[144,144],ie={JPY:1},re={PBJS:"p",IX:"x"},z={BID_SIZE_INVALID_FORMAT:1,BID_SIZE_NOT_INCLUDED:2,PROPERTY_NOT_INCLUDED:3,SITE_ID_INVALID_VALUE:4,BID_FLOOR_INVALID_FORMAT:5,IX_FPD_EXCEEDS_MAX_SIZE:6,EXCEEDS_MAX_SIZE:7,PB_FPD_EXCEEDS_MAX_SIZE:8,VIDEO_DURATION_INVALID:9},oe={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},U={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":"","intimatemerger.com":"","liveintent.indexexchange.com":""},ae=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId"],se=["mimes","minduration","maxduration"],de=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],M="ixdiag",n="".concat(O,"_features"),ce=!1,q=K({bidderCode:O}),N={featureToggles:{},isFeatureEnabled:function(e){return I(this.featureToggles,"features.".concat(e,".activated"))},getFeatureToggles:function(){var e;q.localStorageIsEnabled()&&(e=y(q.getDataFromLocalStorage(n)),I(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles())},setFeatureToggles:function(e){var e=e.body,t=new Date,e=I(e,"ext.features");e&&(this.featureToggles={expiry:t.setHours(t.getHours()+1),features:e},q.localStorageIsEnabled())&&q.setDataInLocalStorage(n,JSON.stringify(this.featureToggles))},clearFeatureToggles:function(){this.featureToggles={},q.localStorageIsEnabled()&&q.removeDataFromLocalStorage(n)}},L=0,F="",ue="",le=2,V=0,H=0,G=!1,J=0;function pe(e){var t,n=c(e,h),i=I(e,"mediaTypes.video"),r=I(e,"params.video");if(fe(i,r).length)return{};for(t in n.video=r?j(e.params.video):{},n.ext.tid=I(e,"ortb2Imp.ext.tid"),i)-1===de.indexOf(t)||n.video.hasOwnProperty(t)||(n.video[t]=i[t]);if(n.video.minduration>n.video.maxduration)return R("IX Bid Adapter: video minduration [".concat(n.video.minduration,"] cannot be greater than video maxduration [").concat(n.video.maxduration,"]"),{bidder:O,code:z.VIDEO_DURATION_INVALID}),{};var o=r&&r.context||i&&i.context;if(o&&!n.video.hasOwnProperty("placement")&&(o===Q?n.video.placement=1:o===Z?I(r,"playerConfig.floatOnScroll")?n.video.placement=5:n.video.placement=4:m("IX Bid Adapter: Video context '".concat(o,"' is not supported"))),!n.video.w||!n.video.h){r=me(I(n,"video.playerSize"))||me(I(e,"params.size"));if(!r)return m("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};n.video.w=r[0],n.video.h=r[1]}return v(e,n,h),n}function c(e,t){var n={};if(n.id=e.bidId,n.ext={},I(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case E:n.ext.siteID=e.params.banner.siteId.toString();break;case h:n.ext.siteID=e.params.video.siteId.toString();break;case b:n.ext.siteID=e.params.native.siteId.toString()}else n.ext.siteID=e.params.siteId.toString();return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(n.ext.sid=String(e.params.id)),n}function v(e,t,n){var i=null,r=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(i={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),_(e.getFloor)){var o="*",a="*";n&&l(d,n)&&(a=[(n=t[o=n]).w,n.h]);try{r=e.getFloor({mediaType:o,size:a})}catch(e){m("priceFloors module call getFloor failed, error : ",e)}}r?(t.bidfloor=r.floor,t.bidfloorcur=r.currency,t.ext.fl=re.PBJS):i&&(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=re.IX)}function ge(e){return Array.isArray(e)&&2===e.length&&C(e[0])&&C(e[1])}function u(e,t){var n=0<arguments.length&&void 0!==e?e:[],i=1<arguments.length&&void 0!==t?t:[];if(ge(n))return n[0]===i[0]&&n[1]===i[1];for(var r=0;r<n.length;r++)if(n[r][0]===i[0]&&n[r][1]===i[1])return!0;return!1}function fe(e,t){var n,i=[],r=(e||m("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit"),X(se));try{for(r.s();!(n=r.n()).done;){var o=n.value,a=e&&e.hasOwnProperty(o),s=t&&t.hasOwnProperty(o);a||s||i.push("IX Bid Adapter: ".concat(o," is not included in either the adunit or params level"))}}catch(e){r.e(e)}finally{r.f()}var d=e&&e.hasOwnProperty("protocol"),c=e&&e.hasOwnProperty("protocols"),u=t&&t.hasOwnProperty("protocol"),l=t&&t.hasOwnProperty("protocols");return d||c||u||l||i.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),i}function me(e){e=0<arguments.length&&void 0!==e?e:[];return ge(e)?e:!!ge(e[0])&&e[0]}function he(e,t,n){G=!1,J=H=V=0;var i="https://htlb.casalemedia.com/openrtb/pbjs",r=function(e){var t=[],n={};if(W(e)){var i,r=X(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;U.hasOwnProperty(o.source)&&I(o,"uids.0")&&(n[o.source]=!0,""!=U[o.source]&&(o.uids[0].ext={rtiPartner:U[o.source]}),delete o.uids[0].atype,t.push(o))}}catch(e){r.e(e)}finally{r.f()}}return{toSend:t,seenSources:n}}(I(e,"0.userIdAsEids")),o=r.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var a=o,s=r,d=window.headertag.getIdentityInfo();if(d&&"object"===A(d))for(var c in d)d.hasOwnProperty(c)&&!(c=d[c]).responsePending&&c.data&&"object"===A(c.data)&&Object.keys(c.data).length&&!s.seenSources[c.data.source]&&a.push(c.data)}if(t&&t.bidderCode===te&&!r.seenSources["liveramp.com"])return[];var u,l=[],p=((r={}).id=e[0].bidderRequestId.toString(),r.site={},r.ext={},r.ext.source="prebid",r.ext.ixdiag={},r.ext.ixdiag.ls=q.localStorageIsEnabled(),r.imp=[],r.at=1,r),g=function(e){for(var n,i=e.map(function(e){return e.transactionId}).filter(function(e,t,n){return n.indexOf(e)===t}),r={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"7.44.0",userIds:function(e){var t=e.userId||{};return ae.filter(function(e){return t[e]})}(e[0]),url:window.location.href.split("?")[0]},t=0;t<i.length;t++)!function(t){n=e.filter(function(e){return e.transactionId===i[t]})[0],I(n,"mediaTypes")&&(1<Object.keys(n.mediaTypes).length&&r.mfu++,I(n,"mediaTypes.native")&&r.nu++,I(n,"mediaTypes.banner")&&r.bu++,"outstream"===I(n,"mediaTypes.video.context")&&(r.ou++,xe(n))&&(r.ren=!0),"instream"===I(n,"mediaTypes.video.context")&&r.iu++,r.allu++)}(t);return r}(e);for(u in g)p.ext.ixdiag[u]=g[u];p=function(e,t,n,i,r){t=I(t,"timeout");t&&(e.ext.ixdiag.tmax=t);P.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=P.getConfig("userSync").syncsPerBidder);t=function(){if(q.localStorageIsEnabled()){var n,i={};try{n=JSON.parse(q.getDataFromLocalStorage(M)||"{}")}catch(e){return R("ix can not read ixdiag from localStorage."),null}return Object.keys(n).forEach(function(t){Object.keys(n[t]).forEach(function(e){"number"==typeof n[t][e]&&(i[e]=i[e]?i[e]+n[t][e]:n[t][e])})}),i}}();T(t)||(e.ext.ixdiag.err=t);e.ext.ixdiag.imps=Object.keys(n).length,e.source={tid:i[0].auctionId},i[0].schain&&(e.source.ext={},e.source.ext.schain=i[0].schain);0<r.length&&(e.user={},e.user.eids=r);document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer);return e}(p,t,n,e,o);for(var f={},m=(!function(e,t,n,i,r,o){L=e[0].params.siteId,r.s=L;e=t&&t.bidderCode||"ix",t=P.getConfig(e);if((V="".concat(i).concat(B(S(S({},r),{},{r:JSON.stringify(n)}))).length)>o)return R("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:O,code:z.EXCEEDS_MAX_SIZE});H=V;e=0;if(t&&"object"===A(t.firstPartyData)){var a,s=t.firstPartyData,d="?";for(a in s)s.hasOwnProperty(a)&&(d+="".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(s[a]),"&"));d=d.slice(0,-1),e=encodeURIComponent(d).length,N.isFeatureEnabled("pbjs_use_buildRequestV2")?"page"in n.site?n.site.page+=d:n.site.page=d:e<o?("page"in n.site?n.site.page+=d:n.site.page=d,H+=e):R("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:O,code:z.IX_FPD_EXCEEDS_MAX_SIZE})}}(e,t,p=function(e,t){{var n;t&&(t.gdprConsent&&((F=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:F.gdprApplies?1:0}}),F.hasOwnProperty("consentString"))&&(e.user=e.user||{},e.user.ext={consent:F.consentString||""},F.hasOwnProperty("addtlConsent"))&&F.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:F.addtlConsent}),t.uspConsent&&(k(e,"regs.ext.us_privacy",t.uspConsent),ue=t.uspConsent),(n=I(t,"refererInfo.page"))&&(e.site.page=n),t.gppConsent)&&(k(e,"regs.gpp",t.gppConsent.gppString),k(e,"regs.gpp_sid",t.gppConsent.applicableSections))}P.getConfig("coppa")&&k(e,"regs.coppa",1);return e}(p,t),i,f,8e3),0),h=Object.keys(n),b=!1,v=0;v<h.length&&(N.isFeatureEnabled("pbjs_use_buildRequestV2")||!(8e3<=H))&&!(4<=l.length);v++){p=function(e,t,n,i,r){var o=e[t[i]],a=o.missingImps,a=void 0===a?[]:a,o=o.ixImps,s=r-H,d={ixImps:void 0===o?[]:o,missingBannerImpressions:a},c=Object.keys(d).map(function(e){return d[e]}).filter(function(e){return Array.isArray(e)}).reduce(function(e,t){return e.concat.apply(e,x(t))},[]);if(J=encodeURIComponent(JSON.stringify({impressionObjects:c})).length,!N.isFeatureEnabled("pbjs_use_buildRequestV2"))for(;c.length&&s<J;)G=!0,c.pop(),J=encodeURIComponent(JSON.stringify({impressionObjects:c})).length;var u=e[t[i]].gpid,r=e[t[i]].dfp_ad_unit_code,o=e[t[i]].tid,a=e[t[i]].sid;if(c.length&&E in c[0]){for(var l=c[0],p=l.id,l=l.banner.topframe,g={id:p,banner:{topframe:l,format:c.map(function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}})}},f=0;f<g.banner.format.length;f++)null!=g.banner.format[f].ext&&null!=g.banner.format[f].ext.sid&&delete g.banner.format[f].ext.sid,"bidfloor"in c[f]&&(g.banner.format[f].ext.bidfloor=c[f].bidfloor);p=e[t[i]].pos;C(p)&&(g.banner.pos=p),(r||u||o||a)&&(g.ext={},g.ext.dfp_ad_unit_code=r,g.ext.gpid=u,g.ext.tid=o,g.ext.sid=a),"bidfloor"in c[0]&&(g.bidfloor=c[0].bidfloor),"bidfloorcur"in c[0]&&(g.bidfloorcur=c[0].bidfloorcur),n.imp.push(g)}else c.forEach(function(e){return k(e,"ext.gpid",u)}),(l=n.imp).push.apply(l,x(c));return n}(n,h,p,v,8e3),H+=J;var _=I(t,"ortb2")||{},y=S({},_.site||_.context),w=S({},_.user),y=(T(_)||b||(p=function(e,t,n,i,r){{var o;t.ext.ixdiag.fpd=!0,Object.keys(i).forEach(function(e){-1===oe.SITE.indexOf(e)&&delete i[e]}),Object.keys(r).forEach(function(e){-1===oe.USER.indexOf(e)&&delete r[e]}),n.device&&(o=S({},n.device.sua),T(o)||k(t,"device.sua",o))}n.hasOwnProperty("regs")&&!e.gppConsent&&(n.regs.hasOwnProperty("gpp")&&"string"==typeof n.regs.gpp&&k(t,"regs.gpp",n.regs.gpp),n.regs.hasOwnProperty("gpp_sid"))&&Array.isArray(n.regs.gpp_sid)&&k(t,"regs.gpp_sid",n.regs.gpp_sid);return t}(t,p,_,y,w),(_=j(p)).site=D({},_.site,y),_.user=D({},_.user,w),"".concat(i).concat(B(S(S({},f),{},{r:JSON.stringify(_)}))).length<8e3?(p.site=D({},p.site,y),p.user=D({},p.user,w),b=!0,_=encodeURIComponent(JSON.stringify(S(S({},y),w))).length,H+=_):R("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:O,code:z.PB_FPD_EXCEEDS_MAX_SIZE})),p=function(e,t,n,i,r,o,a){var s=e[n[i]].pbadslot,d=e[n[i]].tagId,c=e[n[i]].adUnitCode,e=e[n[i]].divId;(s||d||c||e)&&(n=j(t),i="".concat(o).concat(B(S(S({},r),{},{r:JSON.stringify(n)}))).length,N.isFeatureEnabled("pbjs_use_buildRequestV2")||i<a)&&(t.ext.ixdiag.pbadslot=s,t.ext.ixdiag.tagid=d,t.ext.ixdiag.adunitcode=c,t.ext.ixdiag.divId=e);return t}(n,p,h,v,f,i,8e3),v===h.length-1);(G||y)&&(y&&!m||(p.ext.ixdiag.sn=m),m++,l.push({method:"POST",url:i+"?s="+L,data:j(p),option:{contentType:"text/plain"},validBidRequests:e}),H=V,b=!(p.imp=[]))}return l}function be(e,t){if(t)for(var n=0;n<e.length;n++){var i=e[n];if(t[0]===i[0]&&t[1]===i[1]){e.splice(n,1);break}}}function ve(e,t){i=c(n=e,b),(r=n.nativeOrtbRequest).eventtrackers=[{event:1,methods:[1,2]}],r.privacy=1,i.native={request:JSON.stringify(r),ver:"1.2"},i.ext.tid=I(n,"ortb2Imp.ext.tid"),v(n,i,b);var n,i,r=i;0!=Object.keys(r).length&&(t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(r),t[e.transactionId].gpid=I(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=I(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=I(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=I(e,"params.tagId"),n=e.adUnitCode,i=document.getElementById(n)?n:f(n).divId,t[e.transactionId].adUnitCode=n,t[e.transactionId].divId=i)}function _e(e,t,n){(a=c(o=e,E)).banner={},(r=I(o,"params.size"))&&(a.banner.w=r[0],a.banner.h=r[1]),a.banner.topframe=g()?0:1,v(o,a,E);var i,r=a,o=u(I(e,"mediaTypes.banner.sizes"),I(e,"params.size")),a=(n.hasOwnProperty(e.transactionId)||(n[e.transactionId]={}),n[e.transactionId].gpid=I(e,"ortb2Imp.ext.gpid"),n[e.transactionId].dfp_ad_unit_code=I(e,"ortb2Imp.ext.data.adserver.adslot"),n[e.transactionId].tid=I(e,"ortb2Imp.ext.tid"),n[e.transactionId].pbadslot=I(e,"ortb2Imp.ext.data.pbadslot"),n[e.transactionId].tagId=I(e,"params.tagId"),n[e.transactionId].pos=I(e,"mediaTypes.banner.pos"),I(e,"params.id")),a=(!a||"string"!=typeof a&&"number"!=typeof a||(n[e.transactionId].sid=String(a)),e.adUnitCode),s=document.getElementById(a)?a:f(a).divId,a=(n[e.transactionId].adUnitCode=a,n[e.transactionId].divId=s,o&&(n[e.transactionId].hasOwnProperty("ixImps")||(n[e.transactionId].ixImps=[]),n[e.transactionId].ixImps.push(r)),e),s=t,o=r,n=a.transactionId;s.hasOwnProperty(n)?(i=[],be(i=s[n].hasOwnProperty("missingSizes")?s[n].missingSizes:i,a.params.size),s[n].missingSizes=i):I(a,"mediaTypes.banner.sizes")&&(be(i=j(a.mediaTypes.banner.sizes),a.params.size),a={missingSizes:i,impression:o},s[n]=a)}function ye(e){if("ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===O){var n;if(q.localStorageIsEnabled()){try{n=JSON.parse(q.getDataFromLocalStorage(M)||"{}")}catch(e){m("ix can not read ixdiag from localStorage.")}var t,i=new Date;Object.keys(n).map(function(e){var t=new Date(e);t.setDate(t.getDate()+7)-i<0&&delete n[e]}),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===O&&(t=i.toISOString().slice(0,10),e=e.arguments[1].code)&&(n[t]=n[t]||{},Number(n[t][e])||(n[t][e]=0),n[t][e]++),q.setDataInLocalStorage(M,JSON.stringify(n))}}}function we(t){t.renderer.push(function(){var e=t.adUnitCode,e=document.getElementById(e)?e:f(e).divId;e?window.createIXPlayer(e,t):m("IX Bid Adapter: adUnitCode: ".concat(e," not found on page."))})}function xe(e){var t;if("outstream"===I(e,"mediaTypes.video.context"))return!!("object"!==A(t=(t=I(e,"mediaTypes.video.renderer"))||I(e,"renderer"))||!t.url||!t.render)||t.backupOnly}e={code:O,gvlid:10,aliases:[{code:te,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:d,isBidRequestValid:function(e){ce||($.on(w.EVENTS.AUCTION_DEBUG,ye),$.on(w.EVENTS.AD_RENDER_FAILED,ye),ce=!0);var t=I(e,"params.video"),n=I(e,"params.size"),i=I(e,"mediaTypes.banner.sizes"),r=I(e,"mediaTypes.video"),o=I(e,"mediaTypes.video.playerSize"),a=e.params.hasOwnProperty("bidFloor"),s=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!l(d,e.mediaType))return m("IX Bid Adapter: media type is not supported."),!1;if(I(e,"mediaTypes.banner")&&!i)return!1;if(n){n=me(n);if(!n)return R("IX Bid Adapter: size has invalid format.",{bidder:O,code:z.BID_SIZE_INVALID_FORMAT}),!1;if(!u(e.sizes,n)&&!u(o,n)&&!u(i,n))return R("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:O,code:z.BID_SIZE_NOT_INCLUDED}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return R("IX Bid Adapter: siteId must be string or number type.",{bidder:O,code:z.SITE_ID_INVALID_VALUE}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return R("IX Bid Adapter: siteId must valid value",{bidder:O,code:z.SITE_ID_INVALID_VALUE}),!1;if((a||s)&&!(a&&s&&(o=e.params.bidFloor,i=e.params.bidFloorCur,Boolean("number"==typeof o&&"string"==typeof i&&i.match(/^[A-Z]{3}$/)))))return R("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:O,code:z.BID_FLOOR_INVALID_FORMAT}),!1;if(r&&t){n=pe(e).video,a=fe(r,t);if(I(e,"mediaTypes.video.context")===Z&&xe(e)&&n){s=[I(n,"w"),I(n,"h")];if(!(ne[0]<=s[0]&&ne[1]<=s[1]))return R("IX Bid Adapter: ".concat(s," is an invalid size for IX outstream renderer")),!1}if(a.length)return a.forEach(function(e){R(e,{bidder:O,code:z.PROPERTY_NOT_INCLUDED})}),!1}return void 0===I(o=e,"mediaTypes.native")||o.nativeOrtbRequest&&Array.isArray(o.nativeOrtbRequest.assets)&&0<o.nativeOrtbRequest.assets.length},buildRequests:function(e,t){var n,i,r,o=[],s={},d={},c={},u={};for(n in N.getFeatureToggles(),e.forEach(function(e){var t,n,i,r,o,a=Object.keys(I(e,"mediaTypes",{}));for(t in a)switch(a[t]){case E:_e(e,u,s);break;case h:i=d,o=r=void 0,o=pe(n=e),0!=Object.keys(o).length&&(i[n.transactionId]={},i[n.transactionId].ixImps=[],i[n.transactionId].ixImps.push(o),i[n.transactionId].gpid=I(n,"ortb2Imp.ext.gpid"),i[n.transactionId].dfp_ad_unit_code=I(n,"ortb2Imp.ext.data.adserver.adslot"),i[n.transactionId].pbadslot=I(n,"ortb2Imp.ext.data.pbadslot"),i[n.transactionId].tagId=I(n,"params.tagId"),o=n.adUnitCode,r=document.getElementById(o)?o:f(o).divId,i[n.transactionId].adUnitCode=o,i[n.transactionId].divId=r);break;case b:ve(e,c);break;default:m("IX Bid Adapter: ad unit mediaTypes ".concat(t," is not supported"))}}),u)if(u.hasOwnProperty(n))for(var a=u[n].missingSizes,l=(s.hasOwnProperty(n)||(s[n]={}),s[n].hasOwnProperty("missingImps")||(s[n].missingImps=[],s[n].missingCount=0),u[n].impression),p=0;p<a.length;p++){i=e[0],r=l,g=a[p],(r=j(r)).banner.w=g[0],r.banner.h=g[1],v(i,r,E);var g=r;s[n].missingImps.push(g),s[n].missingCount++}return 0<Object.keys(s).length&&o.push.apply(o,x(he(e,t,s))),0<Object.keys(d).length&&o.push.apply(o,x(he(e,t,d))),0<Object.keys(c).length&&o.push.apply(o,x(he(e,t,c))),o},interpretResponse:function(e,t){var n=[],i=null;if(e.hasOwnProperty("body")&&e.body.hasOwnProperty("seatbid"))for(var r=e.body,o=r.seatbid,a=0;a<o.length;a++)if(o[a].hasOwnProperty("bid")){for(var s=o[a].bid,d=t.data,c=0;c<s.length;c++){var u=function(t,e,n){if(t)return S(S({},Y(n,function(e){return e.bidId===t})),Y(e,function(e){return e.id===t}))}(s[c].impid,d.imp,t.validBidRequests);if((i=function(e,t,n){var i={},r=!(!I(e,"exp")||!C(e.exp)),o=I(e,"dealid")||I(e,"ext.dealid"),o=(ie.hasOwnProperty(t)?i.cpm=e.price/ie[t]:i.cpm=e.price/100,i.requestId=e.impid,o&&(i.dealId=o),i.netRevenue=!0,i.currency=t,i.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=le||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(i.vastUrl=e.ext.vasturl):i.vastXml=e.adm,null);if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{o=JSON.parse(e.adm)}catch(e){m("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==le?(i.width=n.video.w,i.height=n.video.h,i.mediaType=h,i.mediaTypes=n.mediaTypes,i.ttl=r?e.exp:3600):o&&o.native?(i.native={ortb:o.native},i.width=e.w||1,i.height=e.h||1,i.mediaType=b,i.ttl=r?e.exp:3600):(i.ad=e.adm,i.width=e.w,i.height=e.h,i.mediaType=E,i.ttl=r?e.exp:300),i.meta={},i.meta.networkId=I(e,"ext.dspid"),i.meta.brandId=I(e,"ext.advbrandid"),i.meta.brandName=I(e,"ext.advbrand"),e.adomain&&0<e.adomain.length&&(i.meta.advertiserDomains=e.adomain),i}(s[c],r.cur,u)).mediaType===h&&xe(u)){u=I(r,"ext.videoplayerurl");if(i.renderer=function(e,t){e=ee.install({id:e,url:t,loaded:!1});try{e.setRender(we)}catch(e){return m("Prebid Error calling setRender on renderer",e),null}return t?e:(m("Outstream renderer URL not found"),null)}(s[c].bidId,u),!i.renderer)continue}n.push(i)}if(I(d,"ext.ixdiag.err")&&q.localStorageIsEnabled())try{q.removeDataFromLocalStorage(M)}catch(e){R("ix can not clear ixdiag from localStorage.")}}return N.setFeatureToggles(e),n},transformBidParams:function(e,t){return p({siteID:"number"},e)},getUserSyncs:function(e,t){var n=[],i=null;if(void 0!==(i=0<t.length?I(t[0],"body.ext.publishersyncsperbidderoverride"):i)&&0==i)return[];if(e.iframeEnabled)n.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var r=null;0===(r=P.getConfig("userSync")?P.getConfig("userSync").syncsPerBidder:r)&&(r=i);for(var r=i&&(0===r||r)?r<i?r:i:1,o=0;o<r;o++)n.push({type:"image",url:function(e,t){var n="",i="0";F&&F.hasOwnProperty("gdprApplies")&&(i=F.gdprApplies?"1":"0");F&&F.hasOwnProperty("consentString")&&(n=F.consentString||"");return"https://dsum.casalemedia.com/pbusermatch?origin=prebid&site_id="+L.toString()+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+i+"&gdpr_consent="+n+"&us_privacy="+(ue||"")}(r,o)})}return n}};r.exports=t("../shim.js").wrap({spec:e,unitIDKey:"siteId",floorKey:"bidFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":55}],5:[function(e,t,n){"use strict";var i=e("../shim.js").polyfills,o=(i.registerBidder,i.BANNER),r=i.getStorageManager,a=i.ajax,s=i.config,d="https://trc.lhmos.com/prebid",c=r({bidderCode:"lasso"}),i={code:"lasso",isBidRequestValid:function(e){return!(!e.params||!e.params.adUnitId)},buildRequests:function(e,i){var r;return 0===e.length?[]:(r="",c.cookiesAreEnabled&&(r=c.getCookie("aim-xr",void 0)),e.map(function(e){var t=[],n=(e.mediaTypes&&e.mediaTypes[o]&&e.mediaTypes[o].sizes&&(t=e.mediaTypes[o].sizes),{auctionStart:i.auctionStart,url:encodeURIComponent(window.location.href),bidderRequestId:e.bidderRequestId,adUnitCode:e.adUnitCode,auctionId:e.auctionId,bidId:e.bidId,transactionId:e.transactionId,device:encodeURIComponent(JSON.stringify((n=window.top,{ua:navigator.userAgent,width:n.innerWidth||n.document.documentElement.clientWidth||n.document.body.clientWidth,height:n.innerHeight||n.document.documentElement.clientHeight||n.document.body.clientHeight,browserLanguage:navigator.language}))),sizes:t,aimXR:r,uid:"$UID",params:JSON.stringify(e.params),crumbs:JSON.stringify(e.crumbs),prebidVersion:"7.44.0",version:3,coppa:1==s.getConfig("coppa")?1:0,ccpa:i.uspConsent||void 0});return{method:"GET",url:function(e,t){var n="/request";t&&t.dtc&&(n="/dtc-request");return e?d+n:"https://secure.adnxs.com/getuid?"+d+n}(r,e.params),data:n,options:{withCredentials:!0}}}))},interpretResponse:function(e){var e=e&&e.body,t=[];return e&&e.bid.ad&&(e={requestId:e.bidid,cpm:e.bid.price,currency:e.cur,width:e.bid.w,height:e.bid.h,creativeId:e.bid.crid,netRevenue:e.netRevenue,ttl:e.ttl,ad:e.bid.ad,mediaType:e.bid.mediaType,meta:{secondaryCatIds:e.bid.cat,advertiserDomains:e.bid.advertiserDomains,advertiserName:e.meta.advertiserName,mediaType:e.bid.mediaType}},t.push(e)),t},onTimeout:function(e){null!==e&&a(d+"/timeout",null,JSON.stringify(e),{method:"POST",withCredentials:!1})},onBidWon:function(e){a(d+"/won",null,JSON.stringify(e),{method:"POST",withCredentials:!1})},supportedMediaTypes:[o]};t.exports=e("../shim.js").wrap({spec:i,unitIDKey:"adUnitId",floorKey:!1,floorStr:!1,uspSupport:!0,gdprSupport:!1})},{"../shim.js":55}],6:[function(e,t,z){"use strict";var l=e("../shim.js").polyfills,i=l.buildUrl,p=l.deepAccess,o=l.getGptSlotInfoForAdUnitCode,r=l.getWindowTop,a=l.isArray,g=l.isEmpty,n=l.isEmptyStr,s=l.isStr,d=l.logError,c=l.logInfo,u=l.triggerPixel,f=(l.registerBidder,l.config),m=l.BANNER,h=l.NATIVE,b=l.VIDEO,v=l.getRefererInfo,_=l.Renderer,y=l.convertOrtbRequestToProprietaryNative,w=l.getGlobal,x="medianet",A="https://prebid.media.net/video/bundle.js",S={NOT_DETERMINED:0,ABOVE_THE_FOLD:1,BELOW_THE_FOLD:2},I="client_timeout",j="client_bid_won",v=v(),k={};window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],k.urlData={domain:v.domain,page:v.page,isTop:v.reachedTop};function U(e,t){var n,t=t.refererInfo,e={domain:(e=e||{}).domain||t.domain,page:e.page||t.page,ref:e.ref||function(){try{return window.top.document.referrer}catch(e){return document.referrer}}(),topMostLocation:t.topmostLocation,isTop:e.isTop||t.reachedTop};return l.utils.assign(e,(k.pageMeta||(t=T('link[rel="canonical"]',"href"),e=T('meta[property="og:url"]',"content"),n=T('meta[name="twitter:url"]',"content"),k.pageMeta=l.utils.assign({},t&&{canonical_url:t},e&&{og_url:e},n&&{twitter_url:n})),k.pageMeta))}function T(e,t){var e=function(e,t){try{var n=r().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(e){}}(e,t);return e&&(t=e,(e=r().document.createElement("a")).href=t,e.href)}function C(e,t){return e.filter(function(e){return e.type===t})}function R(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function M(e){var t={id:e.bidId,transactionId:e.transactionId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params},n=(e.ortb2Imp&&(t.ortb2Imp=e.ortb2Imp),p(e,"mediaTypes.banner.sizes")||[]),i=p(e,"mediaTypes.video")||{},r=p(e,"params.video")||{},r=l.utils.assign({},r,i);if(g(r)||(t.video=r),0<n.length&&(t.banner=a(i=n)&&2===i.length&&!a(i[0])?[R(i)]:i.map(R)),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){d("".concat(x," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(t.tagid=e.params.crid.toString());r=parseFloat(e.params.bidfloor||e.params.bidFloor),r&&(t.bidfloor=r),n=e.adUnitCode,(i=document.getElementById(n))||-1===n.indexOf("/")||(n=o(n).divId,s(n)&&(i=document.getElementById(n))),r=i&&i.getBoundingClientRect?(n=i.getBoundingClientRect(),(i={}).top_left={y:n.top,x:n.left},i.bottom_right={y:n.bottom,x:n.right},i):null,r&&t.banner&&0!==t.banner.length?(n={top_left:{x:r.top_left.x+window.pageXOffset,y:r.top_left.y+window.pageYOffset},bottom_right:{x:r.bottom_right.x+window.pageXOffset,y:r.bottom_right.y+window.pageYOffset}},t.ext.coordinates=n,t.ext.viewability=E(r.top_left,B(t.banner)),.5<E(n.top_left,B(t.banner))?t.ext.visibility=S.ABOVE_THE_FOLD:t.ext.visibility=S.BELOW_THE_FOLD):t.ext.visibility=S.NOT_DETERMINED,i=function(n){var i=[];"function"==typeof n.getFloor&&[m,b,h].forEach(function(t){n.mediaTypes.hasOwnProperty(t)&&(t==m?n.mediaTypes.banner.sizes.forEach(function(e){D(n,t,e,i)}):D(n,t,"*",i))});return i}(e);return i&&0<i.length&&(t.bidfloors=i),t}function D(e,t,n,i){e=e.getFloor({currency:"USD",mediaType:t,size:n});1<n.length&&(e.size=n),e.mediaType=t,i.push(e)}function B(e){return e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e})}function E(e,t){var n=t.w*t.h,i=O.getWindowSize(),t={x:e.x+t.w,y:e.y+t.h};return 0==n||-1===i.w||-1===i.h?0:function(e,t,n,i){if(e.x>i.x||t.x<n.x||e.y>i.y||t.y<n.y)return 0;return(Math.min(t.x,i.x)-Math.max(e.x,n.x))*(Math.min(t.y,i.y)-Math.max(e.y,n.y))}(e,t,{x:0,y:0},{x:i.w,y:i.h})/n}function q(e,t){return{site:U(e[0].params.site,t),ext:(n=e[0],i=t,r=p(n,"params"),o=p(i,"gdprConsent"),i=p(i,"uspConsent"),a=p(n,"userId"),n=p(n,"schain")||{},s=O.getWindowSize(),d=!(!o||!o.gdprApplies),c=!!i,u=!!f.getConfig("coppa"),l.utils.assign({},{customer_id:r.cid},{prebid_version:w().version},{gdpr_applies:d},d&&{gdpr_consent_string:o.consentString||""},{usp_applies:c},c&&{usp_consent_string:i||""},{coppa_applies:u},-1!==s.w&&-1!==s.h&&{screen:s},a&&{user_id:a},w().medianetGlobals.analyticsEnabled&&{analytics:!0},!g(n)&&{schain:n})),id:e[0].auctionId,imp:e.map(M),ortb2:t.ortb2,tmax:t.timeout||f.getConfig("bidderTimeout")};var n,i,r,o,a,s,d,c,u}function P(e,t){var n,t={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:(e=e,t=a(t=t)&&t||[],(n={logid:"kfk",evtid:"projectevents",project:"prebid"}).acid=p(t,"0.auctionId")||"",n.cid=w().medianetGlobals.cid||"",n.crid=t.map(function(e){return p(e,"params.0.crid")||e.adUnitCode}).join("|"),n.adunit_count=t.length||0,n.dn=k.urlData.domain||"",n.requrl=k.urlData.page||"",n.istop=k.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n)};u(i(t))}function N(e){var t=p(e,"context")||"",n=p(e,"vto");"outstream"==t&&n&&(e.renderer=((t=_.install({url:A})).setRender(function(n){window.mnet.queue.push(function(){var e={width:n.width,height:n.height,vastTimeout:n.vto,maxAllowedVastTagRedirects:n.mavtr,allowVpaid:n.avp,autoPlay:n.ap,preload:n.pl,mute:n.mt},t=n.dfp_id,t=o(t).divId||t;window.mnet.mediaNetoutstreamPlayer(n,t,e)})}),t))}w().medianetGlobals=w().medianetGlobals||{};var O={code:x,gvlid:142,aliases:[{code:"aax",gvlid:720}],supportedMediaTypes:[m,h,b],isBidRequestValid:function(e){return e.params?e.params.cid&&s(e.params.cid)&&!n(e.params.cid)?(l.utils.assign(w().medianetGlobals,!w().medianetGlobals.cid&&{cid:e.params.cid}),!0):(d("".concat(x," : cid should be a string")),!1):(d("".concat(x," : Missing bid parameters")),!1)},buildRequests:function(e,t){e=q(e=y(e),t);return{method:"POST",url:(t=e.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(t)),data:JSON.stringify(e)}},interpretResponse:function(e,t){var n=[];return e&&e.body?(e=e.body.bidList,a(e)&&0!==e.length?(n=e.filter(function(e){return!1===(e=e).no_bid&&0<parseFloat(e.cpm)})).forEach(N):c("".concat(x," : no bids"))):c("".concat(x," : response is empty")),n},getUserSyncs:function(e,t){t=!g(t=t)&&t[0].body&&t[0].body.ext&&a(t[0].body.ext.csUrl)?t[0].body.ext.csUrl:[];return e.iframeEnabled?C(t,"iframe"):e.pixelEnabled?C(t,"image"):void 0},onTimeout:function(e){try{P({name:I,value:e.length,related_data:e[0].timeout||f.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{P({name:j,value:e.cpm},[e])}catch(e){}},clearMnData:function(){k={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};t.exports=e("../shim.js").wrap({spec:O,unitIDKey:"crid",floorKey:"bidfloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":55}],7:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(e,t,n){return(t=function(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],d=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;d=!1}else for(;!(d=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);d=!0);}catch(e){c=!0,r=e}finally{try{if(!d&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?d(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c=e("../shim.js").polyfills,u=c.config,l=(c.registerBidder,c.utils),p=c.mergeDeep,g=c.BANNER,f=c.VIDEO,m=c.ortbConverter,h=c.convertTypes,b="https://rtb.openx.net/openrtbb/prebidjs",v={code:"openx",gvlid:69,supportedMediaTypes:[g,f],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;if(l.deepAccess(e,"mediaTypes.banner")&&t)return!!e.params.unit||0<l.deepAccess(e,"mediaTypes.banner.sizes.length");return!(!e.params.unit||!t)},buildRequests:function(e,t){var n=e.filter(w),e=e.filter(function(e){return e=e,l.deepAccess(e,"mediaTypes.banner")||!w(e)}),i=e.length?[y(e,t,g)]:[];return n.forEach(function(e){i.push(y([e],t,f))}),i},interpretResponse:function(e,t){e.body||(e.body={nbr:0});return _.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,n,i){{var r,o;if(e.iframeEnabled||e.pixelEnabled)return e=e.iframeEnabled?"iframe":"image",r=[],o="https://u.openx.net/w/1.0/pd",n&&(r.push("gdpr="+(n.gdprApplies?1:0)),r.push("gdpr_consent="+encodeURIComponent(n.consentString||""))),i&&r.push("us_privacy="+encodeURIComponent(i)),0<t.length&&t[0].body&&t[0].body.ext?(n=t[0].body.ext).delDomain?o="https://".concat(n.delDomain,"/w/1.0/pd"):n.platform&&r.push("ph="+n.platform):r.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba"),[{type:e,url:"".concat(o).concat(0<r.length?"?"+r.join("&"):"")}]}},transformBidParams:function(e,t){return h({unit:"string",customFloor:"number"},e)}},_=(t.exports=e("../shim.js").wrap({spec:v,unitIDKey:"unit",floorKey:"customFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0}),m({context:{netRevenue:!0,ttl:300},imp:function(e,t,n){e=e(t,n);return p(e,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&l.deepSetValue(e,"ext.customParams",t.params.customParams),t.params.customFloor&&!e.bidfloor&&(e.bidfloor=t.params.customFloor),e},request:function(e,t,n,i){e=e(t,n,i),p(e,{at:1,ext:{bc:"".concat("hb_pb_ortb","_").concat("2.0"),pv:"8.37.0"}}),t=i.bidRequests[0];return t.params.coppa&&l.deepSetValue(e,"regs.coppa",1),t.params.doNotTrack&&l.deepSetValue(e,"device.dnt",1),t.params.platform&&l.deepSetValue(e,"ext.platform",t.params.platform),t.params.delDomain&&l.deepSetValue(e,"ext.delDomain",t.params.delDomain),t.params.response_template_name&&l.deepSetValue(e,"ext.response_template_name",t.params.response_template_name),t.params.test&&(e.test=1),e},bidResponse:function(e,t,n){e=e(t,n),t.ext&&(e.meta.networkId=t.ext.dsp_id,e.meta.advertiserId=t.ext.buyer_id,e.meta.brandId=t.ext.brand_id),n=n.ortbResponse;return n.ext&&n.ext.paf&&(e.meta.paf=c.utils.assign({},n.ext.paf),e.meta.paf.content_id=l.deepAccess(t,"ext.paf.content_id")),e},response:function(e,t,n,i){var r=i.ortbRequest,r=(r.ext&&(r.ext.delDomain&&l.deepSetValue(n,"ext.delDomain",r.ext.delDomain),r.ext.platform)&&l.deepSetValue(n,"ext.platform",r.ext.platform),e(t,n,i)),e=l.deepAccess(n,"ext.fledge_auction_configs");return e?(e=Object.entries(e).map(function(e){var e=s(e,2),t=e[0],e=e[1];return{bidId:t,config:p(c.utils.assign({},e),{auctionSignals:{ortb2Imp:null==(e=i.impContext[t])?void 0:e.imp}})}}),{bids:r.bids,fledgeAuctionConfigs:e}):r.bids},overrides:{imp:{bidfloor:function(e,t,n,i){var r={};e(r,n,o(o({},i),{},{currency:"USD"})),"USD"===r.bidfloorcur&&c.utils.assign(t,r)},video:function(e,t,n,i){var r;FEATURES.VIDEO&&((r=n.mediaTypes[f])&&(r=c.utils.assign({},r,n.params.video),n=o(o({},n),{},{mediaTypes:a({},f,r)})),e(t,n,i),t.video)&&"outstream"===(null==(e=r)?void 0:e.context)&&(t.video.placement=t.video.placement||4)}}}}));function y(e,t,n){return{method:"POST",url:u.getConfig("openxOrtbUrl")||b,data:_.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:n}})}}function w(e){return l.deepAccess(e,"mediaTypes.video")}},{"../shim.js":55}],8:[function(e,t,z){"use strict";function n(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function f(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?i(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../shim.js").polyfills,o=r.ortbConverter,a=r.pbsExtensions,b=(r.registerBidder,r.config),v=r.BANNER,u=r.NATIVE,l=r.VIDEO,_=r.find,d=r.getGlobal,s=r.Renderer,c=r.convertTypes,y=r.deepAccess,p=r.deepSetValue,U=r.formatQS,M=r.isArray,g=r.isNumber,w=r.isStr,x=r.logError,A=r.logMessage,S=r.logWarn,I=r.mergeDeep,q=r.parseSizesInput,r=r._each,j={},k=(b.getConfig("rubicon",function(e){I(j,e.rubicon)}),{1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160"}),T=(r(k,function(e,t){return k[e]=t}),o({request:function(e,t,n,i){var r=i.bidRequests,e=e(t,n,i),n=(e.cur=["USD"],e.test=b.getConfig("debug")?1:0,p(e,"ext.prebid.cache",{vastxml:{returnCreative:!0===j.returnVast}}),p(e,"ext.prebid.bidders",{rubicon:{integration:j.int_type||"pbjs"}}),p(e,"ext.prebid.targeting.pricegranularity",{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(t=b).getConfig("customPriceBucket")&&t.getConfig("customPriceBucket").buckets}[t.getConfig("priceGranularity")]}),d().installedModules),o=(!n||n.length&&-1===n.indexOf("rubiconAnalyticsAdapter")||p(e,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),e),i=r,a={},s=new Set;return i.forEach(function(e){var t={user:{ext:{data:f({},e.params.visitor)}},site:{ext:{data:f({},e.params.inventory)}}},n=o.imp.find(function(e){return null==(e=e.ext)||null==(e=e.prebid)||null==(e=e.bidder)||null==(e=e.rubicon)||null==(e=e.video)?void 0:e.language}),n=(n&&(t.site.content={language:null==(n=n.ext)||null==(n=n.prebid)||null==(n=n.bidder)||null==(n=n.rubicon)||null==(n=n.video)?void 0:n.language}),e.params.keywords&&(Array.isArray(e.params.keywords)?e.params.keywords:e.params.keywords.split(",")).forEach(function(e){return s.add(e)}),a=I(a,e.ortb2||{},t),b.getConfig("user.id"));a.user.id=a.user.id||n}),I(o,a),s&&s.size&&p(o,"site.keywords",Array.from(s.values()).join(",")),null!=o&&null!=(i=o.ext)&&null!=(i=i.prebid)&&delete i.storedrequest,null!=e&&null!=(t=e.ext)&&null!=(n=t.prebid)&&delete n.storedrequest,!0===j.disableFloors&&delete e.ext.prebid.floors,0<r.filter(function(e){return"object"===h(e.floorData)}).length&&(e.ext.prebid.floors={enabled:!1}),e},imp:function(e,t,n){var i=B(t);if(!i.includes(v)||1!=i.length)return(i=e(t,n)).id=t.adUnitCode,delete i.banner,b.getConfig("s2sConfig.defaultTtl")&&(i.exp=b.getConfig("s2sConfig.defaultTtl")),"atf"===t.params.position&&(i.video.pos=1),"btf"===t.params.position&&(i.video.pos=3),null!=(e=i.ext)&&null!=(n=e.prebid)&&delete n.storedrequest,e=t,"USD"!=(n=i).bidfloorcur&&(delete n.bidfloor,delete n.bidfloorcur),n.bidfloor||(e=parseFloat(y(e,"params.floor")),isNaN(e))||(n.bidfloor=e,n.bidfloorcur="USD"),i},bidResponse:function(e,t,n){(e=e(t,n)).meta.mediaType=y(t,"ext.prebid.type");n=n.bidRequest;return e.mediaType===l&&"outstream"===n.mediaTypes.video.context&&(e.renderer=function(e){e=s.install({id:e.adId,url:j.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:j.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{e.setRender(N)}catch(e){S("Prebid Error calling setRender on renderer",e)}return e}(e)),e.width=t.w||y(n,"mediaTypes.video.w")||y(n,"params.video.playerWidth"),e.height=t.h||y(n,"mediaTypes.video.h")||y(n,"params.video.playerHeight"),y(t,"ext.bidder.rp.advid")&&p(e,"meta.advertiserId",t.ext.bidder.rp.advid),e},context:{netRevenue:!1!==j.netRevenue,ttl:300},processors:a})),C={code:"rubicon",gvlid:52,supportedMediaTypes:[v,l,u],isBidRequestValid:function(e){var t=!0;if("object"!==h(e.params))return!1;for(var n=0,i=["accountId","siteId","zoneId"];n<i.length;n++)if(e.params[i[n]]=parseInt(e.params[i[n]]),isNaN(e.params[i[n]]))return x("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var r,o,a,s,d=B(e,!0);if(!d.length)return!1;d.includes(l)&&(r=e,o=!0,a=Object.prototype.toString.call([]),c=Object.prototype.toString.call(0),s={mimes:a,protocols:a,linearity:c,api:a},Object.keys(s).forEach(function(e){Object.prototype.toString.call(y(r,"mediaTypes.video."+e))!==s[e]&&(o=!1,x("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+s[e]))}),t=o);var c=0<[v,u].filter(function(e){return d.includes(e)}).length;return c?t&&c:t},buildRequests:function(e,r){var o,t=[],n=e.filter(function(e){var t=B(e)||[],n=t.length,e=e.params||{},i=e.bidonmultiformat,e=e.video;return 1===n&&(t.includes(l)||t.includes(u))||2===n&&!t.includes(v)||e&&t.includes(l)||i&&(t.includes(l)||t.includes(u))}),i=(n&&n.length&&(i=T.toORTB({bidRequests:n,bidderRequest:r}),t.push({method:"POST",url:"https://".concat(j.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:i,bidRequest:n})),e.filter(function(e){var t=B(e)||[],e=e.params||{},n=e.bidonmultiformat,e=e.video;return t.includes(v)&&(1===t.length||n||!n&&!e||!n&&e&&!t.includes(l))}));return!0!==b.getConfig("rubicon.singleRequest")?t.concat(i.map(function(e){var i=C.createSlotParams(e,r);return{method:"GET",url:"https://".concat(j.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:C.getOrderedParams(i).reduce(function(e,t){var n=i[t];return w(n)&&""!==n||g(n)?"".concat(e).concat(P(t,n),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(o=i.reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(o).reduce(function(t,e){var n,i;return n=o[e],i=10,n.map(function(e,t){return t%i==0?n.slice(t,t+i):null}).filter(function(e){return e}).forEach(function(e){var i=C.combineSlotUrlParams(e.map(function(e){return C.createSlotParams(e,r)}));t.push({method:"GET",url:"https://".concat(j.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:C.getOrderedParams(i).reduce(function(e,t){var n=i[t];return w(n)&&""!==n||g(n)?"".concat(e).concat(P(t,n),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,i=/^eid_|^tpid_/,r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter(function(e){return i.test(e)})).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return r.concat(Object.keys(e).filter(function(e){return-1===r.indexOf(e)}))},combineSlotUrlParams:function(r){var i,o;return 1===r.length?r[0]:(i=r.reduce(function(t,n,i){return Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(r.length)),t[e].splice(i,1,n[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$"),Object.keys(i).forEach(function(e){var t=i[e].join(";"),n=t.match(o);i[e]=n?n[1]:t}),i)},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n=e.params,i=R(e,"banner"),r=m(n.latLong||[],2),o=r[0],r=r[1],a={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:.01<=(n.floor=parseFloat(n.floor))?n.floor:void 0,rp_secure:"1",tk_flint:"".concat(j.int_type||"pbjs_lite","_v7.44.0"),"x_source.tid":e.transactionId,"x_imp.ext.tid":e.transactionId,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"p_geo.longitude":isNaN(parseFloat(r))?void 0:parseFloat(r).toFixed(4),"tg_fl.eid":e.code,rf:function(e,t){t=e.params.referrer||t.refererInfo.page;return e.params.secure?t.replace(/^http:/i,"https:"):t}(e,t)};if("function"==typeof e.getFloor&&!j.disableFloors){try{s=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){x("Rubicon: getFloor threw an error: ",e)}a.rp_hard_floor="object"!==h(s)||"USD"!==s.currency||isNaN(parseInt(s.floor))?void 0:s.floor}var s,d,c,u,l,p,i={1:"atf",3:"btf"}[y(e,"mediaTypes.banner.pos")]||"",o=(a.p_pos="atf"===n.position||"btf"===n.position?n.position:i,b.getConfig("user.id"));function g(e,t,n){var i,r,o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],e=(e=e,r=t,"data"===(i=n)&&Array.isArray(e)?e.filter(function(e){return e.segment&&y(e,"ext.segtax")&&l[r]&&-1!==l[r].indexOf(y(e,"ext.segtax"))}).map(function(e){e=e.segment.filter(function(e){return e.id}).reduce(function(e,t){return e.push(t.id),e},[]);if(0<e.length)return e.toString()}).toString():"object"===h(e)&&!Array.isArray(e)||void 0===e?void 0:(Array.isArray(e)?e.filter(function(e){if("object"!==h(e)&&void 0!==e)return e.toString();S("Rubicon: Filtered value: ",e,"for key",i,": Expected value to be string, integer, or an array of strings/ints")}):e).toString()),o=p[n]&&o?"".concat(p[n]):"data"===n?"".concat(p[t],"iab"):"".concat(p[t]).concat(n);d[o]=d[o]?d[o].concat(",",e):e}return o&&(a.ppuid=o),e.userIdAsEids&&e.userIdAsEids.forEach(function(t){try{var e;"adserver.org"===t.source?(a.tpid_tdid=t.uids[0].id,a["eid_adserver.org"]=t.uids[0].id):"liveintent.com"===t.source?(a["tpid_liveintent.com"]=t.uids[0].id,a["eid_liveintent.com"]=t.uids[0].id,t.ext&&Array.isArray(t.ext.segments)&&t.ext.segments.length&&(a["tg_v.LIseg"]=t.ext.segments.join(","))):"liveramp.com"===t.source?a.x_liverampidl=t.uids[0].id:"id5-sync.com"===t.source?a["eid_id5-sync.com"]="".concat(t.uids[0].id,"^").concat(t.uids[0].atype,"^").concat(t.uids[0].ext&&t.uids[0].ext.linkType||""):a["eid_".concat(t.source)]="".concat(t.uids[0].id,"^").concat(t.uids[0].atype||""),a.ppuid||(e=_(t.uids,function(e){return e.ext&&"ppuid"===e.ext.stype}))&&e.id&&(a.ppuid=e.id)}catch(e){S("Rubicon: error reading eid:",t,e)}}),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(a.gdpr=Number(t.gdprConsent.gdprApplies)),a.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(a.us_privacy=encodeURIComponent(t.uspConsent)),t.gppConsent&&t.gppConsent.gppString&&(a.gpp=t.gppConsent.gppString,a.gpp_sid=(t.gppConsent.applicableSections||[]).toString()),a.rp_maxbids=t.bidLimit||1,r=v,d=a,n={user:{ext:{data:f({},(s=e).params.visitor)}},site:{ext:{data:f({},s.params.inventory)}}},s.params.keywords&&(n.site.keywords=M(s.params.keywords)?s.params.keywords.join(","):s.params.keywords),c=I({},s.ortb2||{},n),n=y(s.ortb2Imp,"ext")||{},u=y(s.ortb2Imp,"ext.data")||{},s=y(s,"ortb2Imp.ext.gpid"),l={user:[4],site:[1,2,5,6]},p={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},r===v?(["site","user"].forEach(function(t){Object.keys(c[t]).forEach(function(e){"site"===t&&"content"===e&&c[t][e].data?g(c[t][e].data,t,"data"):"ext"!==e?g(c[t][e],t,e):c[t][e].data&&Object.keys(c[t].ext.data).forEach(function(e){g(c[t].ext.data[e],t,e,!1)})})}),Object.keys(u).forEach(function(e){"adserver"!==e?g(u[e],"site",e):"gam"===u[e].name&&g(u[e].adslot,name,e)}),s&&(d.p_gpid=s),d["tg_i.pbadslot"]&&delete d["tg_i.dfp_ad_unit_code"]):(Object.keys(n).length&&I(d.imp[0].ext,n),s&&(d.imp[0].ext.gpid=s),I(d,c)),!0===b.getConfig("coppa")&&(a.coppa=1),e.schain&&E(e.schain)&&(a.rp_schain=C.serializeSupplyChain(e.schain)),a},serializeSupplyChain:function(e){var t,n;return E(e)?(t=e.ver,n=e.complete,e=e.nodes,"".concat(t,",").concat(n,"!").concat(C.serializeSupplyChainNodes(e))):""},serializeSupplyChainNodes:function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(s,e){s=s.body;var t,d,c,u,n=e.data;return s&&"object"===h(s)?s.seatbid?(t=y(s,"ext.errors.rubicon"),Array.isArray(t)&&0<t.length&&S("Rubicon: Error in video response"),T.fromORTB({request:n,response:s}).bids):(t=s.ads,c=0,"object"===h(u=e.bidRequest)&&!Array.isArray(u)&&B(u).includes(l)&&"object"===h(t)&&(t=t[u.adUnitCode]),!Array.isArray(t)||t.length<1?[]:t.reduce(function(e,t,n){var i,r,o,a;return t.impression_id&&d===t.impression_id?c++:d=t.impression_id,"ok"===t.status&&((i=Array.isArray(u)?u[n-c]:u)&&"object"===h(i)?(r={requestId:i.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==j.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network,mediaType:v}},t.creative_type&&(r.mediaType=t.creative_type),t.adomain&&(r.meta.advertiserDomains=Array.isArray(t.adomain)?t.adomain:[t.adomain]),t.creative_type===l?(r.width=i.params.video.playerWidth,r.height=i.params.video.playerHeight,r.vastUrl=t.creative_depot_url,r.impression_id=t.impression_id,r.videoCacheKey=t.impression_id):(r.ad=(o=t.script,a=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(a,"'>\n<script type='text/javascript'>").concat(o,"<\/script>\n</div>\n</body>\n</html>")),a=m(k[t.size_id].split("x").map(function(e){return Number(e)}),2),r.width=a[0],r.height=a[1]),r.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:i.adUnitCode}),e.push(r)):x("Rubicon: bidRequest undefined at index position:".concat(n),u,s)),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})):[]},getUserSyncs:function(e,t,n,i){if(!O&&e.iframeEnabled)return e={},n&&("boolean"==typeof n.gdprApplies&&(e.gdpr=Number(n.gdprApplies)),"string"==typeof n.consentString)&&(e.gdpr_consent=n.consentString),i&&(e.us_privacy=encodeURIComponent(i)),e=Object.keys(e).length?"?".concat(U(e)):"",O=!0,{type:"iframe",url:"https://".concat(j.syncHost||"eus",".rubiconproject.com/usync.html")+e}},transformBidParams:function(e,t){return c({accountId:"number",siteId:"number",zoneId:"number"},e)}};function N(e){var t,n=document.getElementById(e.adUnitCode),i=((t=(t=n).querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),(t=(t=(t=n).querySelector("script[id^='sas_script']"))&&t.nextSibling)&&"iframe"===t.localName&&t.style.setProperty("display","none"),e.renderer.getConfig());e.renderer.push(function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:n,align:i.align||"center",position:i.position||"append"},closeButton:i.closeButton||!1,label:i.label||void 0,collapse:i.collapse||!0})})}function R(e,t){var r,n=e.params;return t===l?(t=[],n.video&&n.video.playerWidth&&n.video.playerHeight?t=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(y(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?t=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(t=e.sizes[0]),t):(t=[],Array.isArray(n.sizes)?t=n.sizes:void 0!==y(e,"mediaTypes.banner.sizes")?t=D(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?t=D(e.sizes):S("Rubicon: no sizes are setup or found"),r=[15,2,9],t.sort(function(e,t){var n=r.indexOf(e),i=r.indexOf(t);return-1<n||-1<i?-1===n?1:-1===i?-1:n-i:e-t}))}function D(e){return q(e).reduce(function(e,t){t=parseInt(k[t],10);return t&&e.push(t),e},[])}function B(e,t){var n,i,r,o,a,t=1<arguments.length&&void 0!==t&&t,s=[];if(i=void 0!==y(n=e,"mediaTypes.".concat(l)),r=void 0!==y(n,"mediaTypes.".concat(v)),o=void 0!==y(n,"params.bidonmultiformat"),a="object"!==h(y(n,"params.video")),i&&o||((i=r&&a?!1:i)&&a&&p(n,"params.video",{}),i)){if(-1===["outstream","instream"].indexOf(y(e,"mediaTypes.".concat(l,".context"))))return t&&x("Rubicon: mediaTypes.video.context must be outstream or instream"),s;if(R(e,l).length<2)return t&&x("Rubicon: could not determine the playerSize of the video"),s;t&&A("Rubicon: making video request for adUnit",e.adUnitCode),s.push(l)}if(void 0!==y(e,"mediaTypes.".concat(u))&&s.push(u),void 0!==y(e,"mediaTypes.".concat(v))){if(0===R(e,v).length)return t&&x("Rubicon: could not determine the sizes for banner request"),s;t&&A("Rubicon: making banner request for adUnit",e.adUnitCode),s.push(v)}return s}function E(e){var n=["asi","sid","hp"];return!!e.nodes&&((e=e.nodes.reduce(function(e,t){return e&&n.every(function(e){return t.hasOwnProperty(e)})},!0))||x("Rubicon: required schain params missing"),e)}function P(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var O=!1;t.exports=e("../shim.js").wrap({spec:C,unitIDKey:"zoneId",floorKey:"floor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":55}],9:[function(e,t,n){var p=e("../utils.js"),g=e("../ajax.js"),f=e("../config.js");t.exports=function(d,e,c){var t={},u=this,l=0;f.afterConsent(function(e,t){}),this.getPrebidWinCtr=function(){return 0},this.execute=function(o){var e=p.vp(),t=p.url(),n=o.toPrebid(!0),i={device:{w:e.w,h:e.h},ext:{prebid:{auctiontimestamp:n.timestamp,aliases:{pgRubicon:"rubicon"},aliasgvlids:{pgRubicon:52},targeting:{includewinners:!0,includebidderkeys:!1}}},id:n.auctionId,imp:[],site:{page:t.protocol+"//"+t.domain+t.page,publisher:{id:c.accountId}},source:{tid:n.auctionId},tmax:o.max_ms,test:p.isdebug()?1:0},e=(i.site.ext={data:{url:AdBridg.gpt.pubads().getTargeting("url")[0]?AdBridg.gpt.pubads().getTargeting("url")[0]:t.href,msiteactive:AdBridg.gpt.pubads().getTargeting("msiteactive")[0]?AdBridg.gpt.pubads().getTargeting("msiteactive")[0]:""}},f.libSettings("pub")),r=(e&&e.k1&&(i.site.ext.data.k1=e.k1,i.site.ext.data.k2=e.k2||""),{url:"https://prebid-server.rubiconproject.com/openrtb2/auction",method:"POST",contentType:"text/plain",withCredentials:!0,parseResponseJson:!0}),a=!1,s={};o.eachBidRequest(d,function(e,t){var n=t.all_sizes.map(function(e){e=e.split("x");return{w:e[0],h:e[1]}}),n=(i.site.ext.data.pos=e.get("gpt_slot").getTargeting("pos")&&e.get("gpt_slot").getTargeting("pos")[0]?e.get("gpt_slot").getTargeting("pos")[0]:"",{banner:{format:n},ext:{pgRubicon:u.buildPrebidParams(t),data:{pbadslot:e.get("gpt_slot").getAdUnitPath()}},id:e.get("dom_id")});i.imp=[],i.imp.push(n),s[n.id]=t.id,!a&&(a=!0,n=e.toPrebidUIDs())&&(i.user={ext:{eids:n.userIdAsEids}}),r.data=JSON.stringify(i),g(r,function(e,t){e?p.log("RubiconPG err",e):t.seatbid&&t.seatbid.length&&p.each(t.seatbid,function(e){e.bid&&e.bid.length&&p.each(e.bid,function(e){var t,n,i=s[e.impid],r=o.getBidRequest(i);i?(e.adm&&e.nurl?(t=e.adm,t+=p.utils.pixelh(decodeURIComponent(e.nurl))):e.adm?t=e.adm:e.nurl&&(n=e.nurl),e.adId="pgr"+ ++l,i={rawbid:e,creative:t,creative_url:n,cpm:e.price,width:e.w,height:e.h,extras:{crid:e.crid,dealid:e.dealid,adomain:e.adomain},ttl:e.exp||60},e.adserverTargeting={hb_source:"s2s"},r.unit.addBid(r,i)):p.err("RubiconPG bad impid",e.impid)})})})})},this.onBidWon=function(e){e.burl&&p.pixel(e.burl),e.ext&&e.ext.prebid&&e.ext.prebid.events&&e.ext.prebid.events.win&&p.pixel(e.ext.prebid.events.win)},this.buildPrebidParams=function(e){return{accountId:parseInt(e.params.accountId),siteId:parseInt(e.params.siteId),zoneId:parseInt(e.bidder_unit_id),dealsonly:!0}},this.getPrebidReqCtr=function(e){return(t[e]||0)+1}}},{"../ajax.js":13,"../config.js":16,"../utils.js":58}],10:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function s(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function d(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?i(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c=e("../shim.js").polyfills,u=c.tryAppendQueryString,l=c.logMessage,p=c.logError,g=c.isEmpty,r=c.isStr,f=c.isPlainObject,m=c.isArray,h=c.logWarn,b=c.BANNER,v=c.VIDEO,_=(c.registerBidder,c.config),y=c.getStorageManager,w="triplelift",x=!0,A=null,S=y({bidderCode:w}),y={gvlid:28,code:w,supportedMediaTypes:[b,v],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n,i="https://tlx.3lift.com/header/auction?",e=function(e,t){var n={},i=e[0].schain,r=function(e){var t={},n={},i={},e=e.ortb2||{},r=function(){var e=S.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return p("Triplelift: error parsing JSON: ",e),null}}(),o=c.utils.assign({},e.site),e=c.utils.assign({},e.user);if(r){e.data=e.data||[];try{e.data.push({name:"www.1plusx.com",ext:r})}catch(e){p("Triplelift: error adding 1plusX segments: ",e)}}T(n,o),T(i,e),g(n)||(t.context=n);g(i)||(t.user=i);return t}(t),e=(n.imp=e.map(function(e,t){t={id:t,tagid:e.params.inventoryCode,floor:function(e){var t=null;if("function"==typeof e.getFloor)try{var n=e.getFloor({currency:"USD",mediaType:I(e)?"video":"banner",size:"*"});"object"!==o(n)||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor))}catch(e){p("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}(e)};return I(e)&&(t.video=function(e){e=s(s({},e.params.video),e.mediaTypes.video);try{e.w||(e.w=e.playerSize[0][0]),e.h||(e.h=e.playerSize[0][1])}catch(e){h("Video size not defined",e)}"instream"===e.context&&(e.placement=1);"outstream"===e.context&&(e.placement?-1===[3,4,5].indexOf(e.placement)&&(l("video.placement value of ".concat(e.placement," is invalid for outstream context. Setting placement to 3")),e.placement=3):e.placement=3);e.playbackmethod&&Number.isInteger(e.playbackmethod)&&(e.playbackmethod=Array.from(String(e.playbackmethod),Number));return delete e.playerSize,e}(e)),e.mediaTypes.banner&&!j(e)&&(t.banner={format:e.sizes.filter(D).map(function(e){return{w:e[0],h:e[1]}})}),g(e.ortb2Imp)||(t.fpd=function(e){var t={},n={};T(n,e.ext),g(n)||(t.context=n);return t}(e.ortb2Imp)),t}),[].concat(d(function(e){return C(e,"tdid","adserver.org","TDID")}([e[0]])),d(function(e){return C(e,"idl_env","liveramp.com","idl")}([e[0]])),d(function(e){return C(e,"criteoId","criteo.com","criteoId")}([e[0]])),d(function(e){return C(e,"pubcid","pubcid.org","pubcid")}([e[0]])),d(function(e){var n=["adserver.org","liveramp.com","criteo.com","pubcid.org"],i=[];e.userIdAsEids&&e.userIdAsEids.forEach(function(t){try{var e;-1===n.indexOf(t.source)&&(e=t.uids.map(function(e){return{id:e.id,ext:{rtiPartner:t.source}}}),i.push({source:t.source,uids:e}))}catch(e){h("Triplelift: Error attempting to add ".concat(t," to bid request"),e)}});return i}(e[0]))));0<e.length&&(n.user={ext:{eids:e}});e=function(e,t){var n={};g(e)||(n.schain=s({},e));g(t)||(n.fpd=s({},t));return n}(i,r);g(e)||(n.ext=e);null!=t&&null!=(i=t.ortb2)&&null!=(r=i.regs)&&r.gpp&&(n.regs=c.utils.assign({},t.ortb2.regs));return n}(e,t);return i=u(i,"lib","prebid"),i=u(i,"v","7.44.0"),t&&t.refererInfo&&(n=t.refererInfo.page,i=u(i,"referrer",n)),t&&t.timeout&&(i=u(i,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(x=t.gdprConsent.gdprApplies,i=u(i,"gdpr",x.toString())),void 0!==t.gdprConsent.consentString)&&(A=t.gdprConsent.consentString,i=u(i,"cmp_cs",A)),t&&t.uspConsent&&(i=u(i,"us_privacy",t.uspConsent)),(i=!0===_.getConfig("coppa")?u(i,"coppa",!0):i).lastIndexOf("&")===i.length-1&&(i=i.substring(0,i.length-1)),l("tlCall request built: "+i),{method:"POST",url:i,data:e,bidderRequest:t}},interpretResponse:function(e,t){var s=t.bidderRequest;return(e.body.bids||[]).map(function(e){var t=s,n={},i=e.width||1,r=e.height||1,o=e.deal_id||"",a=e.crid||"",t=t.bids[e.imp_id];return 0!=e.cpm&&e.ad&&(n={requestId:t.bidId,cpm:e.cpm,width:i,height:r,netRevenue:!0,ad:e.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:e.tl_source,meta:{}},I(t)&&"video"===e.media_type&&(n.vastXml=e.ad,n.mediaType="video",n.ttl=3600),e.advertiser_name&&(n.meta.advertiserName=e.advertiser_name),e.adomain&&e.adomain.length&&(n.meta.advertiserDomains=e.adomain),e.tl_source&&"hdx"==e.tl_source&&(I(t)&&"video"===e.media_type?n.meta.mediaType="video":n.meta.mediaType="banner"),e.tl_source&&"tlx"==e.tl_source&&(n.meta.mediaType="native"),a)&&(n.meta.networkId=a.slice(0,a.indexOf("_"))),n})},getUserSyncs:function(e,t,n,i){var r,e=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(e)return r="https://eb2.3lift.com/sync?","image"===e&&(r=u(r,"px",1),r=u(r,"src","prebid")),null!==A&&(r=u(r,"gdpr",x),r=u(r,"cmp_cs",A)),[{type:e,url:r=i?u(r,"us_privacy",i):r}]}};function I(e){return k(e)&&(j(e)||k(e=e)&&"outstream"===e.mediaTypes.video.context.toLowerCase())}function j(e){return k(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function k(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function T(t,n){g(n)||Object.keys(n).forEach(function(e){null!=n[e]&&(t[e]=n[e])})}function C(e,t,n,i){return e.map((a=t,function(e){return e&&e.userId&&e.userId[a]})).filter(R(t)).map((r=n,o=i,function(e){return{source:r,uids:[{id:e.id||e,ext:{rtiPartner:o}}]}}));var r,o,a}function R(i){return function(e,t,n){e=!!e&&(r(e)?!!e:f(e)&&!m(e)&&!g(e)&&e.id&&r(e.id)&&!!e.id);return e||void 0===n[0]||h("Triplelift: invalid ".concat(i," userId format")),e}}function D(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.exports=e("../shim.js").wrap({spec:y,unitIDKey:"inventoryCode",floorKey:"floor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":55}],11:[function(e,t,n){t.exports=e(10)},{"../shim.js":55}],12:[function(e,t,n){"use strict";function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?i(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=e("../shim.js").polyfills,b=s.utils,d=s.config,c=(s.registerBidder,s.BANNER),u=s.VIDEO,r="ttd",l=1,p=2;function g(){var e=navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage;return{ua:navigator.userAgent,dnt:b.getDNT()?1:0,language:e,connectiontype:function(){var e=navigator.connection||navigator.webkitConnection;if(!e)return 0;switch(e.type){case"ethernet":return 1;case"wifi":return 2;case"cellular":switch(e.effectiveType){case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 3}default:return 0}}()}}function f(e){var t={id:e.bidId},n=b.deepAccess(e,"ortb2Imp.ext.gpid"),i=b.deepAccess(e,"ortb2Imp.ext.tid"),r=b.deepAccess(e,"ortb2Imp.rwdd"),i=((n||i)&&(t.ext={},n&&(t.ext.gpid=n),i)&&(t.ext.tid=i),r&&(t.rwdd=r),n||e.params.placementId),r=(i&&(t.tagid=i),b.deepAccess(e,"mediaTypes.video")),n={},r=(b.deepAccess(e,"mediaTypes.banner")&&(n[c]=function(e){var t=function(e){return b.parseSizesInput(e).filter(function(e){return e}).map(function(e){return e.split("x")}).map(function(e){return{width:parseInt(e[0]),height:parseInt(e[1])}})}(e.mediaTypes.banner.sizes).map(function(e){return{w:e.width,h:e.height}}),n=parseInt(b.deepAccess(e,"mediaTypes.banner.pos")),i=b.deepAccess(e,"params.banner.expdir"),r={};n&&(r.pos=n);i&&Array.isArray(i)&&(r.expdir=i);n=s.utils.assign({w:t[0].w,h:t[0].h,format:t},r),i=b.deepAccess(e,"ortb2Imp.battr");i&&(n.battr=i);return n}(e)),r&&(n[u]=function(e){var t=b.deepAccess(e,"mediaTypes.video.minduration"),n=b.deepAccess(e,"mediaTypes.video.maxduration"),i=b.deepAccess(e,"mediaTypes.video.playerSize"),r=b.deepAccess(e,"mediaTypes.video.api"),o=b.deepAccess(e,"mediaTypes.video.mimes"),a=b.deepAccess(e,"mediaTypes.video.placement"),s=b.deepAccess(e,"mediaTypes.video.plcmt"),d=b.deepAccess(e,"mediaTypes.video.protocols"),c=b.deepAccess(e,"mediaTypes.video.playbackmethod"),u=b.deepAccess(e,"mediaTypes.video.pos"),l=b.deepAccess(e,"mediaTypes.video.startdelay"),p=b.deepAccess(e,"mediaTypes.video.skip"),g=b.deepAccess(e,"mediaTypes.video.skipmin"),f=b.deepAccess(e,"mediaTypes.video.skipafter"),m=b.deepAccess(e,"mediaTypes.video.minbitrate"),h=b.deepAccess(e,"mediaTypes.video.maxbitrate");t&&b.isInteger(t)||(t=0);t={minduration:t,maxduration:n,api:r,mimes:o,placement:a,protocols:d};void 0!==i&&(b.isArray(i[0])?(t.w=parseInt(i[0][0]),t.h=parseInt(i[0][1])):b.isNumber(i[0])&&(t.w=parseInt(i[0]),t.h=parseInt(i[1])));c&&(t.playbackmethod=c);s&&(t.plcmt=s);u&&(t.pos=u);l&&b.isInteger(l)&&(t.startdelay=l);!p||0!==p&&1!==p||(t.skip=p);g&&b.isInteger(g)&&(t.skipmin=g);f&&b.isInteger(f)&&(t.skipafter=f);m&&b.isInteger(m)&&(t.minbitrate=m);h&&b.isInteger(h)&&(t.maxbitrate=h);n=b.deepAccess(e,"ortb2Imp.battr");n&&(t.battr=n);return t}(e)),s.utils.assign(t,n),(i=e).params.bidfloor||(b.isFn(i.getFloor)&&(i=i.getFloor({currency:"USD",mediaType:"*",size:"*"}),b.isPlainObject(i))&&!isNaN(i.floor)&&"USD"===i.currency?i.floor:null));return r&&(t.bidfloor=parseFloat(r),t.bidfloorcur="USD"),t}r={code:r,gvlid:21,aliases:["thetradedesk"],supportedMediaTypes:[c,u],isBidRequestValid:function(e){if(!e||!e.params)return b.logWarn("ttd: Missing bid parameters"),!1;if(!e.params.supplySourceId)return b.logWarn("ttd: Missing required parameter params.supplySourceId"),!1;if(!/^[\w+]+$/.test(e.params.supplySourceId))return b.logWarn("ttd: supplySourceId must only contain alphabetic characters"),!1;if(!e.params.publisherId)return b.logWarn("ttd: Missing required parameter params.publisherId"),!1;if(32<e.params.publisherId.length)return b.logWarn("ttd: params.publisherId must be 32 characters or less"),!1;if(e.params.bidfloor&&isNaN(parseFloat(e.params.bidfloor)))return!1;var t=b.deepAccess(e,"ortb2Imp.ext.gpid");if(!e.params.placementId&&!t)return b.logWarn("ttd: one of params.placementId or gpid (via the GPT module https://docs.prebid.org/dev-docs/modules/gpt-pre-auction.html) must be passed"),!1;t=b.deepAccess(e,"mediaTypes.banner"),e=b.deepAccess(e,"mediaTypes.video");if(!t&&!e)return b.logWarn("ttd: one of mediaTypes.banner or mediaTypes.video must be passed"),!1;if(e){if(!e.maxduration||!b.isInteger(e.maxduration))return b.logWarn("ttd: mediaTypes.video.maxduration must be set to the maximum video ad duration in seconds"),!1;if(!e.api||0===e.api.length)return b.logWarn("ttd: mediaTypes.video.api should be an array of supported api frameworks. See the Open RTB v2.5 spec for valid values"),!1;if(!e.mimes||0===e.mimes.length)return b.logWarn("ttd: mediaTypes.video.mimes should be an array of supported mime types"),!1;if(!e.protocols)return b.logWarn("ttd: mediaTypes.video.protocols should be an array of supported protocols. See the Open RTB v2.5 spec for valid values"),!1}return!0},buildRequests:function(e,t){var n,i,r=t.ortb2||{},o={id:t.auctionId,imp:e.map(f),site:(n=t,i=r,i=b.mergeDeep({page:b.deepAccess(n,"refererInfo.page"),ref:b.deepAccess(n,"refererInfo.ref"),publisher:{id:b.deepAccess(n,"bids.0.params.publisherId")}},i.site),(n=n.refererInfo.domain)&&b.deepSetValue(i,"publisher.domain",n),i),device:g(),user:function(e){var t={};e.gdprConsent&&b.deepSetValue(t,"ext.consent",e.gdprConsent.consentString),b.isStr(b.deepAccess(e,"bids.0.userId.tdid"))&&(t.buyeruid=e.bids[0].userId.tdid);(n=b.deepAccess(e,"bids.0.userIdAsEids"))&&n.length&&b.deepSetValue(t,"ext.eids",n);var n=b.deepAccess(e,"ortb2.user.data");return t=n&&n.length?b.mergeDeep(t,{data:a(n)}):t}(t),at:1,cur:["USD"],regs:(n={},(i=t).gdprConsent&&"boolean"==typeof i.gdprConsent.gdprApplies&&b.deepSetValue(n,"ext.gdpr",i.gdprConsent.gdprApplies?1:0),i.uspConsent&&b.deepSetValue(n,"ext.us_privacy",i.uspConsent),!0===d.getConfig("coppa")&&(n.coppa=1),null!=(o=i.ortb2)&&o.regs&&b.mergeDeep(n,i.ortb2.regs),n),source:(i={tid:(o=e)[0].auctionId},o[0].schain&&b.deepSetValue(i,"ext.schain",o[0].schain),i),ext:{ttdprebid:{ver:"TTD-PREBID-2022.06.28",pbjs:"7.44.0",keywords:null!=(e=(n=r).site)&&e.keywords?n.site.keywords.split(",").map(function(e){return e.trim()}):[]}}};return r&&r.bcat&&(o.bcat=r.bcat),r&&r.badv&&(o.badv=r.badv),{method:"POST",url:"https://direct.adsrvr.org/bid/bidder/"+t.bids[0].params.supplySourceId,data:o,options:{withCredentials:!0}}},interpretResponse:function(e,t){var r,o,n=b.deepAccess(e,"body.seatbid"),a=b.deepAccess(e,"body.cur");return n&&0!==n.length?(r=[],o=b.deepAccess(t,"data.imp"),n.forEach(function(e){e.bid.forEach(function(t){var e=o.find(function(e){return e.id===t.impid}),n=t.price||0,i={requestId:t.impid,cpm:n,creativeId:t.crid,dealId:t.dealid||null,currency:a||"USD",netRevenue:!0,ttl:t.ttl||360,meta:{}};t.adomain&&0<t.adomain.length&&(i.meta.advertiserDomains=t.adomain),t.ext.mediatype===l?s.utils.assign(i,{width:t.w,height:t.h,ad:b.replaceAuctionPrice(t.adm,n),mediaType:c}):t.ext.mediatype===p&&(s.utils.assign(i,{width:e.video.w,height:e.video.h,mediaType:u}),t.nurl?i.vastUrl=b.replaceAuctionPrice(t.nurl,n):i.vastXml=b.replaceAuctionPrice(t.adm,n)),r.push(i)})}),r):[]},getUserSyncs:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",r=[],n="&gdpr=".concat(n.gdprApplies?1:0,"&gdpr_consent=").concat(encodeURIComponent(n.consentString)),i="".concat("https://match.adsrvr.org","/track/usersync?us_privacy=").concat(encodeURIComponent(i)).concat(n);return e.pixelEnabled?r.push({type:"image",url:i+"&ust=image"}):e.iframeEnabled&&r.push({type:"iframe",url:i+"&ust=iframe"}),r}};t.exports=e("../shim.js").wrap({spec:r,unitIDKey:"publisherId",floorKey:!1,floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":55}],13:[function(e,t,n){var o=e("./utils.js");t.exports=o.wrapAsync(function(n,i){var r,e=!1,t=n.method||(n.data?"POST":"GET");window.XMLHttpRequest?(r=new window.XMLHttpRequest).onreadystatechange=o.wrapAsync(function(){if(4===r.readyState){var e=r.status;if(200<=e&&e<300||304===e){if(n.rawProcessor)try{n.rawProcessor(r)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var t=JSON.parse(r.responseText||"null");i(null,t,r)}catch(e){i({err:e,type:"parse"},"",r)}else i(null,r.responseText,r)}else i(0===e?{err:"",type:"timeout"}:{err:r.statusText,type:"status="+e},"",r)}}):(e=!0,(r=new window.XDomainRequest).onload=o.wrapAsync(function(){if(n.rawProcessor)try{n.rawProcessor(r)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var e=JSON.parse(r.responseText||"null");i(null,e,r)}catch(e){i({err:e,type:"parse"},"",r)}else i(null,r.responseText,r)}),r.onerror=o.wrapAsync(function(e){i({err:e,type:"error"},"",r)}),r.ontimeout=o.wrapAsync(function(e){i({err:e,type:"timeout"},"",r)}),r.onprogress=function(){}),r.open(t,n.url),0!==n.max_ms&&(r.timeout=n.max_ms||3e3,o.logl("at","Ajax >",n.url,r.timeout)),e||(n.withCredentials&&(r.withCredentials=!0),o.each(n.headers,function(e,t){r.setRequestHeader(t,e)}),n.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",n.contentType||"text/plain")),r.send("POST"===t&&n.data)})},{"./utils.js":58}],14:[function(e,n,d){function r(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e}function s(e,t,n,i,r){A[e]||(A[e]=[]),A[e].push(r),S[e]=i,I[e]||(I[e]=setTimeout(function(){o(e,t)},n))}function o(e,t){var n,i;clearTimeout(I[e]),I[e]=!1,A[e]&&A[e].length&&(n=S[e],i=e===v?"1//"+A[e].length+n:"",i+=A[e].join(n),A[e]=[],j(e,t,i))}function a(e,t){return k(e)+"`"+k(t)}function c(e){var t=[];return h.each(e,function(e){e=e.split("x");2==e.length&&t.push(a(e[0],e[1]))}),t.join(".")}function p(e,i){var r="";return e.rawbid&&e.rawbid.meta&&(r=[],h.each(e.rawbid.meta,function(e,t){var n=B[String(t).toLowerCase()];n&&(h.isarr(e)||(e=[e]),h.each(e,function(e){r.push(n+i.id(e))}))}),r=r.join(".")),r}function u(e,t){var n,i,r,o,a,s,d,c,u=e._origin?t.id(e._origin.config.unit.unique_id):"",l=(u?(l=(h.dts()-e.ts)/1e3,l=0|Math.max(0,e.extras.ttl-l),u+="@"+h.b62(l)):u=h.b62(0|e.ms),[u]);return(e._bid_cpm||e.extras.dealid)&&(u=t.id(e.width+"x"+e.height),n=h.b62(e.extras.ttl),i=e.extras.cur?t.id(e.extras.cur):"",r=e.extras.nr?1:0,o=_[e.extras.mediaType]||0,a=e.extras.crid!==e.config.id?t.id(e.extras.crid):"",s=e.extras.dealid?t.id(e.extras.dealid):"",d=e.cpm,c=p(e,t),l=l.concat([u,n,i,r,o,a,s,d,c]),e._bid_cpm!=e.cpm)&&(l.push(e._bid_cpm),l.push(e._min_cpm),e.blocked)&&l.push(t.id(e.blocked)),l.join(",")}function l(){this.reset()}function g(){var e,n,i;clearTimeout(f),f=!1,m?f=setTimeout(g,100):(e=O,O={},m=P,P=new l,n=[],i=0,h.each(e,function(e,t){t=t+":"+e.join(":");i+=t.length,n.push(t),3e3<i+m.length&&(j(13,3,n.join("&b=")+"&bi="+m.data.join(",")),n=[],i=0)}),i&&j(13,3,n.join("&b=")+"&bi="+m.data.join(",")),m=!1)}var f,m,h=e("./utils.js"),b=e("./config.js"),v=3,_={banner:1,native:2,video:3},y=r(),w="aX0",x=(d.id=[2,w,y].join(","),""),A=(b.afterConsent(function(e,t,n,i){try{x=(window.__tcfapi?"2":window.__cmp?"1":"0")+(window.__uspapi?"1":"0")+n,e&&(x+=".g"+(e.gdprApplies?"Y":"N")+(e.consentString||"")),t&&(x+=".u"+(t.version||0)+(t.uspString||"")),i&&(x+=".G"+(i.gppString||"")+".G"+(i.applicableSections||[]).join(".G"))}catch(e){h.err("ClogErr",e)}e&&e.gdprApplies||(w=(w=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||"a2"+(new Date).getTime().toString(36)+r(),h.cw("_adb",w,365),d.id=[2,w,y].join(","))}),{}),S={},I={},j=(d.flushNow=function(){for(var e in A)o(e)},function(e,t,n){if(document.body){var i=d.id,r=A[v]&&A[v].length?(r=A[v].join("&e="),A[v]=[],r):"",o=h.vp(),a=h.url(),o=k(o.w)+"."+k(o.h)+"."+k(o.y)+"."+k(document.body.clientHeight)+"."+(a.is_top?1:0)+"."+(document.hidden?1:0),s="https://adspsp.com/pt/"+b.getId()+"/"+e+"/"+t+"/?a="+i+"&aa="+x+"&b="+n+"&e="+r+"&c="+encodeURIComponent(a.href)+"&d="+encodeURIComponent(a.referrer)+"&f="+h.pgts().join(".")+"&g="+h.perfts()+"&u=045e8743:lvfvme4o:449&v="+o,i=T();for(i&&(s+="&m="+i),s=b.deca(s),h.each(C,function(e,t){h.isarr(e)||(e=[e]),h.each(e,function(e){s+="&"+t+"="+encodeURIComponent(e)})});R.length;)delete C[R.pop()];h.each(D,function(e,t){s+="&"+t+"="+encodeURIComponent(e)}),D={},s+=U(),h.mock()?h.logl("mock","bypass px",s):h.pixel(s,!0)}else setTimeout(function(){j(e,t,n)},50)}),k=function(e){return(parseInt(e,10)||0).toString(36)},t=[],T=(d.mod=function(e){-1===t.indexOf(e)&&t.push(e)},function(){return t.length?t.join(""):""}),C={},R=(d.meta=h.thread(function(e,t){C[e]=t}),[]),D=(d.metaqx=h.thread(function(e,t){-1==R.indexOf(e)&&R.push(e),C[e]?h.isarr(C[e])||(C[e]=[C[e]]):C[e]=[],C[e].push(t)}),{}),B=(d.ctr=h.thread(function(e,t){(t=void 0===t?1:t)&&(D[e]=(D[e]||0)+t)}),d.auctionConfigured=h.thread(function(e){var i=[],n=(e.eachUnit(function(e){var n=[],t=c(e.all_sizes);e.eachBidReqConf(function(e){var t=e.bidder_id+"@"+(t=e.bidder_unit_id,String(t).replace(/[^\d\w-]/,"")),e=c(e.all_sizes);n.push(t+"^"+e)}),i.push(e.id+"^"+t+":"+n.join(","))}),e.instancectr+"//"+i.length+"-"+i.join("_"));e.eachUnit(function(e){var t=E("auctionConfigured",e);n+="&bu="+[e.unique_id,encodeURIComponent(t.dom_id),encodeURIComponent(t.gpt_path)].join(",")}),j(1,2,n)}),{advertisername:"0",advertiserdomains:"1",adomain:"1",advertiserid:"2",buyerid:"3",networkid:"4",brandid:"5",brandname:"6",dspid:"7",primarycatid:"8"}),E=function(t,e){var n="",i="";try{n=e.get("dom_id").replace(/[:,]+/g,""),i=e.get("gpt_slot").getAdUnitPath().replace(/[:,]+/g,"")}catch(e){h.log(t,"failed to encode ids",e)}return{dom_id:n,gpt_path:i}},P=(l.prototype.reset=function(){this.ids={},this.data=[],this.length=0},l.prototype.id=function(e){var t;return e=String(e).replace(/,/,"_"),this.ids[e]||(t=encodeURIComponent(e),this.length+=t.length,this.ids[e]=h.b62(this.data.push(t)-1)),this.ids[e]},d.auctionCompleted=h.thread(function(t){var a=new l,n=[],i=0;t.eachUnit(function(r){var e=E("bidRendered",r),e=[a.id(t.instancectr),a.id(t.id),a.id(r.id),a.id(r.unique_id),a.id(e.dom_id),a.id(e.gpt_path)].join(","),o=[];r.eachBidReqConf(!1,function(e){var i=a.id(e.bidder_id)+","+a.id(e.bidder_unit_id);e.responses.length?h.each(e.responses,function(e){var t=r.getWinner()===e?1:"",n=i,e=u(e,a);e&&(n+=","+t+","+e),o.push(n)}):o.push(i)}),encoded_unit=e+":"+o.join(":"),i+=encoded_unit.length,n.push(encoded_unit),3e3<i+a.length&&(j(11,3,n.join("&b=")+"&bi="+a.data.join(",")),a.reset(),n=[],i=0)}),i&&j(11,3,n.join("&b=")+"&bi="+a.data.join(","))}),d.bidRendered=h.thread(function(e,t,n){var i=E("bidRendered",e.config.unit),r=[e.config.unit.auction.instancectr,e.config.unit.id],t=(r.push(e.config.bidder_id),r.push(e.config.bidder_unit_id),r.push(e.cpm),r.push(e.width),r.push(e.height),r.push(e.config.unit.unique_id),r.push(t),r.push(encodeURIComponent(i.dom_id)),r.push(encodeURIComponent(i.gpt_path)),new l),i=p(e,t),t=t.data,i=(i&&(e.extras.anfo=i,e.extras.anfd=t),JSON.stringify(e.extras));"{}"!=i&&r.push(encodeURIComponent(i));t=(n?5:1)+":"+r.join(",");b.libSettings().record_bidids&&(t+="&b=4:"+[e.config.unit.unique_id,e.config.unit.id,e.id].join(",")),s(12,2,100,"&b=",t)}),d.enhRendered=h.thread(function(e,t,n){e=[e,t,k(n.advertiserId),k(n.campaignId),k(n.creativeId),k(n.versionId)];s(12,1,100,"&b=","3:"+e.join(","))}),d.gptRendered=h.thread(function(e,t,n){var i=E("gptRendered",t);s(12,2,100,"&b=","2:"+[e.instancectr,t.id,k(n.advertiserId),k(n.campaignId),k(n.creativeId),n.isEmpty||"",k(n.lineItemId),n.size?a(n.size[0],n.size[1]):"",k(n.sourceAgnosticCreativeId),k(n.sourceAgnosticLineItemId),t.unique_id,encodeURIComponent(i.dom_id),encodeURIComponent(i.gpt_path)].join(","))}),d.gptViewed=h.thread(function(e,t,n){var i=E("gptViewed",t);s(15,2,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id,encodeURIComponent(i.dom_id),encodeURIComponent(i.gpt_path)].join(","))}),new l),O={},z=(d.lateBid=h.thread(function(e){var t=E("lateBid",e.config.unit),t=[P.id(e.config.unit.auction.instancectr),P.id(e.config.unit.auction.id),P.id(e.config.unit.id),P.id(e.config.unit.unique_id),P.id(t.dom_id),P.id(t.gpt_path)].join(","),e=[P.id(e.config.bidder_id),P.id(e.config.bidder_unit_id),"",u(e,P)].join(",");O[t]||(O[t]=[]),O[t].push(e),f=f||setTimeout(g,500)}),h.onerr(function(){try{var t="";h.each(arguments,function(e){null!=e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+h.perfts()+":"+t,s(v,1,1e3,"&e=",t)}catch(e){h.isdebug()&&console.error("AdBridg error report failed: ",e)}}),d.rec=h.thread(function(e){s(17,1,500,"&b=",e)}),h.onrec(d.rec),{}),U=(d.sqz=h.thread(function(e,t,n,i,r){var o,a=t+"."+i;z[a]||(z[a]={qk:t,qd:i,s:!1,d:[]},t&&(z[a].s=new l)),!1===t?z[a].d.push(r):(h.isarr(n)||(n=[n]),o=[],h.each(n,function(e){o.push(z[a].s.id(e))}),o=o.join(","),z[a].d.push(o+":"+r)),s(18,1,e,"","")}),d.sq2=h.thread(function(e,t,n,i){var r=t+"."+n,t=(z[r]||(z[r]={qk:t,qd:n,s:new l,d:[]}),i(z[r].s));h.isarr(t)||(t=[t]),h.each(t,function(e){z[r].d.push(e)}),s(18,1,e,"","")}),function(){var e=z,n=(z={},A[18]=[],"");return h.each(e,function(t,e){t.qk&&(n+="&"+t.qk+"="+t.s.data.join(",")),h.each(t.d,function(e){n+="&"+t.qd+"="+e})}),n});d.init=h.thread(function(){s(19,1,100,"","")})},{"./config.js":16,"./utils.js":58}],15:[function(e,t,n){var v=e("./utils"),_=(e("./unit"),e("./analytics")),y=e("./modules"),w=e("./config"),i=0;t.exports=function(){this.instancectr=++i,this.id=v.genID("A"),this.uuid=v.genUUID(),this.ts=0,this.jsts=0,this.jstsend,this.max_ms,w.afterConsent(function(e,t,n,i){r=e,o=t,a=i}),this.ajax_ms=w.libSettings().ajax_ms,"function"==typeof this.ajax_ms&&(this.ajax_ms=this.ajax_ms());var r,o,a,d,s=this,c={},u=[],l=[],p=[],g=!1,f=[],m=!1,h=[],t=(this.addUnit=function(e){return l.push(e),p.push(e.alias),e.auction=s,e.eachBidder(function(e,t){!t.uspSupport&&o&&"Y"===o.uspString[2]||c[e]||(c[e]=t,.5<Math.random()?u.push(e):u.unshift(e))}),s.max_ms=s.max_ms?Math.min(s.max_ms,e.max_ms):e.max_ms,(!s.ajax_ms||s.ajax_ms<s.max_ms)&&(s.ajax_ms=s.max_ms+200),s},this.ctUnits=function(){return l.length},this.hasUnit=function(){return 0<l.length},this.eachUnit=function(e){v.each(l,e)},this.findUnit=function(e){for(var t=0;t<l.length;++t)if(e(l[t]))return l[t];return!1},this.eachBidRequest=function(e,n){"function"==typeof e&&(n=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){n(t,e)})})},this.getUnitByBidReqId=function(t){var n=!1;return s.eachUnit(function(e){e.getBidReqConf(t)&&(n=e)}),n},this.getBidRequest=function(t){var n=!1;return s.eachUnit(function(e){n=n||e.getBidReqConf(t)}),n},this.getBid=function(e){for(var t=0;t<l.length;++t){var n=l[t].getBid(e);if(n)return n}return!1},this.markBidEmpty=function(e){var t=s.getUnitByBidReqId(e);t?t.addEmptyBid(e):v.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){s.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return g},this.lock=function(e){-1==f.indexOf(e)&&(v.log("Auction ",s.id," locked: ",e),f.push(e))},this.unlock=v.wrapAsync(function(e){var t=f.indexOf(e);-1==t?v.log("Auction ",s.id," lock not found: ",e):(f.splice(t,1),v.log("Auction ",s.id," unlocked: ",e,f),!f.length&&m&&m())}),this.onHalt=function(e){h.push(e)},this.execute=function(e){s.ts=v.dts(),s.jsts=(new Date).getTime();var t=w.libSettings().fbo,n=("function"==typeof t&&(u=t(c)),d="started",y.trigger("auction.before_bids",s),v.log("Auction",s.id,"starting with",l.length,"units:",p,"/ bidders:",u,"/ timeout:",s.max_ms),d="inProgress",_.auctionConfigured(s),y.trigger("auction.start",s),v.wrapAsync(function(){g||(g=!0,y.trigger("auction.bidding_done",s),s.eachUnit(function(e){e.halt()}),d="completed",s.jstsend=(new Date).getTime(),_.auctionCompleted(s),y.trigger("auction.complete",s),v.each(h,function(e){v.thread(e)()}),e(s))})),i=v.wrapAsync(function(){f.length?(v.log("Auction ",s.id,"waiting on locks",f),m=n):n()}),r=0;s.eachUnit(function(e){e.onReady(v.wrapAsync(function(){g||++r>=l.length&&(v.log("Auction ",s.id," received bids for ",r," / ",l.length," units. Duration: ",v.dts()-s.ts,"ms"),i())}))}),v.each(u,function(e){var t=c[e];v.thread(function(){t.execute(s)})()}),setTimeout(function(){g||(v.log("Auction ",s.id," timing out with ",r," / ",l.length," units completed. Duration: ",v.dts()-s.ts,"ms"),i())},s.max_ms)},[]),b={};this.getBdrReqId=function(e){return t[e]||(t[e]=v.genID("R")),t[e]},this.toPrebidBidderReq=function(e){var n,t,i;return b[e]||(n=[],this.eachBidRequest(e,function(e,t){n.push(t.toPrebid())}),v.url(),v.url().href,(t=v.urlref()).ref=t.ref||null,i=w.ortb2(e),a&&a.gppString&&(i.regs=i.regs||{},i.regs.gpp=a.gppString,i.regs.gpp_sid=a.applicableSections),b[e]={auctionId:this.uuid,auctionStart:this.jsts,bidderCode:e,bidderRequestId:this.getBdrReqId(e),bids:n,gdprConsent:r,uspConsent:(o||{}).uspString,gppConsent:a,timeout:this.max_ms,ortb2:i,refererInfo:t}),b[e]},this.toPrebidBidderReqs=function(){var n=[];return v.each(c,function(e,t){n.push(this.toPrebidBidderReq(t))}.bind(this)),n},this.toPrebid=function(){var e=this.toPrebidBidderReqs(),n=[],i=[],r=[],o=[],a=[],s=[];return this.eachUnit(function(e){var t=e.toPrebidAdUnit(),t=(n.push(t),i.push(t.code),e.toPrebidResults());r=r.concat(t.noBids),o=o.concat(t.bidsReceived),a=a.concat(t.winningBids),s=s.concat(t.prebidWinningBids)}),s.length||(s=void 0),{auctionId:this.uuid,timestamp:this.jsts,auctionEnd:this.jstsend,auctionStatus:d,adUnits:n,adUnitCodes:i,labels:void 0,bidderRequests:e,noBids:r,bidsReceived:o,bidsRejected:[],winningBids:a,timeout:this.max_ms,prebidWinningBids:s,seatNonBids:[]}}}},{"./analytics":14,"./config":16,"./modules":21,"./unit":57,"./utils":58}],16:[function(g,e,l){function f(e,t,n){var i=t.mapping_rules;if(!i)return h.log("NO MAPPING RULES: ",t),0;var r,o=e.get("gpt_slot"),a=o.getAdUnitPath(),s=e.get("gpt_sizes"),d=e.get("dom_id"),c=e.get("dom_ad_class");for(r in i){if(!i.hasOwnProperty(r))return;var u=i[r],l=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==r&&u<l)return;if("vp.min_width"==r&&l<u)return;if("lib"==r.substr(0,3)){l=n[r.substr(4)];if(("function"==typeof l&&l(o,a,s,d))!=u)return}if("gpt.adunit"==r&&u!=a)return;if("gpt.adunit_regex"==r&&!new RegExp(u,"i").test(a))return;if("gpt.domid"==r&&u!=d)return;if("gpt.domid_regex"==r&&!new RegExp(u,"i").test(d))return;if("gpt.has_size"==r&&!s.match(u))return;if("gpt.no_size"==r&&s.match(u))return;if("adb.ad_class"==r&&u!=c)return;if("adb.ad_class_regex"==r&&!new RegExp(u,"i").test(c))return}return h.log("Unit mapped: ",d,"->",t.alias),1}function m(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}}function t(n,i,r){l.afterConsent(function(e){if(e&&e.gdprApplies&&!e.consentString)return h.log("GDPR skip register",n,e);var t;v[n]?h.err("Duplicate bidder alias "+n):(t={bidder_id:r[0],settings:r[1]||{},mutate:r[2]||!1},v[n]=new i(n,t.bidder_id,t.settings,e,o),v[n].alias=n,v[n].id=t.bidder_id,v[n].settings=t.settings,v[n].mutate=t.mutate||!1,_[String(t.bidder_id)]=n)})}var p,h=g("./utils"),b=(g("./ajax"),{c:2418030,s:{storage_access:function(){return["lasso"]},track_imps:!0,bid_strategy:function(e){var t=".05:.01-.3,.01:.3-1.2,.05:1.2-5.5,.01:5.5-5.7,.05:5.7-6.35,.01:6.35-6.6,.05:6.6-6.85,.01:6.85-7.05,.05:7.05-7.35,.01:7.35-7.55,.05:7.55-9,.1:9-10.5,.5:10.5-21,1:21-35,.25:35-37,1:37-40,.5:40-44,2:44-50";return e&&196===e.config.bidder_id&&h.log("Lasso bid strategy overridden",t+=",50:50-1000"),t},usp:{image:!0,iframe:!0,delay:3e3},gamconfig_defer:function(e){window.useAdBridgGamConfig=!0,window.useAdBridg="a",e()},gamconfig_fulfillment:function(e){String(window.location.search).match("disableDFP")?h.each(e,function(e){var t=document.getElementById(e.dom_id),n=h.isarr(e.size[0]),i=n?e.size[0]:e.size,n=n?e.size.map(function(e){return e.join("x")}).join(", "):e.size.join("x"),r="display:inline-block;margin:1px 5px;background:rgba(255,255,255,0.3)";t.innerHTML="<div style='display:block; width: "+i[0]+"px; height: "+i[1]+"px; background: rebeccapurple; color: white;'><span style='"+r+"'><b>DOM ID</b> <span>"+e.dom_id+"</span></span><span style='"+r+"'><b>GAM Pos</b> <span>"+e.targeting.pos+"</span></span><br><span style='"+r+"'><b>GAM Path</b> <span>"+e.gpt_path+"</span></span><br><span style='"+r+"'><b>Allowed Sizes</b> <span>"+n+"</span></span></div>"}):AdBridg.cmd.push(e)},initfn:function(){h.cfuspfn(function(e){return"i"===e.t||18===e.a&&(e=!AdBridg.global("hltlpx"),AdBridg.global("hltlpx",!0),e)})},ccpa:"nobreak",gpp:"nobreak",cmp:"iab",cmp_fallback:"na",gpt_clear_kvps:["hb_bidder","hb_pb","hb_adid"],gpt_kvp_overrides:{adb_bdr:"hb_bidder",adb_hbc:"hb_pb",adb_adid:"hb_adid"},gpt_keep_oop:1,allow_serve_from_refresh:!0,new_tl_test:function(e){return!h.qs("adb_tl_new_only")&&e},ajax_ms:1100,gamconfig_ad_class_mutate:function(e,t){if("hl-incontent"==e)return!1;if((t.id+"").match(/^t?\d?_?ina$/))return"ina";var n=h.dom_invisible(t.id);if(n)return h.log("GamConfig ignore CSS hidden element",e,t.id,n),!1;var n=e,i=(e=e.replace(/^t\d+_(.*)$/i,"$1")).match(/(sticky|inline)/);if(i?i=i[1]:e.match(/^DMR/)?i="sticky":e.match(/^MMR/)&&(i="inline"),i){var r="hlbac_"+(parseInt((t.id.match(/^t(\d+)_/)||["0"]).pop())+1)+"_"+i,o=AdBridg.global(r)||0;if(o+=1,AdBridg.global(r,o),"inline"===i){r=h.vp().w;if(1190<=r){if(5<(o+=1))return h.err("HLSlotMax_LD_"+i+"__"+n+"__"+t.id),!1}else{if(r<990&&5<o)return h.err("HLSlotMax_MT_"+i+"__"+n+"__"+t.id),!1;if(990<=r)return!1}}e=i+o}return n!==e&&h.log("GamConfig ad class mutation: ",n," -> ",e),e},gamconfig_curly:function(e,t,n,i){var r;return"hl_prefix"===e?"/4788/hl/pagenumber"+(r=parseInt((n.match(/^t(\d+)_/)||["0"]).pop())+1)+"/"+(1==r?"":r):"device_code"===e?h.vp().w<768?"M":"D":"inline_code"===e?1190<=h.vp().w?"LB":"MR":"mpd_quarter"===e?(r=4,n.match("firstQuarter")?r=1:n.match("middle")?r=2:n.match("thirdQuarter")?r=3:n.match("bottom")||h.err("MPDInvalidDomIdQuarter",n),r):void 0},gamconfig_skip_element:function(e,t,n){var i,r;if(!AdBridg.global("preroll_enabled"))return AdBridg.global("setup_hloop")||(AdBridg.global("setup_hloop",1),i=!1,r=function(){i||(i=!0,h.log("Manually trigger GamConfig scanner"),h.off(window,"scroll",r),h.gamconfig_scanner&&h.gamconfig_scanner())},h.on(window,"scroll",r)),"div-gpt-ad-out-of-page"===e&&0<!h.vp().y},lazy:function(e,t,n,i){if(!window.useAdBridgGamConfig)return!1;var r,o=h.vp().w,a=o<768,s=!a&&o<990,o=!a&&!s&&1190<=o,t=t.getAdUnitPath();if(n.match(/^t?\d?_?ina$/))return a||s?2:150;if(t.match(/MMR(4|5|_extra)/))return h.log("Lazy gam path",t),h.vp().h;if(a)return!1;if(n.match(/^t\d+_|sticky([6789]|1\d)|DCMR/i))return 2;try{r=h.where(n).c.t}catch(e){return 2}s=document.body.scrollHeight;return n.match(/[dm]lb1/i)||r/s<.4?(h.log("BreakAdPlumber - under30 set no lazy",n,r,s,r/s),!1):o&&n.match("inline")?250:2},gamconfig_filter:function(e){return"div-gpt-ad-out-of-page"!=e.dom_id||!AdBridg.global("preroll_enabled")},lazy_measurement_filter:function(e,t){try{if(e.i.match(/DCMR/i)&&HL.i&&HL.i.enabled&&!HL.i.allContentLoaded)return!1}catch(e){}return!0},before_gpt:function(){h.qs("no_sandbox")||(h.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0}));var e,t="XX",t=(b.s.pub&&b.s.pub.cc&&"AE,AR,AT,AU,BD,BE,BG,CA,CH,CO,CY,CZ,DE,DK,EE,ES,FI,FR,GB,GH,GR,HR,HU,ID,IE,IN,IS,IT,KE,LI,LT,LU,LV,MT,MX,MY,NG,NL,NO,NZ,PH,PK,PL,PT,RO,SA,SE,SG,SI,SK,US,ZA".match(b.s.pub.cc)&&(t=b.s.pub.cc),h.log("Setting KVP hlcc",b.s.pub&&b.s.pub.cc,"=",t),googletag.pubads().setTargeting("hlcc",t),h.qs("test"));t&&-1===(e=googletag.pubads().getTargeting("test")).indexOf(t)&&(e.push(t),googletag.pubads().setTargeting("test",e))},dynamic_configuration:function(e,t,n){var i=t.pub.cc;if(t.pub.sponsorship&&"US"===i)return AdBridg.global("HLSPReported")||(AdBridg.global("HLSPReported",1),h.err("HLSponsorshipPage"),h.log("Healthline page has been reserved for a sponsorship; all bidding is disabled.")),!1;-1<[16,17,18].indexOf(e.id)&&h.vp().w<=989&&(e.other_sizes="");t=t.pub&&t.pub.k1||"",t.match(/cancer/)||t.match(/^(chemotherapy|gastroenteritis|heartattack|heartburn|heartfailure|heartprocedures|heartvalvedisorders|hivaids|ms|backpain|psoriasis|eczema)$/)||(e.max_ms=1500),t=parseInt(h.qs("adb_timeout"),10)||0;return 0<t&&(AdBridg.global("timeoutOverrideMsg")||(h.log("HL override timeout via querystring: ",t),AdBridg.global("timeoutOverrideMsg",1)),e.max_ms=t),i.match(/^(PH|IN)$/i)&&(e.min_cpm=.05),e},alter_adb_pixel:function(e){try{if(b.s.pub){var t=b.s.pub,n=(t.cc&&(e+="&hlcc="+t.cc),t.k1&&(e+="&hlk1="+t.k1),t.k2&&(e+="&hlk2="+t.k2),t.sponsorship?"1":"0"),i="-";if(googletag&&googletag.pubads)try{var r=googletag.pubads().getTargeting("msiteID"),i=r.length?encodeURIComponent(r[0]||"0"):"0"}catch(e){}e+="&hlms="+n+i}}catch(e){}return e},gpt_refresh_options:function(e){var t=Object.assign({},e||{},{changeCorrelator:!1});return h.log("GPT correlator enforcement",e,t),t},block_invisible:function(e,t,n){if("FRF"===e&&t.match(/mlb1/i))return h.log("AD-1372 MLB1 closed no reload"),!0},post_render:function(e){var t=e.config.unit.get("dom_id");t.match("dlb1")&&h.resize_element(document.getElementById(t),e.width,e.height)},post_auc_ufilter:function(e,t){var n,i=e.getWinner();i&&i.cpm&&((n=(n=i.cpm)<5?"":n<10?"b5":"b10")&&e.setImpData("adx",n),18==i.config.bidder_id)&&e.setImpData("tl","tl"+(i.config.bidder_unit_id.match("_HDX")?"2":"1"))},hl_use_hlcg:function(e){return window.getDriversForAds&&window.renderDriver&&(e.test=!1),e},hl_ttd_throttle:function(e){return window.location.hostname.match(/\.?healthline\.com$/)||(e.test=!0),e},bidder_ortb2:function(e){var t=AdBridg.global("iab_cat"),n={};if(t&&0<t.length){for(var i=[],r=0;r<t.length;r++)i.push({id:t[r]});n={data:[{ext:{segtax:7},name:"rvo.com",segment:i}]}}var o,s,a=h.urlref(),d=a.domain.replace(/^www\./i,""),c=document.querySelector("meta[name='keywords']"),c=(c&&c.content&&c.content.replace&&(o=c.content.replace(/\s/g,"")),{page:a.page,ref:a.ref,domain:d,keywords:o,publisher:{domain:d}});return"ttd"!==e?(c.content=n,{site:c}):(s=[],h.each({3:"3",6:"2,5,6,7,9",7:"2-45",8:"5,18",9:"9",11:"1,2,4,5",14:"1,5,8",15:"2,3",23:"0-10",24:"0",25:"0-7",26:"0-4"},function(a,n){var e=a.match(/\d+\-\d+/g),i=(h.each(e,function(e){for(var t=e.split("-"),n=parseInt(t[0]),i=parseInt(t[1]),r=[],o=n;o<=i;++o)r.push(o);a=a.replace(e,r.join(","))}),a=a.split(","),[]);h.each(a,function(e){var t="IAB"+n;0<e&&(t+="-"+e),i.push(t),s.push(t)})}),768<h.vp().w?{bcat:s,site:c}:(c.mobile=1,{site:c,bcat:s}))},unit_ortb2:function(e,t,n){n.ext.gpid=n.ext.gpid.replace("#","_"),n.ext.data.pbadslot=n.ext.gpid,"ttd"===t&&(n.battr=[1,3,6,7,8,9,10,14,17])},nodbkeys:!0},u:{1:[1,"Healthline Desktop_300x250_1","300x250",["300x600"],.1,700,0,0,{"gpt.adunit_regex":"DMR1$"},[[2,"604642",{siteId:"127964",position:"atf"},0],[4,"540307314",0,0],[5,"11002902",0,0],[10,"193270",{size:"300x250"},0],[18,"healthline_Desktop_DMR1_MREC_AB",0,function(e,t){return t.new_tl_test(e)}],[116,"482160476",0,0],[174,"Healthline_Desktop_DMR1_MREC",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"952",{size:"300x250"},0],[186,"953",{size:"300x600"},0],[194,"1",0,0],[195,"1",0,0],[196,"2515",0,0]]],2:[2,"Healthline Desktop_300x250_2","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"DMR2$"},[[2,"604644",{siteId:"127964"},0],[4,"540307315",0,0],[5,"11002903",0,0],[10,"193271",{size:"300x250"},0],[18,"healthline_Desktop_DMR2_MREC_AB",0,0],[116,"265177797",0,0],[174,"Healthline_Desktop_DMR2_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"954",0,0],[186,"981",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2516",0,0]]],3:[3,"Healthline Desktop_300x250_3","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"DMR3$"},[[2,"604646",{siteId:"127964"},0],[4,"540307316",0,0],[5,"11002904",0,0],[10,"193272",{size:"300x250"},0],[18,"healthline_Desktop_DMR3_MREC_AB",0,function(e,t){return t.new_tl_test(e)}],[116,"157131625",0,0],[174,"Healthline_Desktop_DMR3_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"955",0,0],[186,"982",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2517",0,0]]],4:[4,"Healthline Desktop_300x250_4","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"DMR4$"},[[2,"604648",{siteId:"127964"},0],[4,"540307317",0,0],[5,"11002905",0,0],[10,"193273",{size:"300x250"},0],[18,"healthline_Desktop_DMR4_MREC_AB",0,0],[116,"171862636",0,0],[174,"Healthline_Desktop_DMR4_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"956",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2518",0,0]]],5:[5,"Healthline Desktop_300x250_5","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"DMR5$"},[[2,"604650",{siteId:"127964"},0],[4,"540307318",0,0],[5,"11002906",0,0],[10,"193274",{size:"300x250"},0],[18,"healthline_Desktop_DMR5_MREC_AB",0,0],[116,"662144784",0,0],[174,"Healthline_Desktop_DMR5_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"957",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2519",0,0]]],6:[6,"Healthline Desktop_300x250_6","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"DMR6$"},[[2,"604652",{siteId:"127964"},0],[4,"540307320",0,0],[5,"11002907",0,0],[10,"193275",{size:"300x250"},0],[18,"healthline_Desktop_DMR6_MREC_AB",0,0],[116,"753865295",0,0],[174,"Healthline_Desktop_DMR6_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"958",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2520",0,0]]],7:[7,"Healthline Desktop_300x250_7","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"DMR7$"},[[2,"604654",{siteId:"127964"},0],[4,"540307321",0,0],[5,"11002908",0,0],[10,"193276",{size:"300x250"},0],[18,"healthline_Desktop_DMR7_MREC_AB",0,0],[116,"661335883",0,0],[174,"Healthline_Desktop_DMR7_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"959",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2521",0,0]]],8:[8,"Healthline Desktop_300x250_8","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"DMR8$"},[[2,"604656",{siteId:"127964"},0],[4,"540307322",0,0],[5,"11002909",0,0],[10,"193277",{size:"300x250"},0],[18,"healthline_Desktop_DMR8_MREC_AB",0,0],[116,"537318873",0,0],[174,"Healthline_Desktop_DMR8_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"960",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2522",0,0]]],9:[9,"Healthline Desktop_300x250_9","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"DMR9$"},[[2,"604658",{siteId:"127964"},0],[4,"540307323",0,0],[5,"11002910",0,0],[10,"193278",{size:"300x250"},0],[18,"healthline_Desktop_DMR9_MREC_AB",0,0],[116,"787285489",0,0],[174,"Healthline_Desktop_DMR9_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"961",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2523",0,0]]],10:[10,"Healthline Desktop_300x250_10","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"DMR10$"},[[2,"604660",{siteId:"127964"},0],[4,"540307332",0,0],[5,"11002911",0,0],[10,"193279",{size:"300x250"},0],[18,"healthline_Desktop_DMR10_MREC_AB",0,0],[116,"136586158",0,0],[174,"Healthline_Desktop_DMR10_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"962",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2524",0,0]]],11:[11,"Healthline Desktop_300x250_11","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"D(CMR1|MR11)$"},[[2,"604662",{siteId:"127964"},0],[4,"540307346",0,0],[5,"11002912",0,0],[10,"193280",{size:"300x250"},0],[18,"healthline_Desktop_DMR11_MREC_AB",0,0],[116,"168330849",0,0],[174,"Healthline_Desktop_DMR11_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"963",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2525",0,0]]],12:[12,"Healthline Desktop_300x250_12","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"D(CMR2|MR12)$"},[[2,"604664",{siteId:"127964"},0],[4,"540307347",0,0],[5,"11002913",0,0],[10,"193281",{size:"300x250"},0],[18,"healthline_Desktop_DMR12_MREC_AB",0,0],[116,"821682258",0,0],[174,"Healthline_Desktop_DMR12_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"964",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2526",0,0]]],13:[13,"Healthline Desktop_300x250_13","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"D(CMR3|MR13)$"},[[2,"604666",{siteId:"127964"},0],[4,"540307348",0,0],[5,"11002914",0,0],[10,"193282",{size:"300x250"},0],[18,"healthline_Desktop_DMR13_MREC_AB",0,0],[116,"678963628",0,0],[174,"Healthline_Desktop_DMR13_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"965",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2527",0,0]]],14:[14,"Healthline Desktop_300x250_14","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"D(CMR4|MR14)$"},[[2,"604668",{siteId:"127964"},0],[4,"540307349",0,0],[5,"11002915",0,0],[10,"193283",{size:"300x250"},0],[18,"healthline_Desktop_DMR14_MREC_AB",0,0],[116,"537717616",0,0],[174,"Healthline_Desktop_DMR14_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"966",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2528",0,0]]],15:[15,"Healthline Desktop_300x250_15","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"D(CMR5|MR15)$"},[[2,"604670",{siteId:"127964"},0],[4,"540307351",0,0],[5,"11002916",0,0],[10,"193284",{size:"300x250"},0],[18,"healthline_Desktop_DMR15_MREC_AB",0,0],[116,"571841601",0,0],[174,"Healthline_Desktop_DMR15_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"967",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2529",0,0]]],16:[16,"Healthline Desktop_728x90_1","728x90",["970x250","970x90"],.1,700,0,0,{"gpt.adunit_regex":"DLB1$"},[[2,"604630",{siteId:"127964",position:"atf"},0],[4,"540307352",0,0],[5,"11002896",0,0],[10,"193264",{size:"728x90"},0],[18,"healthline_Desktop_DLB1_728x90_AB",0,function(e,t){return t.new_tl_test(e)}],[116,"814147833",0,0],[174,"Healthline_Desktop_DCMR1_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"973",{size:"728x90"},0],[186,"974",{size:"970x250"},0],[194,"1",0,0],[195,"1",0,0],[196,"2530",0,0]]],17:[17,"Healthline Desktop_728x90_2","728x90",[],.1,700,0,0,{"gpt.adunit_regex":"DLB2$"},[[2,"604632",{siteId:"127964"},0],[4,"540307353",0,0],[5,"11002897",0,0],[10,"193265",{size:"728x90"},0],[18,"healthline_Desktop_DLB2_728x90_AB",0,function(e,t){return t.new_tl_test(e)}],[116,"275526781",0,0],[174,"Healthline_Desktop_DLB2_728x90",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"975",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2531",0,0]]],18:[18,"Healthline Desktop_728x90_3","728x90",[],.1,700,0,0,{"gpt.adunit_regex":"DLB3$"},[[2,"604634",{siteId:"127964"},0],[4,"540307354",0,0],[5,"11002898",0,0],[10,"193266",{size:"728x90"},0],[18,"healthline_Desktop_DLB3_728x90_AB",0,function(e,t){return t.new_tl_test(e)}],[116,"679392274",0,0],[174,"Healthline_Desktop_DLB3_728x90",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"976",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2532",0,0]]],19:[19,"Healthline Mobile_320x50","320x50",["300x50"],.1,700,0,0,{"gpt.adunit_regex":"MLB1$","vp.max_width":767},[[2,"604682",{siteId:"127968"},0],[4,"540307355",0,0],[5,"11002922",0,0],[10,"193290",{size:"320x50"},0],[116,"917839699",0,0],[174,"Healthline_Mobile_MLB1_320x50",0,function(e,t){return t.new_tl_test(e)}],[186,"989",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2533",0,0]]],20:[20,"Healthline Mobile_300x250_1","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"MMR1$"},[[2,"604684",{siteId:"127968"},0],[4,"540307376",0,0],[5,"11002923",0,0],[10,"193291",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_AB",0,function(e,t){return t.new_tl_test(e)}],[116,"339384118",0,0],[174,"Healthline_Mobile_MMR2_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"980",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2534",0,0]]],21:[21,"Healthline Mobile_300x250_2","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"MMR2$"},[[2,"604686",{siteId:"127968"},0],[4,"540307377",0,0],[5,"11002924",0,0],[10,"193292",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_2_AB",0,function(e,t){return t.new_tl_test(e)}],[116,"189578804",0,0],[174,"Healthline_Mobile_MMR5_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[194,"1",0,0],[195,"1",0,0],[196,"2535",0,0]]],22:[22,"Healthline Mobile_300x250_3","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"MMR3$"},[[2,"604688",{siteId:"127968"},0],[4,"540307378",0,0],[5,"11002925",0,0],[10,"193293",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_3_AB",0,function(e,t){return t.new_tl_test(e)}],[116,"416732783",0,0],[174,"Healthline_Mobile_MMR4_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[194,"1",0,0],[195,"1",0,0],[196,"2536",0,0]]],23:[23,"Healthline Mobile_300x250_4","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"MMR4$"},[[2,"604690",{siteId:"127968"},0],[4,"540307379",0,0],[5,"11002926",0,0],[10,"193294",{size:"300x250"},0],[116,"579762571",0,0],[174,"Healthline_Mobile_MMR3_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"983",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2537",0,0]]],24:[24,"Healthline Mobile_300x250_5","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"MMR5$"},[[2,"604692",{siteId:"127968"},0],[4,"540307380",0,0],[5,"11002927",0,0],[10,"193295",{size:"300x250"},0],[116,"823314966",0,0],[174,"Healthline_Mobile_MMR1_300x250",0,function(e,t){return t.new_tl_test(e)}],[184,"1996212",{siteId:366962},0],[186,"984",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2538",0,0]]],106:[106,"Healthline Mobile_300x250_Extra","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"MMR_extra"},[[2,"2166376",{siteId:"127968"},0],[5,"22764059",0,0],[10,"720461",{size:"300x250"},0],[116,"431904676",0,0],[186,"985",0,0],[194,"1",0,0],[195,"1",0,0],[196,"2539",0,0]]],110:[110,"Healthline Desktop_MPD","728x90",[],.1,700,0,0,{"gpt.adunit_regex":"dlb_mpd"},[[2,"2781230",{siteId:"127964"},0],[5,"29304552",0,0],[10,"951520",{size:"728x90"},0],[18,"Healthline_Desktop_DMRMPD_728x90_AB",0,0],[116,"272418718",0,0],[196,"2540",0,0]]],111:[111,"Healthline Mobile_MPD","300x250",[],.1,700,0,0,{"gpt.adunit_regex":"mmr_mpd"},[[2,"2781234",{siteId:"127968"},0],[5,"29304556",0,0],[10,"951519",{size:"300x250"},0],[18,"Healthline_Mobile_MMRMPD_300x250_AB",0,0],[116,"131682257",0,0],[196,"2541",0,0]]]}}),v={},_={},n={},i=(window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return h.logl("g","Global read: ",e,n[e]),n[e];n[e]=t,h.logl("g","Global set: ",e,t)},b.s.preconfigure_init&&h.wrapAsync(b.s.preconfigure_init)(b.s),l.getId=function(){return b.c},l.libSettings=function(t){if(t){var e,n;try{n="function"==typeof b.s[t]?(e=Array.prototype.slice.apply(arguments,[1]),b.s[t].apply(null,e)):b.s[t]}catch(e){h.err("ConfigKeyFail",t,e)}return n}return b.s},l.kvp=function(e){var t=b.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},l.proc=function(e){b.s.pub=b.s.pub||{},h.each(e,function(e,t){b.s.pub[t]=e}),h.log("Publisher config update: ",JSON.stringify(b.s.pub)),g("./modules.js").trigger("pub.config",b.s.pub)},l.deca=function(e){if(b.s.alter_adb_pixel)try{e=b.s.alter_adb_pixel(e)}catch(e){h.err("Alter adb fail",e)}return e},l.configureUnit=function(e,t){var n,i=!1,r=[];for(n in b.u)if(b.u.hasOwnProperty(n)){var o=m(0,b.u[n]);if(g("./modules.js").trigger("unit.dynamic",o,b.s,e),b.s.dynamic_configuration)try{var a=b.s.dynamic_configuration(o,b.s,e);if(!(o="object"!=typeof a&&!1!==a?o:a))continue}catch(e){h.err("Failed dynamic configuration",e)}if(t){if(t!==o.id)continue;i=o;break}if(o.rule_order)r[o.rule_order]=o;else if(f(e,o,b.s)){i=o;break}}if(!i&&r.length)for(var s=0;s<r.length;++s)if(r[s]&&f(e,r[s],b.s)){i=r[s];break}if(i){e.configure(i);var d=e,c=i;if(c.bid_req_confs&&c.bid_req_confs.length)for(var u=0;u<c.bid_req_confs.length;++u){var l=c.bid_req_confs[u],l={bidder_id:l[0],bidder_unit_id:l[1],settings:l[2]||{},mutate:l[3]||!1},p=_[String(l.bidder_id)];h.qsab(p,l.bidder_id)&&(d.addBidder(p,v[p]),d.addBidReqConf(p,l,b.s))}}},l.units=function(n){h.each(b.u,function(e,t){n(m(0,e))})},b.s.usp);(i="function"==typeof i?i():i)&&h.cfusp(i.image,i.iframe,i.delay),l.afterConsent=g("./consent.js")(b);l.ortb2=function(t){var e,n=h.urlref(),i=h.vp(),r=n.domain.replace(/^www\./i,""),o={};try{var a=document.querySelector("meta[name='keywords']"),s=(a&&a.content&&a.content.replace&&(e=a.content.replace(/\s/g,"")),o={site:{page:n.page,ref:n.ref,domain:r,keywords:e,publisher:{domain:r}},device:{w:i.w,h:i.h,dnt:h.dnt()?1:0,ua:window.navigator.userAgent,language:window.navigator.language.split("-").shift()}},function(){function e(e,t){e={brand:e};return"string"==typeof t&&t&&(e.version=t.split(".")),e}try{var t=window.navigator.userAgentData;if(!t)return null;var n={source:1};function i(e){"string"==typeof t[e]&&(n[e]=t[e])}t.platform&&(n.platform=e(t.platform,t.platformVersion));var r=t.fullVersionList||t.brands;if(r){n.browsers=[];for(var o=0;o<r.length;++o){var a=r[o];n.browsers.push(e(a.brand,a.version))}}return t.hasOwnProperty("mobile")&&(n.mobile=t.mobile?1:0),i("model"),i("bitness"),i("architecture"),Object.freeze(n)}catch(e){}return null}()),d=(s&&(o.device.sua=s),{}),c=!1,u=(window.navigator.globalPrivacyControl&&(d.ext={gpc:1},c=!0),l.libSettings("coppa"));"boolean"==typeof u&&(d.coppa=u?1:0,c=!0),c&&(o.regs=d)}catch(e){p||(h.err("Ortb2GenFail",e),p=!0)}a=l.libSettings("bidder_ortb2",t)||{};if("string"==typeof a)try{a=JSON.parse(a)}catch(e){h.err("BrcOrtb2JsonFail",t)}return Object.assign(o,a),o};var o=g("./modules.js"),i=(o.setup(l),g("./adapters/lasso.js")),r=g("./adapters/hlcg.js"),a=g("./adapters/ttd.js"),s=g("./adapters/deepintent.js"),d=g("./adapters/rubiconpg.js"),c=g("./adapters/triplelift_direct.js"),u=g("./adapters/medianet.js"),y=g("./adapters/triplelift.js"),w=g("./adapters/index.js"),x=g("./adapters/appnexusast.js"),A=g("./adapters/openx.js");t("rubicon",g("./adapters/rubicon.js"),[2,{accountId:11314},function(e,t){try{e.params=e.params||{},e.params.inventory={k1:""+googletag.pubads().getTargeting("k1")||t.pub&&t.pub.k1||"",k2:""+googletag.pubads().getTargeting("k2")||t.pub&&t.pub.k2||"",msiteactive:""+googletag.pubads().getTargeting("msiteactive")||t.pub&&t.pub.msiteactive||"",url:""+h.url().href||"",pos:""+e.unit.get("gpt_slot").getTargeting("pos")[0]||""},h.log("Rubicon KVP",e.params.inventory)}catch(e){h.err("HL Rubicon KVP fail",e)}return e}]),t("openx",A,[4,{delDomain:"healthline-d.openx.net"},0]),t("appnexus",x,[5,0,function(e,t){return e.params=e.params||{},e.params.keywords={k1:""+googletag.pubads().getTargeting("k1")||t.pub&&t.pub.k1||"",k2:""+googletag.pubads().getTargeting("k2")||t.pub&&t.pub.k2||""},e}]),t("ix",w,[10,0,0]),t("triplelift",y,[18,0,0]),t("medianet",u,[116,{cid:"8CUPK277N"},0]),t("tpl_direct",c,[174,0,0]),t("pgRubicon",d,[184,{accountId:11314,test:!0},0]),t("deepintent",s,[186,{min_cpm:20,test:!0},0]),t("ttd",a,[194,{supplySourceId:"healthlinemedia",adjust:.982},function(e,t){return t.hl_ttd_throttle(e)}]),t("hlcg",r,[195,{test:!0},function(e,t){return t.hl_use_hlcg?t.hl_use_hlcg(e):e}]),t("lasso",i,[196,{adjust:.75},0]),l.afterConsent(function(e){g("./modules.js").trigger("consent.check_complete",e)})},{"./adapters/appnexusast.js":1,"./adapters/deepintent.js":2,"./adapters/hlcg.js":3,"./adapters/index.js":4,"./adapters/lasso.js":5,"./adapters/medianet.js":6,"./adapters/openx.js":7,"./adapters/rubicon.js":8,"./adapters/rubiconpg.js":9,"./adapters/triplelift.js":10,"./adapters/triplelift_direct.js":11,"./adapters/ttd.js":12,"./ajax":13,"./consent.js":17,"./modules.js":21,"./utils":58}],17:[function(i,z,U){var r,t,n,o,s=i("./utils.js"),a=(z.exports=s.wrapAsync(function(e){return r=e,function(e){L(e)}}),""),d=function(e,t){a+=e,t&&(a+=t)},M={iab:"A",conversant:"B"},q={geoblock:"C",geoblockbids:"D",geocmp:"E"},N="M";function c(){if(v&&_&&y)for(;x.length;){var e=x.shift();A(e)}}function u(){k||(k=!0,s.log("Consent: removing action configurations."),r.u=[],d("N"))}function l(){googletag&&googletag.cmd&&!T&&(T=!0,s.log("Consent: set GPT setRequestNonPersonalizedAds(1)."),d("L"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)}))}function p(){googletag&&googletag.cmd&&!F&&(F=!0,s.log('Consent: set GPT setPrivacySettings({ "restrictDataProcessing": true }).'),d(N),googletag.cmd.push(function(){googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})}))}var g,f,m,e,h,b,v=!1,_=!1,y=!1,w=!1,x=[],L=(s.qs("adb_skip_consent")&&(s.log("Consent: skipped by qs"),y=_=v=!0),s.wrapAsync(function(e){"function"!=typeof e?s.err("Consent: invalid cb",e):(e=s.wrapAsync(e),v&&_&&y?A(e):(x.push(e),w||(w=!0,V(),G(),X())))})),A=function(e){e(t,n,a,o)},S=s.wrapAsync(function(e){s.log("Consent: done gathering GDPR consent",e),t=e,v=!0,d("u"),c()}),I=s.wrapAsync(function(e){s.log("Consent: done gathering USP consent",e),_=!0,"Y"===(((n=e)||{}).uspString||"").substr(2,1)&&(e.adbOptOut=!0),d("h"),c()}),j=s.wrapAsync(function(e){s.log("Consent: done gathering GPP consent",e),o=e,y=!0,c()}),k=!1,T=!1,F=!1,V=function(){var e=r.s.cmp;"function"==typeof e?(d("t"),e(r.s,s.wrapAsync(function(e){C(e)}))):C(e)},C=s.wrapAsync(function(n){n&&"na"!==n?"pubblock"===n?(s.log("Consent: gdpr: pubblock"),d("F"),u(),l(),S({gdprApplies:!0,consentString:""})):"iab"===n||"conversant"===n?(d(M[n]),H(n)):"geoblock"===n||"geoblockbids"===n||"geocmp"===n?(d(q[n]),J(function(e){var t;-1==="AT,BE,BG,HR,CY,CZ,DK,EE,FI,FR,DE,GR,HU,IE,IT,LV,LI,LU,MT,NL,PL,PT,RO,SK,SI,ES,SE,GB,UK,NO,IS,LI,GI,AX,GF,GP,MQ,YT,RE,MF,FK,CH,AD,MC,SM,VA,".indexOf(e.slice(0,2))?(s.log("Consent: gdpr: not in EU:",e),d("y"),S({gdprApplies:!1,consentString:""})):"geocmp"===n?(t=r.s.cmp_for_geo,s.log("Consent: gdpr: in EU, checking cmp:",t),d("x"),setTimeout(function(){C(t)},0)):"geoblock"===n?(d("v"),s.rec("GDPRBlockAll"),s.log("Consent: gdpr: in EU, disabling ads")):(d("w"),s.log("Consent: gdpr: geoblockbids - preventing auctions and continuing to GAM"),u(),l(),S({gdprApplies:!0,consentString:""}))})):(d("z"),s.err("Consent: unrecognized cmp value",n),S()):(d("G"),S())}),R=0,H=s.wrapAsync(function(){var e,t,n;if("function"!=typeof window.__tcfapi)return e=r.s.cmp_check_interval,t=r.s.cmp_check_max,e&&R<t?(0===R&&(d("p"),s.log("Consent: gdpr: cmp not found yet - checking every ",e,"ms; max ",t,"intervals")),R+=1,void setTimeout(H,e)):(n=r.s.cmp_fallback)?(s.log("Consent: gdpr: fallback to",n),d("o"),void setTimeout(function(){C(n)},0)):(d("n"),void s.log("Consent: gdpr: CMP object not found, preventing further execution."));s.log("Consent: gdpr: calling TCFv2"),d("U");function o(){window.__tcfapi("addEventListener",2,i)}var a=!1,i=s.wrapAsync(function(e,t){var n,i,r;if(!1===t)d("V"),s.log_err("TCF22Failed");else if(e){if(d("s"),t=e.eventStatus,n=e.tcString,(r=(i=e).gdprApplies)&&(!n||"cmpuishown"===t))return a||(a=!0,s.log("Consent: gdpr: TCFv2 not ready yet. Waiting...")),void setTimeout(o,200)}else d("r");S({consentString:n,vendorData:i,gdprApplies:r})});o()}),D=!1,G=function(){var t,e=r.s.ccpa;"notifgpp"===e&&window.__gpp?(s.log("Consent: ccpa: uspapi disabled by presence of __gpp"),d("W"),I()):"optout"===e?(s.log("Consent: ccpa: opting out all users, restricting gpt processing"),d("l"),p(),I({version:1,uspString:B()})):0===(e||"").indexOf("geoblock,")?(t=e.split(",").slice(1),J(function(e){-1!==t.indexOf(e)?(s.log("Consent: ccpa: opting out ",t," users, restricting gpt processing"),d("O"),p(),I({version:1,uspString:B()})):(s.log("Consent: ccpa: region OK",e),d("T"),I({version:1,uspString:"1---"}))})):("nobreak"===e&&(e="iab",D=!0),!e&&window.__uspapi&&(e="iab",d("k")),(e?"iab"===e?(d("j"),P):(s.log("Consent: ccpa: unknown strategy, continuing as normal; strategy=",e),d("i"),I):(s.log("Consent: ccpa: no strategy defined, continuing as normal"),d("m"),I))())},B=function(){var e=r.s.ccpa_signatory||"N";return"1"+(r.s.ccpa_button||"N")+"Y"+e},E=0,P=s.wrapAsync(function(){var n=r.s.usp_check_interval||500,i=r.s.usp_check_max||30;if(!window.__uspapi)return!D&&n&&E<i?(0===E&&(s.log("Consent: usp: __uspapi not found yet - checking every ",n,"ms; max ",i,"intervals"),d("b")),E+=1,void setTimeout(P,n)):D?(s.log("Consent: usp: no api found, but continuing due to nobreak mode"),d("d"),void I()):(s.log("Consent: usp: __uspapi not found, preventing further execution."),void d("a"));0===E&&d("c"),window.__uspapi("getUSPData",1,s.wrapAsync(function(e,t){if(s.log("Consent: usp: result",e,t),!(t||e&&e.uspString))return!D&&n&&E<i?(0===E&&(s.log("Consent: usp: result empty, re-checking in ",n,"ms"),d("e")),E+=1,void setTimeout(P,n)):D?(s.log("Consent: usp: invalid api result, but continuing due to nobreak mode"),d("d"),void I()):(s.log("Consent: usp: __uspapi returned invalid, defaulting to Opt Out"),d("f"),p(),void I({version:1,uspString:B()}));e&&e.uspString?(d("g"),"Y"===e.uspString.substr(2,1)&&p()):d("d"),I(e)}))}),J=(m=[],function(e){var t,n;"function"!=typeof e?s.err("Consent: bad region cb",e):(e=s.wrapAsync(e),g||(t=s.cr("adbrgn"))&&(s.log("Consent: region cookie found",t),d("S"),g=t),g?e(g):(m.push(e),f||(s.log("Consent: geo region requested"),f=!0,n=function(){for(;m.length;)m.shift()(g)},i("./ajax.js")({url:"https://geo.adspsp.com",withCredentials:!1,parseResponseJson:!1},s.wrapAsync(function(e,t){if(e)return s.err("geo/region",e),r.s.cmp_allow_geofail?(g="????",s.log("Consent: error getting region, continuing"),d("P"),void n()):(s.log("Consent: region check failed; preventing further action"),void d("Q"));g=t,s.log("Consent: region check result",g),s.cw("adbrgn",g),s.log("Consent: cached region",g),d("R"),n()})))))}),X=s.wrapAsync(function(){var e=r.s.gpp;if(e="function"==typeof e?e():e){if(!window.__gpp)return"nobreak"===e?(s.log("Consent: gpp: no api, moving on"),d("X"),void j()):(s.log("Consent: gpp: no api, polling"),d("Y"),void O());s.log("Consent: gpp: using api"),K()}else s.log("Consent: gpp: no implementation"),d("X"),j()}),W=!1,K=s.wrapAsync(function(){var t;W||(W=!0,s.log("Consent: gpp: subscribing"),d("Z"),t=!1,window.__gpp("addEventListener",s.wrapAsync(function(e){s.log("Consent: gpp: ping",e),t||"loaded"===(e=e&&e.pingData||{}).cmpStatus&&("disabled"===e.cmpDisplayStatus?(s.log("Consent: gpp: cmpDisplayStatus=disabled; continuing",e),t=!0,d("1"),j(e)):"ready"===e.signalStatus&&(t=!0,s.log("Consent: gpp: signal found",e),d("2"),j(e)))})))}),O=s.wrapAsync(function(){clearTimeout(e),window.__gpp?(s.log("Consent: gpp: using api after poll"),K()):h?1e4<s.dts()-h?(d("0"),s.log("Consent: gpp: did not find api, preventing further execution")):(e=setTimeout(O,50),b||(b=!0,s.log("Consent: gpp: poll is running"))):(h=s.dts(),e=setTimeout(O,50),s.log("Consent: gpp: poll started"))})},{"./ajax.js":13,"./utils.js":58}],18:[function(e,t,n){var u=e("./utils.js"),i=e("./config.js");t.exports=function(s,d){var c=!1;return"object"==typeof s&&(c=s.allow,s=s.name),function(o,a){i.afterConsent(function(e,t,n,i){if(!c&&e&&e.gdprApplies&&!e.consentString)u.log("ConsentWrapper: GDPR disabled module",s);else if(!c&&t&&t.adbOptOut)u.log("ConsentWrapper: CCPA disabled module",s);else{if(!c&&i&&i.parsedSections){var r=i.parsedSections.usnatv1;if(r&&1===r.SaleOptOut)return void u.log("ConsentWrapper: GPP-USNatV1 disabled module",s)}u.log("ConsentWrapper: Executing module",s),d(o,a,e,t,i)}})}}},{"./config.js":16,"./utils.js":58}],19:[function(e,U,M){if(window.AdBridg=window.AdBridg||{cmd:[]},window.googletag=window.googletag||{cmd:[]},AdBridg.gpt=window.googletag,!(AdBridg.exists||window.googletag&&googletag.cmd&&googletag.cmd===AdBridg.cmd)){AdBridg.exists=!0,window.pbjs=window.pbjs||{que:[]},window.pbjs.version="v7.44.0";var m=e("../utils.js"),l=e("../unit.js"),p=e("../auction.js"),h=e("../config.js"),b=e("../analytics.js"),v=e("../modules.js"),q=e("../mockprebid.js");if(!m.qs("adb_off"))if(e=m.vp(),/headless/i.test(navigator.userAgent)||0===e.w||0===e.h)m.log("headless browser detected; shutting down"),m.rec("headless");else{s={enableSingleRequest:z,disableInitialLoad:z,addEventListener:(a={add:function(e,t){a[e]=(a[e]||[]).concat(t)},remove:function(e,t){a[e]=(a[e]||[]).filter(function(e){return e!==t})},trigger:function(){var t=[].slice.apply(arguments),e=t.shift();(a[e]||[]).forEach(function(e){e.apply(0,t)})}}).add,removeEventListener:a.remove,safeFrameConfig:!1,setSafeFrameConfig:function(e){s.safeFrameConfig=e},targeting:{},setTargeting:function(e,t){s.targeting[e]=t},refresh:function(e){e.forEach(function(e){var n=document.createElement("iframe"),t=document.getElementById(e.getSlotElementId()),i=!s.safeFrameConfig||e.getTargeting("unsafe")[0],r=(n.height=e.sizes[0][1],n.width=e.sizes[0][0],n.border="0px",n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.style.border="0",n.scrolling="no",{slot:e,advertiserId:0,campaignId:0,creativeId:0,isEmpty:!(n.frameBorder="0"),lineItemId:0,size:null,sourceAgnosticCreativeId:0,sourceAgnosticLineItemId:0}),o=e.getTargeting(h.kvp("adb_adid"))[0];i?n.src="about:blank":(s.safeFrameConfig&&s.safeFrameConfig.sandbox&&(n.sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),n.src="https://prod.adspsp.com/iframe.html"),t.innerHTML="",t.appendChild(n),o?(n.contentDocument.open(),n.contentDocument.write(i?'<script>try { top.AdBridg.render(document, "'+o+'") } catch(e) {}<\/script>':'<html><head><script type="text/javascript" src="https://prod.adspsp.com/adbpmc2.js"><\/script><script type="text/javascript">AdBridgServe("'+location.href+'", "'+o+'");<\/script></head><body></body></html>'),a.trigger("slotRenderEnded",r)):"function"==typeof(t=h.libSettings().getHouseAd)?t(e,function(e,t){n.contentDocument.open(),n.contentDocument.write(e),r.isEmpty=!1,a.trigger("slotRenderEnded",m.assign(r,t))}):(m.log(e.getAdUnitPath(),"nothing to render"),r.isEmpty=!0,a.trigger("slotRenderEnded",r))})}},AdBridg.gptStub={cmd:{push:function(e){e()}},pubads:function(){return s},defineSlot:function(e,t,n){var i={sizes:t,targeting:{},addService:z,getSlotElementId:function(){return n},getAdUnitPath:function(){return e},setTargeting:function(e,t){i.targeting[e]=t},getTargeting:function(e){return[].concat(i.targeting[e],s.targeting[e]).filter(Boolean)},getTargetingMap:z};return i},enableServices:z,display:z},("function"==typeof h.libSettings().nogpt&&h.libSettings().nogpt()||m.qs("adb_nogpt"))&&(m.log("Disabling GPT"),AdBridg.gpt=AdBridg.gptStub);function g(e){return function(){var d=m.mock();X||(X=!0,v.on("icu.iab",W)),m.each(e,function(e){var t,n,i,r,o,a,s=e.getSlotElementId(),s=document.getElementById(s);s&&(s.innerHTML="",n=t=!1,r=i=0,o=e.getSizes(),m.each(o,function(e){"fluid"===e?t=!0:(!r&&"common"===d&&0<=["728x90","320x50","300x250"].indexOf(e.width+"x"+e.height)||"small"===d&&r>e.height||"large"===d&&r<e.height||"native"===d&&Math.random()<.5)&&(i=e.width,r=e.height)}),r||(i=o[0].width,r=o[0].height),t&&!r?(n=!0,i="100%",r=m.random(90,600)+"px"):(i+="px",r+="px"),o="border:0pt none;display:inline-block;white-space:pre-wrap;width:"+i+";height:"+r+";background:#dbbdf1;",(a=document.createElement("div")).setAttribute("style",o),a.innerText=i+" x "+r+" // "+e.getAdUnitPath(),s.appendChild(a),t&&"native"===d&&setTimeout(function(){i="100%",r=m.random(90,600)+"px",a.style.width=i,a.style.height=r,a.innerText=i+" x "+r+" (native resize) // "+e.getAdUnitPath()},m.random(100,500)),fe({mocked:!0,slot:e,isEmpty:!1,size:n?"fluid":[i,r],serviceName:"publisher_ads",advertiserId:1,campaignId:1,comoanyIds:null,creativeId:1,creativeTemplateId:null,isBackfill:!1,labelIds:null,lineItemId:1,slotContentChanged:!0,sourceAgnosticCreativeId:1,sourceAgnosticLineItemId:1}))})}}function f(i,r,d){return m.wrapAsync(function(s){O("ra",function(){var t,e,o=[],a={},n=(s.eachUnit(function(t){var e=t.toPrebidAdUnitCode();if(a[e]={},s===c){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var n=h.libSettings().post_auc_ufilter;if(n){var i=n(t,d);if(i)return void m.log("Ignoring",t.alias,t.get("dom_id"),i)}}catch(e){m.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{var r=t.getWinner();t.settings.require_bid&&!r?(m.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),m.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})()):(r&&t.gptTargetSet(r),a[e]=function(e){var t,n={},i=e.getWinner(),r=h.libSettings("bid_strategy",i),o=e.get("gpt_slot"),a=(te(o),v.trigger("gpt.set_targeting",e,o),e.get("adb_imp_data"));if(a&&(t=o.getTargeting("adb_imp")||[],m.isarr(t)||(t=[t]),m.each(a,function(e){e&&-1===t.indexOf(e)&&t.push(e)}),t.length)&&o.setTargeting(h.kvp("adb_imp"),t),h.libSettings().track_alias&&o.setTargeting(h.kvp("adb_cfg"),e.alias),i){AdBridg.gpt!==window.googletag&&(o.setTargeting("unit",e),(h.libSettings().unsafeBidders||"").split(",").filter(function(e){return e===i.config.bidder_name}).length)&&o.setTargeting("unsafe",!0);var a=(ee[i.id]=i).config.dfp_bidder_name||i.config.bidder_name,s=i.cpm,d=h.libSettings().cur,c=(d&&(d.exclude&&-1<d.exclude.indexOf(i.config.bidder_id)?m.log("Currency conversion skipped: ",i.config.bidder_name):(m.log("Currency conversion: USD = ",s,"; Rate = ",d.rate,"; DFP = ",d.rate*s),s*=d.rate)),m.toRange(s,r)),u=c.kv,d=(v.trigger("gpt.modify_hbc",e,o,{bid:i,range:c,mod:function(e){return s=e,c=m.toRange(s,r),u=c.kv,c}}),m.qs("adb_force_bidder")?(a="force",u=""):m.qs("adb_force_sf_bidder")&&(a="forcesf",u=""),m.qs("adb_force_pbuc")&&(a="force_pbuc",u="",m.log("Forcing PBUC")),h.libSettings().vs_threshold);if("function"==typeof d)try{var l=d(s);l&&o.setTargeting(h.kvp("adb_vs"),l)}catch(e){m.err("HVfail",e)}var d=h.kvp("adb_bdr"),l=h.kvp("adb_hbc"),p=h.kvp("adb_adid");n[d]=[a],n[l]=[u],n[p]=[i.id],o.setTargeting(d,n[d]),o.setTargeting(l,n[l]),o.setTargeting(p,n[p]),m.log("Set GPT targeting for ",o.getAdUnitPath()," / ",o.getSlotElementId(),": ",a,u),ie(o,s)}else o.setTargeting(h.kvp("adb_bdr"),["none"]),ie(o,-1),v.trigger("gpt.no_hbc",e,o,function(e){return m.toRange(e,r)},function(e,t){ne(e),ie(e,t)});return n}(t),o.push(t.get("gpt_slot")))}catch(e){m.err("Err setting unit ",t.alias,t.get("dom_id"),e)}}),v.trigger("gpt.set_pb_targeting",a),j.concat(o));if(j=[],_(n),"function"==typeof i&&i(s),C&&!(n=oe("AC",n)).length)return m.err("All units cancelled",s.id);(C||d)&&(P(),t=[],m.each(n,function(e){t.push(e.getAdUnitPath()+"#"+e.getSlotElementId())}),m.log(T,"GPT Batch: ",n.length,t),(e=h.libSettings("gpt_refresh_options",r))&&(r=e),v.trigger("gpt.before_request",n,r,d),m.mock()?((e=h.libSettings("mock_ms"))||0===e||(e=Math.floor(1900*Math.random())+100),m.logl("mock","bypass gpt",e,d),setTimeout(g(n),e)):AdBridg.gpt.pubads().refresh(n,r),v.trigger("gpt.request_adbridg",s,d))})})}function N(){var e,t;Z&&(e=I.length,(I=oe("PT",I)).length?(m.isdebug()&&(t=[],m.each(I,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),m.log("Non-bid request with",I.length," units: ",t)),O("rp",function(){var e,t,n=I;I=[],n.length&&(P(),_(n),m.log(T,"GPT PT Batch: ",n.length),e=h.libSettings("gpt_refresh_options")||{},v.trigger("gpt.before_request",n,e),m.mock()?((t=h.libSettings("mock_ms"))||0===t||(t=Math.floor(1900*Math.random())+100),m.logl("mock","bypass gpt-pt",t),setTimeout(g(n),t)):AdBridg.gpt.pubads().refresh(n,e),v.trigger("gpt.request_passthrough",n))})):e&&m.err("PT units cancelled"))}function _(e){m.each(e,function(e){var t=e.getSlotElementId(),n=(R[t]||0)+1,t=(R[t]=n,h.libSettings().track_imps);if(t)try{"string"!=typeof t&&(t="1:1-11");for(var i=Math.floor(m.toRange(n,t).kv.split("-")[0]),r=e.getTargeting("adb_imp"),o=r.length-1;0<=o;--o)String(r[o]).match(/^\d+$/)&&r.splice(o,1);r.push(i),e.setTargeting(h.kvp("adb_imp"),r)}catch(e){m.err("Counter failed: ",e)}})}function L(e){return r[e.getSlotElementId()]}function y(e){m.log("Locked slot: ",e.getSlotElementId()),r[e.getSlotElementId()]=!0}function F(e,i,r){var o=[],o=Number(e[0])===e[0]?[e]:[].concat(e),a=[];if(m.each(o,function(e,t){var n;"string"==typeof e[t]?(0!==(n=e[t].split("x"))[0]&&0!==n[1]||m.err("0 size in",i,r,e[t]),e[t].match(/^\d+x\d+$/)||a.push(t)):(0!==e[0]&&0!==e[1]||m.err("0 size in",i,r,e.join?e.join("x"):e),o[t]=e.join("x"))}),a.length)for(var t=a.length-1;0<=t;--t)o.splice(t,1);return o}function V(e,t,n){return e?(e=e.replace(/\$\{AUCTION_PRICE\}/g,t),n&&n.clickThrough?e.replace(/\$\{CLICKTHROUGH\}/g,n.clickThrough):e):""}function H(e){for(var t,n,i=k.length-1;0<=i&&!(t=(n=k[i]).findUnit(e));--i);return!!(t=!t&&c?(n=c).findUnit(e):t)&&{auction:n,unit:t}}function t(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),ye<=99&&(ye+=1),b.meta("wb",ye)})}function G(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),b.meta("wb",0)})}var a,s,J,X=!1,W=function(e,t){for(var n=AdBridg.gpt.pubads().getSlots(),i=0;i<n.length;++i){var r=n[i];if(r.getSlotElementId()===t.d)return m.log("MOCK VIEWED SLOT!",t.d),void he({mocked:!0,slot:r})}},K=!1,$=[],c=!1,Y=[],Q=!1,w=[],d=[],x={},A={},u={},S={},Z=!1,I=[],j=[],ee={},k=[],T="Workflow |",C=!0,e=h.libSettings().sra_if,te=((e&&!e()||h.libSettings().no_sra)&&(C=!1),function(e){var t,n,i=h.libSettings().gpt_clear_kvps,r=[],o=e.getTargetingMap(),a=!1;for(n in o)o.hasOwnProperty(n)&&("adb_"===n.substr(0,4)||i&&0<=i.indexOf(n)?a=!0:r.push([n,o[n]]));if(a)for(e.clearTargeting(),t=0;t<r.length;++t)e.setTargeting(r[t][0],r[t][1]);ne(e)}),ne=m.wrapAsync(function(e){var t=h.libSettings().gpt_exclusions;if(t){for(var n=!1,i=e.getCategoryExclusions(),r=i.length-1;0<=r;--r){var o=i[r];t.hasOwnProperty(o)&&(i.splice(r,1),n=!0)}if(n)for(e.clearCategoryExclusions(),r=0;r<i.length;++r)e.setCategoryExclusion(i[r])}}),ie=m.wrapAsync(function(e,t){var n=h.libSettings().gpt_exclusions;if(n){var i,r=[];for(i in n){var o=n[i];("function"==typeof o&&o(e,t)||o<=t)&&(e.setCategoryExclusion(i),r.push(i))}r.length&&m.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",r)}}),re={},R={},r={},oe=(AdBridg.has_gpt_lock=L,m.wrapAsync(function(r,e,o){var a=h.libSettings().max_imp_ctr,s=("function"==typeof a&&(a=a()),[]);return m.each(e,function(e){var t=e&&e.getSlotElementId?e:e.get("gpt_slot");if(t){var n=t.getSlotElementId();if(!u[n]){if(D("F"+r,n))return m.log("Slot excluded; element hidden",n);if(o){if(L(t))return m.log("Cannot refresh locked dom_id: ",t.getSlotElementId());if(a){var i=R[n]||0;if(a<=i)return re[n]?m.log("Slot excluded; too many imps: ",t,i+" > "+a):m.err("Slot imp max: ",t.getAdUnitPath(),n,a)}}i=[];if(v.trigger("gpt.filter_slot",r,t,o,i),i.length)return m.log("Module blocking",r,t,i);s.push(e)}}}),s})),D=function(e,t,n){var i=m.dom_invisible(t);if(i){n=n||0;var r=h.libSettings().block_invisible;if(r="function"==typeof r?r(e,t,i):r)return m.logl("dei","DEI.R",e,t,i,n),i;m.logl("dei","DEI.A",e,t,i,n)}return!1},ae=(window.AdBridg.defineSlot=m.wrapAsync(function(e,t,n){var i=D("DS",n);if(i)return m.log("Slot definition blocked: ",n,i),!1;i=h.libSettings().block_slot;if("function"==typeof i)try{if(i(e,n))return void m.err("Blocking slot:  ",e," with dom_id: ",n)}catch(e){m.err("DefineOverride",e)}i=h.libSettings().override_define;if("function"==typeof i)try{var r=i(e,t,n);if(!1===r)return m.log("Param override prevented defineSlot",e," dom_id=",n),!1;"object"==typeof r&&(r.dfp_ad_unit_path&&(e=r.dfp_ad_unit_path),r.dfp_sizes&&(t=r.dfp_sizes),r.dom_id)&&(n=r.dom_id)}catch(e){m.err("DefineOverride",e)}t&&(!m.isarr(t)||t.length)||(b.ctr("dsea"),t=[1,1]);var o,a,s,i=AdBridg.gpt.defineSlot(e,t,n);return i&&(i.addService(AdBridg.gpt.pubads()),y(i),o=(r=F(t,e,n)).join(","),(a=new l({dom_id:n,gpt_slot:i,gpt_sizes:o,imp_ctr:(R[n]||0)+1})).restrictSizesTo(r),x[n]=o,r=400,"object"==typeof(s="function"==typeof(s=h.libSettings().lazy)?s(a,i,n,h.libSettings()):s)?(s.distance&&(r=s.distance),s.duration&&s.duration):"number"==typeof s&&(r=s),s&&(m.log("Requiring lazy: ",n,"distance=",r),a.set("lock.lazy",1),s=h.libSettings().lazy_measurement_filter,m.dom(n,r,0,function(){m.logl("wf",T,"unit triggered lazy load",a.alias,a.get("dom_id")),a.set("lock.lazy",!1),C?AdBridg.serve():AdBridg.display(n)},s,h.libSettings().lazy_compatible_collapse)),w.push(a),m.log(T,"Defined slot: ",e,n,o),v.trigger("gpt.define",a,i,e,t,n),h.libSettings().allow_serve_from_display&&S[n]&&(m.logl("wf",T,"triggering serve from define after display",n),AdBridg.serve()),!C)&&(r="function"==typeof(r=h.libSettings().nonsra_poll)?r():r)&&(m.log("Nonsra poll for DOM ids"),se(n)),i}),window.AdBridg.defineOutOfPageSlot=m.wrapAsync(function(e,t){var n,i=AdBridg.gpt.defineOutOfPageSlot(e,t);return i&&(i.addService(AdBridg.gpt.pubads()),y(i),n=new l({dom_id:t,gpt_slot:i,gpt_sizes:""}),w.push(n),m.log(T,"Defined OOP slot: ",e,t),v.trigger("gpt.define",n,i,e,!1,t),h.libSettings().allow_serve_from_display)&&S[t]&&(m.logl("wf",T,"triggering serve from defineOOP after display",t),AdBridg.serve()),i}),{}),se=function(t){ae[t]=ae[t]||{ct:0,tx:-1};var n=ae[t];clearTimeout(n.tx),10===n.ct?m.log("Nonsra display poll is giving up on",t):(n.ct+=1,n.tx=setTimeout(m.wrapAsync(function(){var e;S[t]||(e=!!document.getElementById(t),m.log("Nonsra display poll #"+n.ct+": ",t,"; display received =",!!S[t],"; dom exists =",e),e?(m.log("Nonsra issuing display from poll",t),AdBridg.display(t)):se(t))}),1e3))},de=(window.AdBridg.display=m.wrapAsync(function(e,t,n){if(n?(AdBridg.defineSlot(e,t,n),AdBridg.serve()):n=e,S[n]=!0,m.logl("wf",T,"display received",n),h.libSettings().allow_serve_from_display&&w.length&&(m.logl("wf",T,"triggering serve from display",n),AdBridg.serve()),Z=!0,!C){w.length&&(d=d.concat(w),w=[]);for(var i=d.length-1;0<=i;--i){var r,o=d[i].get("dom_id");S[o]&&((r=d.splice(i,1)[0]).get("gpt_sizes")?w.push(r):m.logl("Ignoring display for unit with no sizes",o))}return w.length?(m.logl("wf",T,"nonsra issuing serve",w.length),void le(function(i,r){O("dn",function(){i?i.eachUnit(function(e){m.logl("wf",T,"display resolved",e.get("dom_id"),"auction=",i),AdBridg.gpt.display(e.get("dom_id")),v.trigger("gpt.request_nosra",e.get("dom_id"))}):(m.logl("wf",T,"display resolved",r," as passthrough"),AdBridg.gpt.display(r),v.trigger("gpt.request_nosra",r));var e=d.length;if(e){m.logl("wf",T,"nonsra units queued: ",e);for(var t=e-1;0<=t;--t){var n=d[t].get("dom_id");if(S[n]){setTimeout(function(){AdBridg.display(n)},0);break}}}})})):void m.logl("wf",T,"nonsra display waiting on definition/serve")}O("ds",function(){P(),m.logl("wf",T,"display resolved",n),AdBridg.gpt.display(n)}),N()}),window.AdBridg.refresh=m.wrapAsync(function(e,t,n){var i,r,o,a,s,d,c=AdBridg.gpt.pubads().getSlots();if(e){for(i=e.length-1;0<=i;i--)-1===c.indexOf(e[i])&&(m.err("RFCancelInvalidSlot",e[i].getSlotElementId()),e.splice(i,1));if(!e.length)return}else e=c;if(h.libSettings().allow_serve_from_refresh&&w.length){for(i=e.length-1;0<=i;i--)for(var u=w.length-1;0<=u;u--)e[i]===w[u].get("gpt_slot")&&e.splice(i,1);if(AdBridg.serve(),!e.length)return}v.trigger("gpt.filter_refresh",e,t),e.length&&(r=e.length,e=oe("RF",e,!0),m.logl("wf",T,"refresh: ",r,"slots requested; ",r-e.length,"filtered out;",e.length,"remaining."),e.length?(o=new p,!(a=!0)!==n&&"no_auction"!==h.libSettings().refresh||(a=!1),s=[],d=[],m.each(e,function(e){try{te(e)}catch(e){return m.err("Failed to clear slot: ",e)}var t,n=e.getSlotElementId(),i=(y(e),x[n]||""),r=(A[n]&&(r=(t=A[n].adb||A[n].gpt)&&"0x0"!==t&&t.match(/^\d{2,}x\d{2,}\d/),m.logl("sz","Refresh size restriction for",n,"=",t,"; is_valid=",r),r)&&(i=t),new l({dom_id:n,gpt_slot:e,gpt_sizes:i,is_refresh:!0,imp_ctr:(R[n]||0)+1}));a&&(h.configureUnit(r),m.logl("sz","Refresh restricting sizes to ",i),r.restrictSizesTo(i.split(","))),r.hasBidReqConf()?o.addUnit(r):(d.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),s.push(e))}),s.length&&(m.log("Refreshing",s.length,"non-bid units: ",d),O("rn",function(){P(),_(s),m.log(T,"GPT RF Batch: ",s.length);var e=h.libSettings("gpt_refresh_options",t);e&&(t=e),v.trigger("gpt.before_request",s,t,!0),m.mock()?((e=h.libSettings("mock_ms"))||0===e||(e=Math.floor(1900*Math.random())+100),m.logl("mock","bypass gpt-pt-rf",e),setTimeout(g(s),e)):AdBridg.gpt.pubads().refresh(s,t),v.trigger("gpt.request_passthrough",s,!0)})),o.hasUnit()&&(k.push(o),o.execute(f(null,t,!0)))):r&&m.err("RF units cancelled"))}),{}),e=m.wrapAsync(function(e){var t=String(e.message||e.data);if("string"==typeof e.data)try{var n=JSON.parse(e.data);if("Prebid Request"===n.message)return void AdBridg.render({safeframe:!0,source:e.source,origin:e.origin,pbuc:!0},n.adId)}catch(e){}var n=t.substr(0,9),t=t.substr(10);return"adbsrverr"===n?m.err("Safeframe error: ",t):"adbsrvlog"===n?m.log("Safeframe: ",t):"adbvidend"===n?v.trigger("bid.outstream_end",t):"adbductag"!==n?"adbconfbl"===n?v.trigger("adb.confiant_block_sf",t):"adbsrvreq"===n?de.hasOwnProperty(t)?m.err("SafeframeDupe:",t):void AdBridg.render({safeframe:!0,source:e.source},t):void 0:(t=JSON.stringify((n=ge(n=t),t={},n&&(n=n.pbjsBid.adserverTargeting,t.targetingMap=n,t.hbPb=n.hb_pb,t.size=n.hb_size),t)),void e.source.postMessage("adbductape:"+t,e.origin))}),B=(window.addEventListener?window.addEventListener("message",e,!1):document.attachEvent&&window.attachEvent("onmessage",e),window.AdBridg.render=m.wrapAsync(function(t,n,e){var i=ee[n],r=!1;if(i||(r=!0,i=ge(n))){r?m.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," [override] creative from ",i.config.bidder_name," BR ",i.config.id):(o=i._origin?"(pooled bid from "+i._origin.config.unit.unique_id+")":"",m.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," creative from ",i.config.bidder_name,o," BR ",i.config.id));var o=i.config.unit.get("dom_id"),a=m.dom_invisible(o),a=(D("AR",o,i.config.bidder_id),a&&m.log("AdBridg render detected invisible container at time of render:",o,a),{config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras,dom_id:o}),s=(r&&(a.override=1),JSON.stringify(a)),d=(i.creative=V(i.creative,i.cpm,e),i.creative_url=V(i.creative_url,i.cpm,e),i.config.unit.bidRendered(i,a),0),e=e&&e.pbuc;if(t.pbuc)i.creative&&(i.creative="\x3c!-- AdBridg Delivery PBUC (SF): "+s+" --\x3e"+i.creative),t.source.postMessage(JSON.stringify({message:"Prebid Response",ad:i.creative,adUrl:i.creative_url,adId:n,width:i.width,height:i.height}),t.origin),d=1,v.trigger("pbevt.render_success",null,i,n);else if(t.safeframe&&t.source&&t.source.postMessage){var c=h.libSettings().pmmutatefn;if(!i.creative)return v.trigger("pbevt.render_fail",n,"noAd"),m.err("AD1245F Safeframe render fail: no creative");var u={ad:"\x3c!-- AdBridg Delivery (SF): "+s+" --\x3e"+i.creative},l=JSON.stringify(u);"function"==typeof c?u=c(i,u):v.trigger("adb.confiant_pmmutate",i,u);d=JSON.stringify(u)!==l?2:3;t.source.postMessage("adbsrvad:"+JSON.stringify(u),"*"),v.trigger("pbevt.render_success",null,i,n)}else if(i.creative){var c=h.libSettings().pubrenderfn,l="pubrenderfn",u={},p=(v.trigger("adb.get_ff_renderer",u),Object.keys(u)),p=(p.length&&(c?m.log("Module renderers ignored; dbmock pubrenderfn set"):(l=p[0],1<p.length&&m.err("More than one module provided renderer; using",l,"of",JSON.stringify(p)),c=u[l])),!1);"function"==typeof c&&(t.write("\x3c!-- AdBridg Delivery (ER="+l+"): "+s+" --\x3e"),c(t,i.creative,i.config.bidder_name,i.width,i.height,i,e)?(p=!0,m.log("Creative rendered externally"),d=e?"B":4):m.log("External render skipped")),p||(t.write("\x3c!-- AdBridg Delivery: "+s+" --\x3e"),t.write(i.creative),t.close(),d=e?8:5),v.trigger("pbevt.render_success",t,i,n)}else if(i.creative_url)try{var g=m.iiframe();g.width=i.width,g.height=i.height,g.style.display="inline",g.style.overflow="hidden",g.src=i.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+s)),t.body.appendChild(g),d=e?9:6,v.trigger("pbevt.render_success",t,i,n)}catch(e){return v.trigger("pbevt.render_fail",n,"exception",e.message),m.err("AD1245F Delivery failure from ",i.config.bidder_name," / ",i.config.bidder_unit_id,e)}else{if("function"!=typeof i.render)return v.trigger("pbevt.render_fail",n,"noAd"),m.err("AD1245F No creative from ",i.config.bidder_name," / ",i.config.bidder_unit_id);i.rawbid.adUnitCode=document.getElementById(o).children[0].id,document.getElementById(i.rawbid.adUnitCode).innerHTML="";try{i.render(),m.rec("winner.render:"+i.id),v.trigger("pbevt.render_success",null,i,n)}catch(e){return v.trigger("pbevt.render_fail",n,"exception",e.message),m.err("AD1245F Renderer",e)}d=e?"A":7}b.bidRendered(i,d,r);u=i.resize_pad_top||!1,l=document.getElementById(o);if(l.style.textAlign="center",(p=(c=l).getElementsByClassName("adbridg-dyn-pad")).length&&m.each(p,function(e){e.parent.removeChild(e)}),u&&((p=m.prepend(c,"span")).className="adbridg-dyn-pad",p.innerHTML="&nbsp;",p.style="display:block;width:1px;height:"+u+"px;overflow:hidden;",(p=document.createElement("span")).className="adbridg-dyn-pad",p.innerHTML="&nbsp;",p.style="display:block;width:1px;height:"+u+"px;overflow:hidden;",c.appendChild(p)),t.safeframe)try{var f=l.getElementsByTagName("iframe");m.each(f,function(e){e.contentWindow===t.source&&(m.logl("RS","RS SF element: ",e.id,i.width,i.height),m.resize_element(e,i.width,i.height),String(e.parentNode.id).match(/google_ads_iframe.*container/))&&(m.logl("RS","RS SF parent: ",e.parentNode.id,i.width,i.height),m.resize_element(e.parentNode,i.width,i.height))})}catch(e){m.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=i.width,t.defaultView.frameElement.height=i.height),m.logl("RS","RS iframe: ",i.width,i.height),m.resize_iframe(window,t,i.width,i.height);h.libSettings().refresh_keep_size&&(A[o]||(A[o]={gpt:"",adb:""}),A[o].adb=a.size,m.log("SIZE REFRESH KEEPING ADB: ",o,A[o]));s=h.libSettings().post_render;"function"==typeof s&&s(i)}else v.trigger("pbevt.render_fail",n,"missingDocOrAdid","Error trying to write ad Id :"+n+" to the page. Missing document or adId"),m.err("AD1245F Render failed for ID ",n)}),window.AdBridg.getSizes=m.wrapAsync(function(e){var t=[];return m.each(e,function(e){t.push([e.viewport,e.sizes])}),Se(t)}),[]),E=(E=m.qs("adb_restrict_size"))&&E.split(","),ce=(window.AdBridg.sizeMapping=m.wrapAsync(function(){var e,r=[],o=AdBridg.gpt.sizeMapping(),a={addSize:m.wrapAsync(function(e,t){if(E){for(var n=t.length-1;0<=n;--n){var i=t[n].join("x");0<=E.indexOf(i)&&(m.log("adb_restrict_size - Size ignored",i),t.splice(n,1))}if(!t.length)return a}return o.addSize(e,t),r.push([e,t]),a}),build:m.wrapAsync(function(){return e=o.build(),B.push({gpt_map:e,sizes:r}),e})};return a}),window.AdBridg.useSizeMapping=m.wrapAsync(function(e,t,n){var i,r=!1,o=e.getSlotElementId(),a=e.getAdUnitPath();for(e.defineSizeMapping(t),i=B.length-1;0<=i;--i)if(B[i].gpt_map===t){r=B[i].sizes;break}if(r){var s=Se(r),s=F(s,a,o),d=s.join(","),c=(x[o]=d,n||!1);if(!c)for(i=w.length-1;0<=i;--i)if(w[i].get("gpt_slot")===e){c=w[i];break}if(!c)return m.err("No unit for size map: ",a,o);c.set("gpt_sizes",d),c.restrictSizesTo(s),x[o]?m.log("Applied size mapping to ",o," / ",a,": ",d):(u[o]=1,m.log("Excluding unit ",o," / ",a," because it has no valid sizes"))}else m.err("Size mapping not found: ",a,o)}),window.AdBridg.resetInternals=function(){},!(window.AdBridg.destroySlots=function(e){e=e||AdBridg.gpt.pubads().getSlots();var n=[];return m.each(e,function(e){var t;e&&(t=e.getSlotElementId(),delete R[t],delete x[t],delete A[t],delete u[t],delete r[t],delete S[t],m.undom(t),v.trigger("gpt.destroy",e,t),n.push(t))}),m.log("Destroyed slots: ",n),AdBridg.gpt.destroySlots(e)})),P=function(){var e;ce||(ce=!0,"function"==typeof(e=h.libSettings().before_gpt)&&m.wrapAsync(e)(),v.trigger("gpt.before_enable_services"),AdBridg.gpt.enableServices(),v.trigger("gpt.after_enable_services"))},ue=!1,le=m.wrapAsync(function(e){m.logl("wf",T,"serve called with",w.length,"pending units");for(var t=!1,n=(P(),!1),i=0;w.length>i;){var r=w.shift(),o=r.get("lock.lazy"),a=r.get("lock.batch");if(o||a)m.logl("wf",T,"serve skipped ("+(o?"lazy":"batch")+")",r.alias,r.get("dom_id")),i+=1,w.push(r);else{a=r.get("dom_id");if(!u[a]&&D("AS",a))m.err("Slot rejected before auction, element hidden:",a);else if(h.configureUnit(r),r.hasBidReqConf()){if(c){var s=Y.indexOf(r.id);if(0<=s){var d=!1;if(c.eachUnit(function(e){var t,n,i;e.id===r.id&&(d=!0,Y.splice(s,1),m.log("Proxy into preload ",r.alias),t=r.get("gpt_slot"),n=r.get("dom_id"),i=x[n]||r.get("gpt_sizes")||"",e.set({dom_id:n,gpt_slot:t,gpt_sizes:i}),e.restrictSizesTo(i.split(",")),v.trigger("unit.pre_attach",e))}),d){n=!0;continue}}}(t=t||new p).addUnit(r)}else C?I.push(r.get("gpt_slot")):(_([r.get("gpt_slot")]),m.thread(e)(!1,r.get("dom_id")))}}(t||c)&&h.libSettings().gpt_keep_oop&&I.length&&(m.log("Batching passthrough units with auction units"),j=j.concat(I),I=[]),t&&(k.push(t),t.execute(f(e)),t=!1),n&&!ue&&(ue=!0,Ae(f())),N()}),pe=!1,ge=(window.AdBridg.serve=function(e){if(clearTimeout(pe),C){m.logl("wf",T,"queuing serve");var t=h.libSettings().batch_delay;if(0===(t="function"==typeof t?t(w):t))return m.log("Starting auctions ASAP."),le(e);t=t||100,pe=setTimeout(function(){le(e)},t)}else for(var n=w.length-1;0<=n;--n){var i=w[n].get("dom_id");if(S[i]){setTimeout(function(){AdBridg.display(i)},0);break}}},function(e){for(var t=k.length-1;0<=t;--t){var n=k[t].getBid(e);if(n)return n}return!1}),fe=m.wrapAsync(function(t){var e=t.slot.getSlotElementId();!t.isEmpty&&D("RE",e)&&m.log("Slot rendered from GPT, but element hidden by CSS:",e);try{n=t.slot,m.log("Unlocked slot: ",n.getSlotElementId()),r[n.getSlotElementId()]=!1,te(n)}catch(e){m.err("Unlock failed")}var n=R[e],i={};if(v.trigger("gpt.render_raw",t,n,i),!i.stop){i=H(function(e){return e.get("gpt_slot")===t.slot});if(h.libSettings().refresh_keep_size&&t.size&&2===t.size.length&&(A[e]||(A[e]={gpt:"",adb:""}),A[e].gpt=t.size.join("x")),i){if(!i.auction)return m.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());AdBridg.gpt===window.googletag?b.gptRendered(i.auction,i.unit,t):b.enhRendered(i.auction.instancectr,i.unit.id,t),v.trigger("gpt.render",i.unit,t,n),m.qdusp()}else v.trigger("gpt.render_pt",!1,t,n)}}),me=m.wrapAsync(function(e){v.trigger("gpt.loaded_raw",e)}),he=m.wrapAsync(function(t){v.trigger("gpt.viewed_raw",t);var e=H(function(e){return e.get("gpt_slot")===t.slot});if(e){b.gptViewed(e.auction,e.unit);try{var n=h.libSettings().post_view;"function"==typeof n&&n(t,e.unit)}catch(e){m.err("PostView fail",e)}v.trigger("gpt.viewed",t.slot,e.unit);n=t.slot.getSlotElementId();D("VE",n)&&m.log("Slot viewed from GPT, but element hidden by CSS:",n)}else v.trigger("gpt.viewed_pt",t)}),o=[],be={},ve=!1,n=(window.AdBridg.lock=function(e){if(be[e])return be[e]=null,m.log("-== GPT lock already cleared: ",e);m.log("-== GPT locked by: ",e),o.push(e)},window.AdBridg.unlock=function(e,t){for(var n=!1,i=0;i<o.length;++i)if(o[i]===e){m.log("-== GPT lock cleared: ",e),o.splice(i,1),n=!0;break}n||t||(be[e]=!0,m.log("-== GPT unrecognized lock cleared: ",e)),_e()},[]),O=function(e,t){n.push({n:e,f:m.wrapAsync(t)}),_e()},_e=function(){if(!o.length&&!ve){for(ve=!0;n.length;)n.shift().f();setTimeout(function(){ve=!1,n.length&&_e()},0)}},ye=0;try{window.document.addEventListener("visibilitychange",function(e){(document.hidden?t:G)()})}catch(e){m.log("-== GPT lock : Page API not supported, using fallback"),window.addEventListener?(window.addEventListener("blur",t),window.addEventListener("focus",G)):window.attachEvent&&(window.attachEvent("onblur",t),window.attachEvent("onfocus",G))}m.isdebug()&&(AdBridg.auctions=k,AdBridg.utils=m);function we(){return k}var xe=m.wrapAsync(function(){clearTimeout(J);var e={delay:!1};if(v.trigger("adb.init_check",e),"number"==typeof e.delay)J=setTimeout(xe,e.delay);else{v.trigger("adb.init"),AdBridg.gpt.pubads().addEventListener("slotRenderEnded",fe),AdBridg.gpt.pubads().addEventListener("slotOnload",me),AdBridg.gpt.pubads().addEventListener("impressionViewable",he),K=!0;e=h.libSettings().initfn;for(e&&AdBridg.cmd.push(e);$.length;){var t=$.shift();AdBridg.cmd.push(t)}}}),Ae=(window.AdBridg.lazy=function(e,t,n,i){"function"==typeof n&&(i=n,n=0),m.dom(e,t,n,i)},m.log("First execution."),h.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){e=h.libSettings().preload&&h.libSettings().preload()||[];if(e.length){function t(n){function i(e){function t(e){2===e.length&&1<e[0]&&1<e[1]?n.push(e):m.err("Invalid preload size: ",e)}var n=[];return m.isarr(e)&&(m.isarr(e[0])?m.each(e,t):t(e)),n}var r=i(n.size||[]);return function(){var t,e=AdBridg.defineSlot(n.gpt_path,r,n.dom_id);m.isarr(n.size_map)&&(t=AdBridg.sizeMapping(),m.each(n.size_map,function(e){t.addSize(e.viewport,i(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)),AdBridg.serve()}}for(var n=AdBridg.cmd.length;0<=n;n--){var i=AdBridg.cmd[n];i&&i.gpt_path&&AdBridg.cmd.splice(n,1,t(i))}e&&e.length&&(c=new p,m.each(e,function(e){if(e=parseInt(e),m.log("Preloading",e),e){var t=new l;if(h.configureUnit(t,e),!t.hasBidReqConf())return m.err("Preload bad id",e);Y.push(e),c.addUnit(t)}}),c.hasUnit())&&(m.log("Preload kickoff",c),c.execute(m.wrapAsync(function(e){m.log("Preload complete"),Q&&Q(e)})))}}}),function(e){c.isDone()?e(c):Q=e});h.afterConsent(function(e,t){t=(t||{}).adbOptOut;(e||{}).gdprApplies&&m.uspc("GDPR"),t&&m.uspc("CCPA"),AdBridg.gpt.cmd.push(function(){m.log("Initializing. SRA is",(C?"enabled":"disabled")+"."),C&&(AdBridg.gpt.pubads().enableSingleRequest(),AdBridg.gpt.pubads().disableInitialLoad()),xe()})});m.wrapAsync(function(){for(b.init(),AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if(m.qs("adb_critfail"))throw new Error("Simulating critical failure");if("function"==typeof h.libSettings().cmd_override)try{var e=h.libSettings().cmd_override(t);if(!e)return void m.log("AdBridg command cancelled",t);t=e}catch(e){m.err("CmdOverrideFail",e)}var n,i,r;if("object"==typeof t&&((t=m.copy(t)).targeting&&(n=t.targeting,delete t.targeting,m.log("Publisher targeting set queued:",n),i=m.genID("gpt_targeting_"),AdBridg.lock(i),v.trigger("pub.set_targeting",n),AdBridg.gpt.cmd.push(function(){m.each(n,function(e,t){AdBridg.gpt.pubads().setTargeting(t,e)}),m.log("Publisher targeting set complete:",n),AdBridg.unlock(i)})),t.config&&(h.proc(t.config),delete t.config),!t.gpt_path&&t.events&&(m.each(t.events,function(e,t){v.on(t,e)}),delete t.events),t.action&&(t.context&&(r=t.context,delete t.context),m.log("Publisher event triggered: ","pub."+t.action,r),v.trigger("pub."+t.action,r),delete t.action),!Object.getOwnPropertyNames(t).length))return;if(K){if("object"==typeof t&&(t.gpt_path||t.length))try{m.log("Initialization command object processing:",t);function o(r){AdBridg.gpt.cmd.push(function(){var n,e;if(r.oop)n=AdBridg.defineOutOfPageSlot(r.gpt_path,r.dom_id);else if((n=AdBridg.defineSlot(r.gpt_path,r.size||[1,1],r.dom_id))&&r.size_map){for(var t=AdBridg.sizeMapping(),i=0;i<r.size_map.length;i++)t=t.addSize(r.size_map[i].viewport,r.size_map[i].sizes);t=t.build(),n.defineSizeMapping(t),AdBridg.useSizeMapping(n,t)}n&&r.targeting&&m.each(r.targeting,function(e,t){n.setTargeting(t,e)}),n&&r.events&&(r.events["gpt.defined"]&&r.events["gpt.defined"](n),(e=function(t,e){r.events[t]&&AdBridg.gpt.pubads().addEventListener(e,function(e){e.slot===n&&r.events[t](n,e)})})("gpt.rendered","slotRenderEnded"),e("gpt.viewed","impressionViewable"),e("gpt.visibilityChanged","slotVisibilityChanged")),n&&AdBridg.display(r.dom_id)})}if(t.length)for(var a=0;a<t.length;++a)o(t[a]);else o(t);t=function(){AdBridg.serve()}}catch(e){m.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){m.err("AdBridg.cmd had error: ",String(t).substr(0,30),e)}},0)}else $.push(t)};AdBridg.cmd.length;){var e=AdBridg.cmd.shift();AdBridg.cmd.push(e)}q(we)})()}}function z(){}function Se(e){var t=m.vp(),n=t.w,r=t.h,o=!1,a=[];for(i=e.length-1;0<=i;--i){var s=e[i][0];if(n>=s[0]&&r>=s[1]){if(o){if(o[0]>s[0])continue;if(o[0]===s[0]&&o[1]>s[1])continue}o=s,a=e[i][1]}}for(a=m.copy(a),i=a.length-1;0<=i;--i)a[i][0]>n&&a.splice(i,1);return a}},{"../analytics.js":14,"../auction.js":15,"../config.js":16,"../mockprebid.js":20,"../modules.js":21,"../unit.js":57,"../utils.js":58}],20:[function(e,t,n){function c(){var t,e,n=arguments[0];return!r[n]||(t=Array.prototype.slice.apply(arguments,[1]),e=u.copy(t),u.each(r[n],function(e){u.wrapAsync(e).apply(null,t)}),u.deepEq(e,t,[/\.doc$/]))}var u=e("./utils"),i=e("./modules"),r=(e("./config.js"),{}),o=[],l=[],p=[];u.isdebug()&&(window.pbjs._adb_attached_adapters=l,window.pbjs._adb_enabled_adapters=p),t.exports=function(d){window.pbjs.renderAd=function(e,t,n){u.log("PBJS renderAd override",e,t,n),(n=n||{}).pbuc=!0,window.AdBridg.render(e,t,n)},window.pbjs.getBidResponses=function(){for(var e=d(),t={},n={},i=e.length-1;0<=i;--i)for(var r=e[i].toPrebid(),o=0;o<r.bidsReceived.length;++o){var a=r.bidsReceived[o],s=a.adUnitCode;n[s]||(n[s]=r.auctionId),n[s]===r.auctionId&&(t[s]||(t[s]=[]),t[s].push(a))}return t},window.pbjs.getAllWinningBids=function(){var t=[];return u.each(d(),function(e){t=t.concat(e.toPrebid().winningBids)}),t},window.pbjs.getAllPrebidWinningBids=function(){var t=[];return u.each(d(),function(e){t=t.concat(e.toPrebid().prebidWinningBids)}),t},window.pbjs.getAdserverTargeting=function(){var n={};return u.each(d(),function(e){u.each(e.toPrebid().prebidWinningBids,function(t){n[t.adUnitCode]={},u.assign(n[t.adUnitCode],t.adserverTargeting),u.each(Object.keys(t.adserverTargeting),function(e){n[t.adUnitCode][e+"_"+t.bidder]=t.adserverTargeting[e]})})}),n},window.pbjs.getBidResponsesForAdUnitCode=function(t){var n=[];return u.each(d(),function(e){u.each(e.toPrebid().bidsReceived,function(e){e.adUnitCode===t&&n.push(e)})}),n},window.pbjs.getHighestCpmBids=function(){var t=[];return u.each(d(),function(e){e=e.toPrebid().bidsReceived.reduce(function(e,t){return e.cpm===t.cpm?e.timeToRespond<t.timeToRespond?e:t:e.cpm<t.cpm?t:e});t.push(e)}),t},window.pbjs.findBidByAdId=function(e){for(var t=null,n=0;n<d().length;n+=1){for(var i=d()[n].toPrebid().bidsReceived,r=0;r<i.length;r+=1){var o=i[r];if(o.adId===e){t=o;break}}if(t)break}return t},window.pbjs.registerAnalyticsAdapter=function(e){e.code=e.code||"UnknownAdapter"+l.length,l.push(e),u.log("PBJS registerAnalyticsAdapter",e)},window.pbjs.enableAnalytics=function(e){u.each(e,function(t){var e=l.find(function(e){return t.provider&&t.provider===e.code});e?(u.log("PBJS enableAnalytics on adapter",e.code),p.push(e),e.adapter.enableAnalytics(e)):u.err("PBJS cannot enable analytics",t)})},window.pbjs.onEvent=function(e,t){r[e]=r[e]||[],r[e].push(t)},window.pbjs.getNoBids=function(){return u.log("PBJS nonop getNoBids",arguments),[]},window.pbjs.requestBids=function(){u.log("PBJS nonop requestBids",arguments)};try{"pbjs"===u.isdebug()&&Proxy&&(window.pbjs=new Proxy(window.pbjs,{get:function(e,t,n){return e[t]||(u.logl("pbjs","PBJS Proxy miss: ",{target:e,name:t,receiver:n}),function(){u.logl("pbjs","PBJS proxy miss",t,arguments)})}}))}catch(e){}i.on("pbevt.sub",function(e,t,n){window.pbjs.onEvent(t,n)}),i.on("auction.before_bids",function(e,t){var n=!1,t=(t.eachUnit(e=>{e=e.toPrebidAdUnitCode();-1===o.indexOf(e)&&(n=!0,o.push(e))}),n&&c("addAdUnits"),c("requestBids"),t.toPrebid());c("beforeRequestBids",t.adUnits).length}),i.on("auction.start",function(e,t){t=t.toPrebid();c("auctionInit",t).length}),i.on("bidder.before_request",function(e,t,n){c("beforeBidderHttp",n,t._orig)});var a=encodeURIComponent,s={};for(i.on("bidder.requested",function(e,r,o){var t=c("bidRequested",r);t.length&&u.each(t,function(e){var t,n,i;"number"==typeof e.o2&&(t=e.p.replace(/\.params.*$/,".bidId"),n=u.deepAccess(r,t),i=o.getBidRequest(n),n&&i?(e=[i.unit.auction.instancectr,i.unit.id,a(i.unit.unique_id),a(i.min_cpm),a(e.o2)].join(","),s[e]||(s[e]=[]),s[e].push(i.bidder_id),i.unit.setImpData("ad939","rfpset")):u.err("PbBrcLkupFail",t,n))})}),i.on("bid.ready",function(e,t){t.pbjsBid&&!t._origin&&c("bidAdjustment",t.pbjsBid).length}),i.on("bid.response",function(e,t){t.pbjsBid&&!t._origin&&c("bidResponse",t.pbjsBid).length}),i.on("bidder.done",function(e,t,n,i){i.eachBidRequest(n,function(e,t){t.responses.length?u.each(t.responses,function(e){e.pbjsNoBid&&c("noBid",e.pbjsNoBid).length}):c("noBid",t.toPrebid(!0))}),c("bidderDone",t).length}),i.on("auction.complete",function(e,t){var n=s,i=(s={},u.each(n,function(e,t){u.rec("ad939,"+t+":"+e.join(","))}),[]);t.eachBidRequest(null,function(e,t){t.responses.length||(t=t.toPrebid(),i.push(t))}),c("auctionEnd",t.toPrebid()).length,i.length&&c("bidTimeout",i).length}),i.on("gpt.set_pb_targeting",function(e,t){const i=u.copy(t);u.each(i,function(e,n){u.each(e,function(e,t){u.isarr(e)&&(i[n][t]=e.join(","))})}),c("setTargeting",i)}),i.on("bid.render",function(e,t){c("bidWon",u.assign({},t.pbjsBid,{status:"rendered",params:[t.config.toPrebid().params]})).length}),i.on("pbevt.render_success",function(e,t,n,i){n=Object.assign({},n.pbjsBid,{status:"rendered",params:[n.config.toPrebid().params]});c("adRenderSucceeded",{doc:t,bid:n,id:i})}),i.on("pbevt.render_fail",function(e,t,n,i){c("adRenderFailed",{message:i,reason:n,id:t}),c("auctionDebug",{type:"ERROR",arguments:[i]})}),i.on("pbevt.log_warn",function(e,t){c("auctionDebug",{type:"WARNING",arguments:t})}),i.on("pbevt.log_error",function(e,t){c("auctionDebug",{type:"ERROR",arguments:t})}),i.on("pbevt.ajax_error",function(e,t,n){c("bidderError",{error:t,bidderRequest:n})}),window.pbjs.que.push=AdBridg.cmd.push;window.pbjs.que.length;){var e=window.pbjs.que.shift();AdBridg.cmd.push(e)}}},{"./config.js":16,"./modules":21,"./utils":58}],21:[function(d,e,t){function n(e){i.push(e)}var c=d("./utils.js"),a={},i=[],r=["gpt.after_enable_services","consent.check_complete"],o={},s={},u={on:function(e,t){c.isarr(e)||(e=e.split(",")),c.each(e,function(e){o[e]?t(e):(s[e]||(s[e]=[]),s[e].push(t))})},trigger:null},l=(u.trigger=t.trigger=c.wrapAsync(function(e){var t=arguments,n=(s[e]||[]).concat(s["*"]||[]);c.each(n,c.wrapAsync(function(e){e.apply(null,t)})),-1<r.indexOf(e)&&(o[e]=1)}),!1);c.onerr(c.wrapAsync(function(){l?(console&&console.log("AdBridg nested module errors"),c.pixel("https://adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest")):(l=!0,t.trigger("error",arguments),l=!1)})),t.on=c.wrapAsync(function(e,t){u.on(e,t)}),t.setup=function(e){a=e};try{{var p=d("./modules/adbcm.js"),g=(n(new p({test_prefix:"t5",cub_pct:1},u)),d("./modules/cloader.js")),f=(n(new g({urls:["https://js-sec.indexww.com/ht/p/180447-192872210293780.js"]},u)),d("./modules/dv.js")),m=(n(new f({pub_active:function(e){return!!e.has_dv}},u)),d("./modules/pubaudit.js")),h=(n(new m({},u)),d("./modules/hlimasdk.js")),b=(n(new h({},u)),d("./modules/unifiedid.js")),v=(n(new b({partner:"bt8j74p"},u)),d("./modules/id5id.js")),_=(n(new v({partner:1151,google_esp:!0},u)),d("./modules/hlcpuv.js")),y=(n(new _({},u)),d("./modules/bidpool.js")),w=(n(new y({bidFilter:function(e){return 195!==e.config.bidder_id&&196!==e.config.bidder_id},poolKeyFn:function(e){return-1<[1,2,3,4,5,6,7,8,9,10,19,106].indexOf(e.id)&&e.id}},u)),d("./modules/confiant.js")),x=(n(new w({propertyId:"cmoHx-7NMqx3kvsCb7fFcqWf2C8",refreshBlock:!0},u)),d("./modules/gamkvp.js")),A=(n(new x({defer:function(t){var n=!1;function e(){var e;n||(n=!0,e=(a.libSettings("pub")||{}).sponsorship,t(e?"gpt.before_request":"auction.before_bids"))}AdBridg.global("pub.config")?e():u.on("pub.config",e)}},u)),d("./modules/criteoid.js")),S=(n(new A({},u)),d("./modules/pubcid.js")),I=(n(new S({},u)),d("./modules/merkleid.js")),j=(n(new I({vendor:"idsv2",sv_cid:"5344_04531",sv_pubid:"11314"},u)),d("./modules/connectid.js")),k=(n(new j({pixelId:58452,email:function(e){e(c.qs("rvid"))}},u)),d("./modules/33acrossid.js")),T=(n(new k({pid:"0013300001b1YMsAAM"},u)),d("./modules/ats_analytics.js")),C=(n(new T({defer:function(e){AdBridg.global("hllractive")?e():AdBridg.global("hllractivationcb",e)},pid:"1974"},u)),d("./modules/rampid.js")),R=(n(new C({configuration_id:"89f1e4e8-db80-4402-9a08-9d36b4401007",load_ats:!0,defer:function(n){c.log("LR deferral inner start");var i=!1,r=0,o=c.wrapAsync(function(){var e,t=a.libSettings&&a.libSettings();if(c.log("LiveRamp initial check - lib exists?",t,t&&t.pub,t&&t.pub&&t.pub.hasOwnProperty("cc")),!t||!t.pub||!t.pub.hasOwnProperty("cc"))return++r<50?(c.log("LR poll fast",r),void setTimeout(o,100)):void(++r<110?(c.log("LR poll slow",r),setTimeout(o,1e3)):c.log("LR poll end - no CC available"));i?c.log("LR already processed deferral check"):(i=!0,t=t.pub.cc,"US,AU,CA,NZ".match(t)?(c.log("LR inner deferral done, calling back"),n(),AdBridg.global("hllractive",!0),(e=AdBridg.global("hllractivationcb"))&&e()):c.log("LR disabled in cc",t))});o()}},u)),d("./modules/icu.js"));n(new R({sample:.01,watch_gpt:!0,modify_gpt_path:function(e){return e.replace("/4788/hl/pagenumber","p")},modify_dom_id:function(e){return e.replace("__slot","")}},u))}n(new(d("./modules/batch.js"))({assign_unit:function(e,t){var n,e=e.get("gpt_slot").getAdUnitPath();return e.match("_extra")?(n=(AdBridg.global("_mmrx_ctr")||0)+1,AdBridg.global("_mmrx_ctr",n),"MMRx"+Math.ceil(n/5)):(c.log("Batch skip",e),!1)},get_next_batch:function(e){return e[0]}},u)),n(new(d("./modules/rhunt.js"))({},u)),n(new(d("./modules/lzest.js"))({},u)),n(new(d("./modules/expand.js"))({slots:{mlb1__slot:{style:"aside.adb_expander_open { z-index: 900; } aside.adb_expander_open button { display: none; } aside.adb_expander_open button.adb_close { display: block; position: absolute; top: 0; right: 0; font-size: 20px; line-height: 20px; border-radius: 20px; font-family: sans-serif; user-select: none; } aside.adb_expander_open #mlb1__slot { display: block; position: fixed; top: 0; left: 0; width: %%vp.w%%; height: %%vp.h%%; background: rgba(220, 220, 220, .9); }",open:function(e){for(var t=e.els.container.parentNode;t&&t!==document.body&&"aside"!==t.tagName.toLowerCase();)t=t.parentNode;"aside"===t.tagName.toLowerCase()&&(e.els.aside=t,e.els.aside.classList.add("adb_expander_open"))},close:function(e){e.els.aside&&(e.els.aside.classList.remove("adb_expander_open"),delete e.els.aside)}}}},u)),n(new(d("./modules/identitysignals.js"))({},u)),n(new(d("./modules/gprog.js"))({bidders:{rubicon:{deal:"hb_deal_rubicon",adid:"hb_adid_rubicon",active_deals:["2765660","2681782","2679586","2653802","2575082","2575078","2484550","2484536","2484528","2484524","2484522","2484520","2484518","2484516","2484514","2484510","2482442","2458822","2453970","2426336","2426334","2385476","2385474","2384592","2384590","2384588","2384108","2381458","2381456","2377900","2352154","2243280","2162746","2033484","2033482","2001852","2001850","2001848","1952788","1948736","1813162","1791214","1784442","1642150","1508274","1508272","1507190","1507186","1506716","1288242","1307280","1307258","1186688","1096504","1078064","1050524","1050522","1016056","1015050","1014956","1014804","1014652","1014500","1014348","1014196","1014044","1013958","1013806","1013654","1013502","1013350","1013198","1013046","1012902","1012750","1012598","1012446","1012294","1012142","1011910","1011758","1011606","1011454","1010718","1010654","1010598","1010174","1009990","1009806","1009622","1009438","1009258","1009078","1008898","1008718","1008538","1007286","1004736","1004734","1004732","1004730","1004728","1004358","1002084","1001756","1001682","1000968","1000784","1000600","997022","664438","993388","993386","993384","992522","992498","997694","997692","997690","997688","997686","997684","996700","996568","992456","992458","992188","992320","993172","991614","991616","991262","991044","990826","991868","991878","991880","991882","991886","991888","991890","991892","990382","990384","990386","990388","990734","990736","990738","990742","981696","982872","983142","983002","982478","981694","971936","969290","976538","974748","974616","974484","974352","972758","971636","971508","971074","971072","966256","966142","966028","965536","965412","965296","964984","964862","964738","964622","970818","970158","970028","955022","957150","957152","959264","959262","959260","959258","959256","959254","959252","959250","959248","959246","959244","959242","959240","959238","959236","959234","959232","959230","959228","959226","959224","959222","959220","959218","957154","959270","959268","959266","949624","945846","945848","949510","949514","943256","941232","938192","938424","937806","927836","928122","927116","927120","927130","926720","924544","919324","919330","919648","919650","918408","919354","916876","909506","909502","903956","906102","898120","898144","900682","900638","900640","897018","896300","892684","890072","890298","893224","893300","893322","888520","889494","886636","880532","881920","880074","880092","880100","875324","873464","873728","869774","869776","869164","870014","869798","860382","860402","861460","856966","856982","857714","857712","857460","857482","857784","858194","856154","856926","856928","853868","854730","854680","849512","850156","850176","847760","848874","848896","847010","847460","847480","846084","843350","843330","844098","844102","844424","842038","842538","842708","837374","841286","841308","835786","835808","833822","836904","831700","833040","833556","828486","828524","830104","830684","827346","828176","828178","827920","827942","827894","826604","826622","826096","825272","825530","826112","826114","826474","826506","826514","826520","826524","826530","826532","826536","826538","826546","821834","824040","824058","824078","824600","825158","825164","825166","825168","825170","825130","822818","818604","812912","814624","815630","809814","810396","811438","811440","811442","811512","811842","811840","811838","811836","808498","808500","807086","808514","808544","809092","804538","806218","806292","800426","800428","801336","801338","797352","797494","797578","176758","178128","178132","224464","224468","228138","426972","426974","509972","509974","551228","555592","587740","593120","601724","611022","630478","630480","630492","630498","636652","652304","652318","653372","653618","653620","653624","653626","653628","653630","656474","658412","658414","661672","661676","662338","662342","664442","680156","680158","681840","681842","684220","684234","687354","704066","705044","705046","705048","706694","706696","711304","713426","713428","713434","713436","713438","713442","715118","715120","715122","716044","716046","718298","725684","725686","728272","728276","728286","737548","739226","741632","743502","746570","746904","747488","747490","747492","747494","751574","752390","754578","754586","757442","757456","757524","758260","758266","758272","758278","758282","758284","758638","760130","760390","760408","761902","761904","761906","761908","761910","761912","762460","762462","762514","762596","762796","762798","763500","763502","764840","765144","766348","766800","767240","767586","768314","773066","773676","773930","773950","774908","774926","775666","775672","779668","780296","780298","780300","781138","782278","782892","783402","783438","783504","783532","783616","783994","784670","784688","784692","784702","784716","784720","786544","786572","786998","789024","789028","790712","790716","790724","790730","791204","791262","791298","792732","794032","795514","795864","795912","796408"]},ix:{deal:"hb_deal_ix",adid:"hb_adid_indexExchang",active_deals:["IX525702270424034978","IX525702221546178117","IX550264724736831538","IX550264684461350460","IX1586788200","IXIVPEPTTDDG3","IXIVPEPTTDVG4","GROUPMIXOPENMARKETPLACE1","IXCPDAUPFXDISPLAY","IXCPDUBERDIS","IXCPDTTDWPPDEDISPLAY6","IXCPDAUXAXISDISPLAY","IXCPDCROCS2021DIS","IXCPDAUFOXCATCHER","IXCPDSKYUKDIS","IXCPDTINUITI2021DIS","IXCPDMIQDISPLAY","IXCPDDTMFLOOR","OMGIXCPDAU","IXCPDMSKCTTDDIS","IXCPDMSKCDVDIS","IXCPDRTBUKDISPLAY","IXCPDSAGEDISUK","IXCPDAUSPARKDISPLAY","XVODADISGLOBAL","IXCPDIPGAUDISPLAY","IXCPDOMDHOMDEP001","IXNZSPARKDISPLAY","IXMARKETPLACESTDMOBILE","OMGIXMARKETPLACEDISPLAY2020","IXMARKETPLACESTDDISPLAY","IX591644687639373433","IXCPDBAYERDIS001","IXMARKETPLACEDISPLAY","IXCPDSTFRMDSPLY001","IX1595262354","IX560362592774763062","IX614294523060831623","IXCPDGROUPMUK","IXCPDCBADISPLAY","IXCPDSCMBB002","IXCPDADOBEDIS001","IXCPDBTUK","IX584035552077843270"]},appnexus:{deal:"hb_deal_appnexus",adid:"hb_adid_appnexus",active_deals:["1993371","1550127","1532655","920601","920633","920606","920684","920674","920603","920871","920908","920676","920671","920647","920828","920493","920677","920747","920576","920597","920608","920924","920521","920655","920683","920632","920625","920570","920568","920590","920622","920626","920907","920644","920526","920678","920787","920800","920803","920817","920558","920600","920614","920593","920605","920592","920884","920685","920762","920650","920663","920668","920835","920691","920672","920687","920497","920873","920935","920572","920620","920751","920642","920659","920711","920520","920565","920588","920900","920910","920573","920574","920612","920701","920654","920857","920516","920534","920515","920914","920688","920548","921164","920580","920610","920585","920657","920584","920880","920699","920832","920524","920909","920546","920757","920550","920877","920893","920904","920450","920617","920697","920511","920875","920824","1335495","920411","920415","920486","920487","920564","920641","920718","920792","920866","920867","920944","921025","921097","921176","1221296","1169127","1163755","1163757","1163759","1163763","605026","946028","717372","717369","717368","1094152","1094153"]},pgRubicon:{deal:"hb_deal_pgRubicon",adid:"hb_adid_pgRubicon",is_active_deal:function(e,t){return!0}}}},u)),n(new(d("./modules/emit.js"))({"amzn.init":function(e,t,n){AdBridg.global("preroll_enabled")&&(c.log("Amazon preroll enabled"),t.fetchBids({slots:[{slotID:"preroll",mediaType:"video",sizes:[[640,480]]}],timeout:2e3},c.wrapAsync(function(e){window.adb_proll_bids=[],e.length&&0<e.length&&(window.adb_proll_bids=(t=[],c.each(e,function(e){e.targeting&&t.push(e.targeting)}),0<t.length?t:""));var t,e=AdBridg.gpt.pubads().getTargeting("fr")[0]||!1;"string"==typeof e&&window.adb_proll_bids.push({fr:e})})))},"pub.set_targeting":function(e,r){var t=r.makeUserSegments||[],t=(c.isarr(t)&&30<t.length&&(c.err("AD2382MakeTruncate",t.length,30),r.makeUserSegments=t.slice(0,30)),c.each(r,function(t,n){var i;if(c.isarr(t))for(let e=t.length-1;0<=e;--e)(i=typeof t[e]).match(/string|number/)||(c.log("Targeting KVP sanitized: bad value type",n,e,i,t[e]),t.splice(e,0));else(i=typeof t).match(/string|number/)||(c.log("Targeting KVP sanitized: bad value list format",n,i,t),delete r[n])}),AdBridg.global("hl_kvps")||{}),n=AdBridg.global("hl_kvps_m")||[],i=r["page-view"];t[i]=c.deepAssign(t[i]||{},r),1<i&&c.each(r,function(e,t){-1===n.indexOf(t)&&n.push(t)}),AdBridg.global("hl_kvps",t),AdBridg.global("hl_kvps_m",n),r.url&&"/"===r.url&&(r.url="/program/homepage")},"pub.config":function(e,t){!c.mock()&&t.mockAd&&c.mock(t.mockAd),AdBridg.global("pub.config",!0),(t.pageHasDasPreroll||c.qs("adb_dasx_test"))&&AdBridg.global("ad2201_das_preroll",!0),t.has_preroll&&AdBridg.global("preroll_enabled",!0),t.refreshDMR1&&AdBridg.global("refreshDMR1",!0),1<t.page&&(c.log("breakadplumber running GAMCONFIG rescanner.."),c.gamconfig_scanner)&&c.gamconfig_scanner();try{var n=[];t.iab_tag_tier_1&&0<t.iab_tag_tier_1.length&&n.push(t.iab_tag_tier_1),t.iab_tag_tier_2&&0<t.iab_tag_tier_2.length&&n.push(t.iab_tag_tier_2),AdBridg.global("iab_cat",n)}catch(e){}},"gpt.before_enable_services":function(e){var t;c.qs("ppid_exclusion_test")?c.log("HL - Disabling PPID for competitor exclusion testing"):(t=c.cr("tglr_anon_id"))&&0<t.length&&AdBridg.gpt.pubads().setPublisherProvidedId(t)},"adb.gamconfig_slot_configure":function(e,t,n,i){var r,o={},a=parseInt((n.match(/^t(\d+)_/)||["0"]).pop())+1;t.gpt_path?(t.gpt_path.match(/[DM]MR1$/)&&(c.isarr(t.size[0])||(t.size=[t.size]),t.size.push(["fluid"]),c.log("Added fluid size to",n,t)),1!=a||n.match(/ina|out-of-page|sticky([6789]|1\d)|DCMR/)||(n.match(/[md]lb1/i)?o.under30="true":c.where(n).c.t/document.body.scrollHeight<.4&&(c.log("BreakAdPlumber - under30 set on kvp",n),o.under30="true")),o.under30||(o.under30="false"),t.gpt_path.match(/extra/i)?(a=(AdBridg.global("extra_counter")||5)+1,AdBridg.global("extra_counter",a),r="31-",a<11?r="6-10":a<21?r="11-20":a<31&&(r="21-30"),o.pos=t.gpt_path.replace(/^.*\/([^\/]+)$/,"$1").replace(/_extra$/,r),c.log("extra kvp",o.pos)):t.gpt_path.match(/out-of-page/i)||(o.pos=t.gpt_path.replace(/^.*\/([^\/]+)$/,"$1")),t.targeting=c.assign(t.targeting||{},o),c.log("BreakAdPlumber: GamConfig registerSlot equivalent",{slot_config:t,dom_id:n})):c.log("BreakAdPlumber - bad gpt path!",t,n)},"gpt.before_request":function(e,s){var t=c.wrapAsync(function(){var i,r,o,a,t,n,e=c.qs("adb_reckvps")?.001:AdBridg.global("ad1353");"number"!=typeof e&&(e=Math.random(),AdBridg.global("ad1353",e)),.01<=e||(e=(AdBridg.global("ad1353r")||0)+1,AdBridg.global("ad1353r",e),i=/^(amzn|hb_|adb_|hlcc)/,r=/^(makeUserSegments)/,o={amp:"1",articleId:"2",blab:"3",gam_pageview_id:"4",k1:"5",k2:"6",k3:"7",msiteID:"8",msiteactive:"9","page-view":"a",pageTemplate:"b",rpv:"c",subcategory:"d",type:"e",under30:"f",url:"g",makeUserSegments:"h",pos:"i"},a={r:e,p:{},s:[]},googletag.pubads().getTargetingKeys().forEach(function(e){var t;e.match(i)||(t=googletag.pubads().getTargeting(e),t=e.match(r)?t.length:t.join(","),a.p[e=o[e]||e]=t)}),s.forEach(function(e){var n={d:e.getSlotElementId().replace("__slot",""),g:e.getAdUnitPath().replace("/4788/hl/pagenumber","p")};c.each(e.getTargetingMap(),function(e,t){t.match(i)||(e=t.match(r)?e.length:e.join(","),n.t||(n.t={}),n.t[t=o[t]||t]=e)}),a.s.push(n)}),t=function(e){return encodeURIComponent(String(e).replace(/;:/g,""))},n=[e,Object.keys(a.p).map(t).join(";"),Object.values(a.p).map(t).join(";")],c.each(a.s,function(e){n.push(t(e.d)),n.push(t(e.g)),n.push(e.t?Object.keys(e.t).map(t).join(";"):""),n.push(e.t?Object.values(e.t).map(t).join(";"):"")}),n=n.join(":"),c.thread(function(){d("./analytics.js").sqz(5e3,!1,!1,"ad1353",n),c.log("page report targeting for request",n.length,encodeURIComponent(JSON.stringify(a)).length,n)})())});if(!window.useAdBridgGamConfig)return t(),!1;var n,i=AdBridg.global("hl_kvps")||{},r=AdBridg.global("hl_kvps_m")||[],o={},a=(c.each(r,function(e){o[e]={}}),{});c.each(s,function(e){var t=e.getSlotElementId(),n=parseInt((t.match(/^t(\d+)_/)||["0"]).pop())+1;a[n]||(a[n]=[]),a[n].push(e),c.each(r,function(e){var t=(i[n]||{})[e];o[e][n]=t})}),c.log("page number targeting before set check",JSON.parse(JSON.stringify(Object.keys(a).map(function(e){return e+"="+a[e].map(function(e){return e.getSlotElementId()})}))),o),c.each(o,function(e,n){var t=Object.keys(e);1<t.length?c.each(e,function(t,e){c.each(a[e],function(e){e.setTargeting(n,t)})}):AdBridg.gpt.pubads().setTargeting(n,e[t[0]])}),AdBridg.global("ad2201_das_preroll")&&(-1===(n=AdBridg.gpt.pubads().getTargeting("pageTemplate")).indexOf("DAS Video")&&(n.push("DAS Video"),AdBridg.gpt.pubads().setTargeting("pageTemplate",n)),AdBridg.gpt.pubads().setCategoryExclusion("pageHasDasPreroll"),c.log("AD-2201 Set video competitive exclusion label pageHasDasPreroll and kvp pageTemplate=DAS Video"),d("./analytics.js").meta("ad2201","1")),t()},"gamkvp.get_test_codes":function(e,t){var n=""+window.useAdBridg;(n=n.match(/^[abc]$/)?n:"c")&&t.push("t1"+n),c.qs("adb_force_expand")&&t.push("t2x")},"gpt.viewed":function(e,t,n){var i,r,o;window.useAdBridgGamConfig&&!n.hlReload&&(i=19===n.id,r=AdBridg.global("refreshDMR1")&&1===n.id,i||r)&&(o=!1,n.hlReload=function(){o||(o=!0,t.setTargeting("under30","false"),AdBridg.refresh([t]))},setTimeout(n.hlReload,3e4))}},u)),n(new(d("./modules/hlasr.js"))({defer:function(e){if(AdBridg.global("pub.config"))return c.log("HL-ASR-dbmock: defer already after pub.config"),e();c.log("HL-ASR-dbmock: defer waiting for pub.config");var t=!1;AdBridg.cmd.unshift({events:{"pub.config":function(){c.log("HL-ASR-dbmock: pub.config handler"),t||(t=!0,e())}}})},active:function(){var e=a.libSettings("pub")||{};return c.qs("adb_apsv2")||e.use_apsv2}},u)),n(new(d("./modules/apstagv2.js"))({allowed_sizes:["300x250","300x600","300x50","320x50","728x90","970x90","970x250"],defer:function(e){if(AdBridg.global("pub.config"))return c.log("HL-APSTagV2: defer already after pub.config"),e();c.log("HL-APSTagV2: defer waiting for pub.config");var t=!1;AdBridg.cmd.unshift({events:{"pub.config":function(){c.log("HL-APSTagV2: pub.config handler"),t||(t=!0,e())}}})},active:function(){var e=a.libSettings("pub")||{};return c.qs("adb_apsv2")||e.use_apsv2},init:function(){var n=a.libSettings("pub")||{},e={},i=[],e=(c.each(["k1","k2","k3","kmeta"],function(e){var t=n[e];t&&("kmeta"===e?i=i.concat(t.split(",")):i.push(t))}),i.length&&(e.keywords=i.join(",")),n.k1&&(e.ext={sitetaxonomy:n.k1}),{pubID:3083,adServer:"googletag",deals:!0,signals:{ortb2:{site:e}}});return c.log("HL-APSTagV2: init generated",JSON.stringify(e)),e},use_gpid:!0,pub_audiences:{record:function(){return!!c.qs("rvid")&&{value:c.qs("rvid"),type:"email"}}}},u)),n(new(d("./modules/amazon.js"))({defer:function(e){if(AdBridg.global("pub.config"))return c.log("HL-Amazon: defer already after pub.config"),e();c.log("HL-Amazon: defer waiting for pub.config");var t=!1;AdBridg.cmd.unshift({events:{"pub.config":function(){c.log("HL-Amazon: pub.config handler"),t||(t=!0,e())}}})},active:function(){var e=a.libSettings("pub")||{};return!c.qs("adb_apsv2")&&!e.use_apsv2},allowed_sizes:["300x250","300x600","300x50","320x50","728x90","970x90","970x250"],load_apstag:!1,init:function(e){return{pubID:3083,adServer:"googletag",deals:!0}},use_gpid:!0,pub_audiences:{record:function(){return!!c.qs("rvid")&&{value:c.qs("rvid"),type:"email"}}}},u)),n(new(d("./modules/gamconfig.js"))({active:{js:"window.useAdBridgGamConfig"},autostart:0,slots:[{dom_ad_class:"dlb1",gpt_path_builder:"{{lib.adb.hl_prefix}}DLB1",size_map:[{sizes:"",viewport:[0,0]},{sizes:[[728,90],[728,250]],viewport:[768,0]},{sizes:[[728,90],[970,90],[970,250],[728,250]],viewport:[990,0]},{sizes:[[1100,250],[728,90],[970,90],[970,250]],viewport:[1100,0]}]},{dom_ad_class:"mlb1",gpt_path_builder:"{{lib.adb.hl_prefix}}MLB1",size_map:[{sizes:[[320,50],[300,50],[320,100]],viewport:[0,0]},{sizes:"",viewport:[768,0]}]},{dom_ad_class:"inline1",gpt_path_builder:"{{lib.adb.hl_prefix}}{{lib.adb.device_code}}MR1",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]}]},{dom_ad_class:"inline2",gpt_path_builder:"{{lib.adb.hl_prefix}}{{lib.adb.device_code}}{{lib.adb.inline_code}}2",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"inline3",gpt_path_builder:"{{lib.adb.hl_prefix}}{{lib.adb.device_code}}{{lib.adb.inline_code}}3",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"inline4",gpt_path_builder:"{{lib.adb.hl_prefix}}{{lib.adb.device_code}}{{lib.adb.inline_code}}4",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"inline5",gpt_path_builder:"{{lib.adb.hl_prefix}}{{lib.adb.device_code}}{{lib.adb.inline_code}}5",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"sticky1",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR1",size_map:[{sizes:"",viewport:[0,0]},{sizes:[[300,250],[300,600]],viewport:[990,0]}]},{dom_ad_class:"sticky2",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR2",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky3",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR3",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky4",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR4",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky5",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR5",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky6",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR6",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky7",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR7",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky8",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR8",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky9",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR9",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky10",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR10",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky11",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR11",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky12",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR12",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky13",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR13",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR1",gpt_path_builder:"{{lib.adb.hl_prefix}}DCMR1",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR2",gpt_path_builder:"{{lib.adb.hl_prefix}}DCMR2",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"ina",gpt_path_builder:"{{lib.adb.hl_prefix}}ina",size:["fluid"]},{dom_id:"div-gpt-ad-out-of-page",gpt_path_builder:"{{lib.adb.hl_prefix}}out-of-page",oop:1,size:[[1,1]]},{dom_ad_class:"sticky14",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR14",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky15",gpt_path_builder:"{{lib.adb.hl_prefix}}DMR15",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR3",gpt_path_builder:"{{lib.adb.hl_prefix}}DCMR3",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR4",gpt_path_builder:"{{lib.adb.hl_prefix}}DCMR4",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR5",gpt_path_builder:"{{lib.adb.hl_prefix}}DCMR5",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"hl_incontent_extras",gpt_path_builder:"{{lib.adb.hl_prefix}}MMR_extra",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[768,0]}]},{dom_ad_class:"mmr1",gpt_path_builder:"{{lib.adb.hl_prefix}}MMR1",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]}]},{dom_ad_class:"mmr2",gpt_path_builder:"{{lib.adb.hl_prefix}}MMR2",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]}]},{dom_ad_class:"dlb2",gpt_path_builder:"{{lib.adb.hl_prefix}}DLB2",size_map:[{sizes:"",viewport:[0,0]},{sizes:"",viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"dlb3",gpt_path_builder:"{{lib.adb.hl_prefix}}DLB3",size_map:[{sizes:"",viewport:[0,0]},{sizes:"",viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"dlb_mpd",gpt_path_builder:"{{lib.adb.hl_prefix}}DLB_MPD_Q{{lib.adb.mpd_quarter}}",size_map:[{sizes:"",viewport:[0,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"mmr_mpd",gpt_path_builder:"{{lib.adb.hl_prefix}}MMR_MPD_Q{{lib.adb.mpd_quarter}}",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]}]},{dom_ad_class:"asr_widget",gpt_path_builder:"{{lib.adb.hl_prefix}}{{lib.adb.device_code}}{{lib.adb.inline_code}}_MPD_ASR",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]}]},u))}catch(e){c.err("Module failed",e)}},{"./analytics.js":14,"./modules/33acrossid.js":22,"./modules/adbcm.js":23,"./modules/amazon.js":24,"./modules/apstagv2.js":25,"./modules/ats_analytics.js":26,"./modules/batch.js":27,"./modules/bidpool.js":28,"./modules/cloader.js":29,"./modules/confiant.js":30,"./modules/connectid.js":31,"./modules/criteoid.js":32,"./modules/dv.js":33,"./modules/emit.js":34,"./modules/expand.js":35,"./modules/gamconfig.js":36,"./modules/gamkvp.js":37,"./modules/gprog.js":38,"./modules/hlasr.js":39,"./modules/hlcpuv.js":40,"./modules/hlimasdk.js":41,"./modules/icu.js":42,"./modules/id5id.js":43,"./modules/identitysignals.js":44,"./modules/lzest.js":45,"./modules/merkleid.js":46,"./modules/pubaudit.js":47,"./modules/pubcid.js":48,"./modules/rampid.js":49,"./modules/rhunt.js":50,"./modules/unifiedid.js":51,"./utils.js":58}],22:[function(t,e,n){function a(e){i=e,d.thread(function(){t("../analytics.js").meta("iC",i)})()}var i,s,d=t("../utils.js"),c=t("../ajax.js"),r=t("../consentwrapper.js");a("N"),e.exports=r("33AcrossId",function(e,t,n,i){s||(s=!0,t.on("gamkvp.getids",function(e,t){r?t.push("iCy"):t.push("iCn")}));var r,o=d.lr("adb_iC");o?(r=o,a("L")):(o="https://lexicon.33across.com/v1/envelope?pid="+e.pid+"&gdpr="+(n&&n.gdprApplies?1:0),i&&i.uspString&&(o+="&us_privacy="+encodeURIComponent(i.uspString)),n&&n.gdprApplies&&(o+="&gdpr_consent="+encodeURIComponent(n.consentString)),c({url:o,method:"GET",max_ms:1e4,withCredentials:!0,parseResponseJson:!0,data:{}},d.wrapAsync(function(e,t){e?(a("E"),d.log("33acrossID err",e)):t&&t.succeeded?t.data&&t.data.envelope?(r=t.data.envelope,a("A"),d.lw("adb_iC",r,.33)):a("X"):(a("E"),d.log("33acrossID invalid response",t))}))),t.on("unit.config",function(e,t){r&&(d.log("Set 33AcrossID on unit",r,t),t.set("userIdAsEids.33acrossid",{source:"33across.com",uids:[{id:r,atype:1}]}))})})},{"../ajax.js":13,"../analytics.js":14,"../consentwrapper.js":18,"../utils.js":58}],23:[function(p,e,t){var g=p("../utils.js"),f=p("../config.js");e.exports=g.wrapAsync(function(t,e){var n,i,r,o,a,s,d,c,u,l;!1===t.active||"function"==typeof t.active&&!t.active()?g.log("adbcm disabled"):("function"==typeof(t=g.assign({test_prefix:"t0",test_version:"x0",cub_pct:1},t)).cub_pct&&(t.cub_pct=t.cub_pct()),r=g.url(),g.pixel("https://adspsp.com/pt/2418030/3/4/?a=0&ec="+(window.adb||0)+"&abcm=0&adb_ld=1&adb_ex=1&adbju="+t.test_version+"&adbj="+(window.adbj||0)+"&c="+encodeURIComponent(r.href)+"&d="+encodeURIComponent(r.referrer)+"&g="+g.perfts()+"&u=045e8743:lvfvme4o:449"),r=.05,(i=t).cub_pct<1&&(r=(1-i.cub_pct)/i.cub_pct),a=Math.random(),o=1-r<a?"b":"c",g.log("CM split",a,">",1-r,o),n=i.test_prefix+o,a=f.libSettings(),s=a.alter_adb_pixel,a.alter_adb_pixel=function(e){try{s&&(e=s(e))}catch(e){}try{e+="&adb_cm="+n+"&adbju="+t.test_version+"&adbj="+(window.adbj||0)}catch(e){}return e},e.on("gamkvp.get_test_codes",function(e,t){t.push(n)}),d={},c=function(e){return d[e]||(d[e]=g.genID("U")),d[e]},u=function(t){var n=t.getSlotElementId();return{id:0,unique_id:c(n),get:function(e){return"dom_id"===e?n:"gpt_slot"===e?t:void 0}}},l=f.kvp("adb_bdr"),e.on("gpt.before_request",function(e,t){var i=[];g.each(t,function(e){var t,n=e.getSlotElementId();e.getTargeting(l).length||(t=e.getAdUnitPath(),e=e.getSizes().map(e=>e.width+"x"+e.height).join("."),i.push(c(n)),i.push(encodeURIComponent(t)),i.push(encodeURIComponent(n)),i.push(e))}),i.length&&p("../analytics.js").metaqx("cmc1",i.join(","))}),e.on("gpt.render_pt",function(e,t,n){var i=u(n.slot);p("../analytics.js").gptRendered({instancectr:0},i,n)}),e.on("gpt.viewed_pt",function(e,t){var n=u(t.slot);p("../analytics.js").gptViewed({instancectr:0},n,t)}))})},{"../analytics.js":14,"../config.js":16,"../utils.js":58}],24:[function(w,e,t){var x=w("../utils.js"),d=w("../modules"),c=w("../config.js"),n=w("../consentwrapper.js"),A=(e.exports=n({name:"Amazon",allow:!0},function(p,g,f,m,h){function b(e){var n=[],i=p.allowed_sizes;return x.each(e,function(e,t){if(i&&-1==i.indexOf(e))return x.log("Amazon unsupported size: ",e);e=e.split("x");e[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10),n.push(e)}),n}var v={},_={},s={},y=!1,t=!1;!function e(){var i,r,o,a,u,l;p.defer&&!t?(x.log("Amazon: deferring initialization"),t=!0,x.thread(p.defer)(e)):p.active&&!p.active()?x.log("Amazon: inactive"):("function"==typeof(i=!x.qs("adb_enable_amzn")&&p.test)&&(i=i()),"function"==typeof(r=p.load_apstag)&&(r=r()),u=a=o=!1,"function"==typeof c.libSettings().nogpt&&c.libSettings().nogpt()||x.qs("adb_nogpt")?(x.log("nogpt Disabling Amazon"),i=a=!(r=!1)):(l=function(){var e,t,n;return o?i:(e="function"==typeof(e=p.init)?e(c.libSettings()):e)?(o=!0,i?(x.log("Amazon disabled. Use ?adb_enable_amzn=1 to activate."),i):window.apstag?void(f&&f.gdprApplies&&(e.params=e.params||{},e.params.gdpr=f.vendorData.tcfPolicyVersion?f.consentString:"",p.no_eu)?(i=!0,x.log("Amazon disabled for EU",f.consentString)):(n=(t=m&&m.uspString)&&"1---"===m.uspString,!t||n&&p.skip_ccpa_default||(e.params=e.params||{},e.params.us_privacy=m.uspString,!m.adbOptOut)||(y=!0,!p.no_ca)?(apstag.init(e),d.trigger("amzn.init",apstag,e),x.log("Amazon initialized:",e)):(i=!0,x.log("Amazon disabled for CA",m.uspString)))):(r||a||(x.err("Amazon library not found."),a=!0),i=!0)):(x.log("Amazon init bypassed."),!1)},i||!r||A()||(i=o=!0),g.on("unit.config",function(e,t){if(!l()){var n=t.get("dom_id"),i=t.get("gpt_slot");if(!n||!i)return x.log("Amazon skip",n,i);var r=i.getAdUnitPath()+"";if(!(i=p.get_slot_name?p.get_slot_name(r,n,i,t):p.use_gpid?t.toPrebidOrtb2Imp().ext.gpid.replace(/\#/g,"_"):(r.match(/([^\/]+)$/)||[""])[0]))return x.err("Amazon noname: ",i,n,r);if(r={slotID:n,slotName:i,sizes:_[n]||b(t.all_sizes)},p.use_pubcid&&window.PublisherCommonId&&window.PublisherCommonId.getId&&(i=window.PublisherCommonId.getId(),r.slotParams={"pubcid.org":[i]}),v[n]=r,x.log("Amazon slot configured",r,!!_[n]),p.pub_audiences&&!u)if(f&&f.gdprApplies&&!f.consentString)x.log("Amazon PA skipped: GDPR");else if(m&&m.adbOptOut)x.log("Amazon PA skipped: CCPA");else{if(h&&h.parsedSections){if((t=h.parsedSections.usnatv1)&&1===t.SaleOptOut)return void x.log("Amazon PubAudiences skipped: GPP-USNatV1-Sale");if(t&&1===t.SharingOptOut)return void x.log("Amazon PubAudiences skipped: GPP-USNatV1-Share")}function o(e){a=e,x.thread(function(){w("../analytics.js").meta(d,a)})()}u=!0;var a,i=p.pub_audiences,s=!1,d="iA",c="n";g.on("gamkvp.getids",function(e,t){s||(s=!0,t.push(d+c),x.log("Amazon PA gamkvp.getids",c))}),i.active&&!i.active()?(x.log("Amazon PA: inactive"),c="n",o("N")):(x.log("Amazon PA: active"),(r=i.record())?(n={hashedRecords:[{type:r.type,record:r.value}],optOut:y},apstag.rpa(n,x.wrapAsync(function(){o(y?"X":"Y"),c="y",x.log("Amazon PA: completed")}))):(x.log("Amazon PA: no email record"),c="n",o("Z")))}}}),g.on("unit.restrict_sizes",function(e,t,n){!l()&&(t=t.get("dom_id"),n=b(n),_[t]=n,t=v[t])&&(x.log("Amazon slot resize",t,n),t.sizes=n)}),g.on("gpt.destroy",function(e,t,n){l()||(x.log("Amazon slot remove",n),delete v[n],delete _[n])}),g.on("unit.pre_attach",function(e,t){if(!l()){var n=t.get("dom_id"),i=v[n];if(!i)return x.log("Amazon preload mismatch",n);var r=t.auction,o="amazon."+t.id;r.lock(o),apstag.fetchBids({slots:[i],timeout:r.max_ms},x.wrapAsync(function(){x.log("Amazon preload response",r.id,arguments);try{apstag.setDisplayBids()}catch(e){x.err("Amazon setBids",e)}r.unlock(o)}))}}),g.on("auction.start",function(e,t){var n,i,r,o;l()||(n=[],t.eachUnit(function(e){var e=e.get("dom_id"),t=v[e];t?(n.push(t),v[e]=null):x.log("Amazon no config",e)}),n.length&&(i={slots:n,timeout:t.max_ms},x.log("Amazon request",t.id,i),r="amazon."+t.id,s[r]=!0,t.lock(r),o=setTimeout(x.wrapAsync(function(){s[r]&&(s[r]=!1,t.unlock(r),x.log("Amazon timed out",t.id,i))}),t.max_ms+50),apstag.fetchBids(i,x.wrapAsync(function(){x.log("Amazon response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){x.err("Amazon setBids",e)}clearTimeout(o),s[r]&&(s[r]=!1,t.unlock(r))}))))})))}()}),function(){if(window.apstag)x.log("Amazon already loaded");else{x.log("Loading Amazon dependency");try{n="apstag",i=window,e=document,i[n]||(i[n]={init:function(){o("i",arguments)},fetchBids:function(){o("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){o("di",arguments)},rpa:function(){o("ri",arguments)},upa:function(){o("ui",arguments)},_Q:[]},(t=e.createElement("script")).async=!0,t.src="https://c.amazon-adsystem.com/aax2/apstag.js",(r=e.getElementsByTagName("script")[0]).parentNode.insertBefore(t,r))}catch(e){return x.err("Amazon load failed",e),!1}var n,i,e,t,r}return!0;function o(e,t){i[n]._Q.push([e,t])}})},{"../analytics.js":14,"../config.js":16,"../consentwrapper.js":18,"../modules":21,"../utils.js":58}],25:[function(h,e,t){var b=h("../utils.js"),v=h("../modules.js"),n=h("../consentwrapper.js");e.exports=n({name:"APSv2",allow:!0},function(c,o,u,l,e){b.log("APSTagV2: module setup",c);function p(e){var n=[],i=c.allowed_sizes;return b.each(e,function(e,t){if(i&&-1==i.indexOf(e))return b.log("APSTagV2 unsupported size: ",e);e=e.split("x");e[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10),n.push(e)}),n}var g=!1;var f=!1;function m(){var s,d,a,n,t,i,e,r;c.defer&&!f?(b.log("APSTagV2: deferring initialization"),f=!0,b.thread(c.defer)(m)):(r="function"==typeof(r=c.active)?r():r)?(b.log("APSTagV2: initializing"),s={},d={},a={},window.apstag=window.apstag||{queue:[],init:function(){apstag.queue.push(["i",arguments,(new Date).getTime()])},fetchBids:function(){apstag.queue.push(["f",arguments,(new Date).getTime()])},setDisplayBids:function(){},targetingKeys:function(){return[]}},c.pub_audiences&&!g&&(u&&u.gdprApplies&&!u.consentString?b.log("APSTagV2 PA skipped: GDPR"):l&&l.adbOptOut?b.log("APSTagV2 PA skipped: CCPA"):(g=!0,r=c.pub_audiences,n=!1,i="n",e=function(e){t=e,b.thread(function(){h("../analytics.js").meta("iA",t)})()},o.on("gamkvp.getids",function(e,t){n||(n=!0,t.push("iA"+i),b.log("APSTagV2 PA gamkvp.getids",i))}),r.active&&!r.active()?(b.log("APSTagV2 PA: inactive"),e("N")):(b.log("APSTagV2 PA: active"),(r=r.record())?(r={hashedRecords:[{type:r.type,record:r.value}]},apstag.rpa(r,b.wrapAsync(function(){e("Y"),i="y",b.log("APSTagV2 PA: completed")}))):(b.log("APSTagV2 PA: no record"),e("Z"))))),"function"==typeof(r=c.init)&&(r=r()),apstag.init(r),v.trigger("amzn.init",apstag,r),b.log("APSTagV2 initialized:",r),o.on("unit.config",function(e,t){var n,i,r,o=t.get("dom_id"),a=t.get("gpt_slot");return o&&a?(n=a.getAdUnitPath()+"",(i=c.get_slot_name?c.get_slot_name(n,o,a,t):c.use_gpid?t.toPrebidOrtb2Imp().ext.gpid.replace(/\#/g,"_"):(n.match(/([^\/]+)$/)||[""])[0])?(t={slotID:o,slotName:i,sizes:d[o]||p(t.all_sizes)},c.use_pubcid&&window.PublisherCommonId&&window.PublisherCommonId.getId&&(r=window.PublisherCommonId.getId(),t.slotParams={"pubcid.org":[r]}),s[o]=t,void b.log("APSTagV2 slot configured",t,!!d[o])):b.err("APSTagV2 noname: ",i,o,n)):b.log("APSTagV2 skip",o,a)}),o.on("unit.restrict_sizes",function(e,t,n){t=t.get("dom_id"),n=p(n),d[t]=n,t=s[t];t&&(b.log("APSTagV2 slot resize",t,n),t.sizes=n)}),o.on("gpt.destroy",function(e,t,n){b.log("APSTagV2 slot remove",n),delete s[n],delete d[n]}),o.on("auction.start",function(e,t){var n,i,r,o=[];t.eachUnit(function(e){var e=e.get("dom_id"),t=s[e];t?(o.push(t),s[e]=null):b.log("APSTagV2 no config",e)}),o.length&&(n={slots:o,timeout:t.max_ms},b.log("APSTagV2 request",t.id,n),i="amazon."+t.id,a[i]=!0,t.lock(i),r=setTimeout(b.wrapAsync(function(){a[i]&&(a[i]=!1,t.unlock(i),b.log("APSTagV2 timed out",t.id,n))}),t.max_ms+50),apstag.fetchBids(n,b.wrapAsync(function(){b.log("APSTagV2 response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){b.err("APSTagV2 setBids",e)}clearTimeout(r),a[i]&&(a[i]=!1,t.unlock(i))})))})):b.log("APSTagV2: inactive")}c.load_apstag?(b.log("APSTagV2: loading script"),b.load("https://c.aps.amazon-adsystem.com/apstag.js",m)):m()})},{"../analytics.js":14,"../consentwrapper.js":18,"../modules.js":21,"../utils.js":58}],26:[function(e,t,n){var a=e("../utils.js"),s=e("../ajax.js"),e=e("../consentwrapper.js"),i={BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",AUCTION_END:"auctionEnd"},r="https://analytics.rlcdn.com",d=[],c=[],o=[{test:/googlebot/i,name:"Googlebot"},{test:/opera/i,name:"Opera"},{test:/opr\/|opios/i,name:"Opera"},{test:/SamsungBrowser/i,name:"Samsung Internet for Android"},{test:/Whale/i,name:"NAVER Whale Browser"},{test:/MZBrowser/i,name:"MZ Browser"},{test:/focus/i,name:"Focus"},{test:/swing/i,name:"Swing"},{test:/coast/i,name:"Opera Coast"},{test:/opt\/\d+(?:.?_?\d+)+/i,name:"Opera Touch"},{test:/yabrowser/i,name:"Yandex Browser"},{test:/ucbrowser/i,name:"UC Browser"},{test:/Maxthon|mxios/i,name:"Maxthon"},{test:/epiphany/i,name:"Epiphany"},{test:/puffin/i,name:"Puffin"},{test:/sleipnir/i,name:"Sleipnir"},{test:/k-meleon/i,name:"K-Meleon"},{test:/micromessenger/i,name:"WeChat"},{test:/qqbrowser/i,name:/qqbrowserlite/i.test(window.navigator.userAgent)?"QQ Browser Lite":"QQ Browser"},{test:/msie|trident/i,name:"Internet Explorer"},{test:/\sedg\//i,name:"Microsoft Edge"},{test:/edg([ea]|ios)/i,name:"Microsoft Edge"},{test:/vivaldi/i,name:"Vivaldi"},{test:/seamonkey/i,name:"SeaMonkey"},{test:/sailfish/i,name:"Sailfish"},{test:/silk/i,name:"Amazon Silk"},{test:/phantom/i,name:"PhantomJS"},{test:/slimerjs/i,name:"SlimerJS"},{test:/blackberry|\bbb\d+/i,name:"BlackBerry"},{test:/(web|hpw)[o0]s/i,name:"WebOS Browser"},{test:/bada/i,name:"Bada"},{test:/tizen/i,name:"Tizen"},{test:/qupzilla/i,name:"QupZilla"},{test:/firefox|iceweasel|fxios/i,name:"Firefox"},{test:/electron/i,name:"Electron"},{test:/MiuiBrowser/i,name:"Miui"},{test:/chromium/i,name:"Chromium"},{test:/chrome|crios|crmo/i,name:"Chrome"},{test:/GSA/i,name:"Google Search"},{test:/android/i,name:"Android Browser"},{test:/playstation 4/i,name:"PlayStation 4"},{test:/safari|applewebkit/i,name:"Safari"}],u=["Safari","Chrome","Firefox","Microsoft Edge"];function l(t){var n="true"===a.cr("_lr_env_src_ats"),i=[];return a.each(t.bids,function(e){i.push({envelope_source:n,has_envelope:!!e.userId&&!!e.userId.idl_env,bidder:e.bidder,bid_id:e.bidId,auction_id:t.auctionId,user_browser:function(){var t=f.getUserAgent();try{var e=o.filter(function(e){return e.test.test(t)}),n=e&&e.length?e[0].name:"";return 0<=u.indexOf(n)?n:"Unknown"}catch(e){a.err("ATS Analytics - Error while checking user browser!",e)}}(),user_platform:navigator.platform,auction_start:new Date(t.auctionStart).toJSON(),domain:window.location.hostname,pid:f.context.pid,adapter_version:3,bid_won:!1})}),i}function p(e){try{var t={Data:e},n=JSON.stringify(t);a.logl("ats_analytics","ATS Analytics - tried to send analytics data!"),s({url:r,data:n,method:"POST",contentType:"application/json"},function(e,t){a.logl("ats_analytics","ATS Analytics - events sent successfully!")})}catch(e){a.err("ATS Analytics - request encounter an error: ",e)}}function g(e){m||(m=!0,window.pbjs.que.push(function(){f.enableAnalytics({options:{pid:e.pid}})}))}var f={shouldFireRequest:function(e){return 0!==e?(e=100===Math.floor(100*Math.random()+1),a.logl("ats_analytics","ATS Analytics - Should Fire Request: ",e),e):(a.logl("ats_analytics","ATS Analytics - Should Fire Request: ",!1),!1)},getUserAgent:function(){return window.navigator.userAgent},setSamplingCookie:function(e){a.cw("_lr_sampling_rate",e,1)},enableAnalytics:function(e){e.options.pid?(f.context={events:[],pid:e.options.pid,bidWonTimeout:e.options.bidWonTimeout},a.logl("ats_analytics","ATS Analytics - adapter enabled!"),a.each(i,function(t){pbjs.onEvent(t,function(e){f.callHandler(t,e)})})):a.err("ATS Analytics - Publisher ID (pid) option is not defined. Analytics won't work")}},m=!(f.callHandler=function(e,t){var o;e===i.BID_REQUESTED?d=d.concat(l(t)):e===i.BID_RESPONSE&&c.push({bid_id:(t=t).requestId,response_time_stamp:new Date(t.responseTimestamp).toJSON(),currency:t.currency,cpm:t.cpm,net_revenue:t.netRevenue}),e===i.AUCTION_END&&(t=f.context.bidWonTimeout||2e3,o=[],setTimeout(function(){var i,e,n=pbjs.getAllWinningBids();if(a.logl("ats_analytics","ATS Analytics - winning bids: ",n),d.length){var r={};c.length?(o=d.filter(function(t){return c.filter(function(e){if(t.bid_id===e.bid_id)return Object.assign(t,e)})}),n.length&&(o=o.filter(function(t){return n.filter(function(e){r.bid_id=e.requestId,r.bid_won=!0,t.bid_id===r.bid_id&&Object.assign(t,r)})}))):o=d;try{var t=a.cr("_lr_sampling_rate");t?f.shouldFireRequest(parseInt(t))&&(a.logl("ats_analytics","ATS Analytics - events to send: ",o),p(o)):(i=o,a.logl("ats_analytics","ATS Analytics - preflight request!"),e={url:"https://check.analytics.rlcdn.com/check/"+f.context.pid,parseResponseJson:!0,max_ms:0},s(e,function(e,t){var n;e?(f.setSamplingCookie(0),a.logl("ats_analytics","ATS Analytics - Sampling Rate Request Error!",e)):(a.logl("ats_analytics","ATS Analytics - Sampling Rate: ",t),e=t.samplingRate,f.setSamplingCookie(e),n=Number(e),t&&e&&f.shouldFireRequest(n)&&(a.logl("ats_analytics","ATS Analytics - events to send: ",i),p(i)))})),o=[]}catch(e){a.err("ATS Analytics - preflight request encounter an error: ",e)}}},t))}),h=!1,b=!1;t.exports=e("ATSAnalytics",function(e,t,n,i){e.defer?h||(h=!0,e.defer(function(){b||(b=!0,a.logl("ats_analytics","Resuming ATS Analytics instantiation"),g(e))}),a.logl("ats_analytics","Deferring ATS Analytics instantiation")):g(e)})},{"../ajax.js":13,"../consentwrapper.js":18,"../utils.js":58}],27:[function(e,t,n){var c=e("../utils");t.exports=function(u,e){function l(e,t){this.group=e,this.id=t,this.units=[],this.ru=[],this.running=!1,this.done=!1,p.push(this)}var o,p=[],a=[],g=(l.prototype.add=function(e){c.log("Batch add",this.id,e.get("dom_id"),e.get("gpt_slot").getAdUnitPath()),e.set("lock.batch",this.id),this.units.push(e),e.id,this.id},l.prototype.run=function(){var e,t;this.running||(this.running=c.dts()||!0,c.log("Batch start",this.id,this.running),0<=(e=p.indexOf(this))&&p.splice(e,1),-1===a.indexOf(this)&&a.push(this),t=0,c.each(this.units,function(e){e.get("lock.batch")&&(e.set("lock.batch",!1),t+=1)}),t&&AdBridg.serve())},{}),f=[],s=!(l.prototype.rendered=function(e){for(var t,n=0;n<this.units.length;++n){var i=this.units[n];0<=this.ru.indexOf(i)||i.get("gpt_slot")===e&&(this.done?c.err("BatchErrRenderAfterDone"):this.running||c.err("BatchErrRenderBeforeRun",e.getSlotElementId()),this.ru.push(i))}this.ru.length===this.units.length&&(this.done=c.dts()||!0,c.log("Batch done",this.id,this.done),0<=(t=a.indexOf(this))&&a.splice(t,1),d())}),d=function(){if(!s){clearTimeout(o),s=!0;for(var e,t,n=0,i=f.length-1;0<=i;--i){var r=f[i];r.get("lock.lazy")?n+=1:(r=r.get("gpt_slot"),AdBridg.has_gpt_lock(r)||f.splice(i,1))}s=(f.length>n||a.length||!p.length||("number"==typeof(e=u.get_next_batch(p))?(t=e,o=setTimeout(c.wrapAsync(function(){d()}),t)):e&&(c.isarr(e)||(e=[e]),c.each(e,function(e){e.run()}))),!1)}};e.on("gpt.define",function(e,t,n,i,r,o){var a=u.assign_unit(t,p);if(a){for(var s=0,d=a+"_i"+s,c=g[d];c&&(c.done||c.running);)c=g[d=a+"_i"+(s+=1)];c||(g[d]=new l(a,d),c=g[d]),c.add(t)}else f.push(t)}),e.on("gpt.render_raw",function(e,t){var n=t.slot;c.each(a,function(e){e.rendered(n)}),c.each(p,function(e){e.rendered(n)}),d()})}},{"../utils":58}],28:[function(t,e,n){var u=t("../utils"),l={};e.exports=function(i,e){if(i.active){if(!i.active())return void u.log("Bidpool inactive");u.log("Bidpool active")}function r(e){for(;e._origin;)e=e._origin;return e}function a(){c+=1,Object.keys(l).forEach(function(e){var t;l[e]=l[e].filter(function(e){return u.log("pool "+c+" bid TTL check "+e.config.bidder_name+" ::: now -  bid.ts ("+u.dts()+" - "+e.ts+") / 1000 + T_BUFFER (7) = "+((u.dts()-e.ts)/1e3+7)+" < TTL ("+e.rawbid.ttl+") = "+((u.dts()-e.ts)/1e3+7<e.rawbid.ttl)),(u.dts()-e.ts)/1e3+7<e.rawbid.ttl}),l[e].length>n&&(t=JSON.stringify(Object.values(l[e]).map(function(e){return e.config.bidder_id+":"+e.cpm})),l[e]=l[e].sort(function(e,t){return e.cpm<t.cpm?1:t.cpm<e.cpm?-1:0}).slice(0,n),e=JSON.stringify(Object.values(l[e]).map(function(e){return e.config.bidder_id+":"+e.cpm})),u.log("POOL UPDATE",{before:t,after:e}))})}var s,n=i.max||5,d=(e.on("adb.init",function(){t("../analytics.js").meta("bp",1)}),i.poolKeyFn||function(e){return e.id}),o=function(e){var t=[e];return e._pool&&u.each(e._pool,function(e){t=t.concat(o(e))}),t},c=0;e.on("unit.dynamic",function(e,t,n,i){s!==i.unique_id&&(s=i.unique_id,a());var r,o=d(t);o&&(r=l[o]&&l[o].length&&l[o][0].cpm)&&r!=t.min_cpm&&u.log("pool floor (disabled)",o,t.id,i.unique_id,t.min_cpm,r)}),e.on("auction.bidding_done",function(e,t){a(),t.eachUnit(function(e){var i=d(e);i&&l[i]&&l[i].forEach(function(t){var n;!0!==r(t)._plock&&e.unique_id!==t.config.unit.unique_id&&(t._origin?u.log("bad pool c",i,t):t.adbridg_rendered?u.log("bad pool r",i,t):(e.eachBidReqConf(t.config.bidder_name,function(e){e.bidder_unit_id===t.config.bidder_unit_id&&(n=e)}),n?e.addBid(n,t):u.err("BadPool",i,t.config.unit.id,t.config.bidder_id,t.config.bidder_unit_id)))})})}),e.on("bid.ready",function(e,t){var n;!t._origin&&0<t.cpm&&t.rawbid&&(!(n=d(t.config.unit))||i.bidFilter&&!i.bidFilter(t)||(l[n]=l[n]||[],l[n].push(t)))}),e.on("bid.auction_winner",function(e,t){u.each(o(r(t)),function(e){e._plock=!0})}),e.on("gpt.render",function(e,t){t=t.getWinner();t&&u.each(o(r(t)),function(e){e._plock=!1})}),e.on("bid.render",function(e,t){var n;n=o(r(t)),u.each(l,function(e,t){l[t]=l[t].filter(function(e){return-1===n.indexOf(e)})})}),e.on("gpt.set_targeting",function(e,t,n){t.getWinner()._origin&&t.setImpData("adb_imp","bp")})}},{"../analytics.js":14,"../utils":58}],29:[function(e,t,n){var o=e("../utils.js"),e=(e("../modules"),e("../config.js"),e("../consentwrapper.js"));t.exports=e({name:"CLoader",allow:!1},function(e,t,n,i,r){o.each(e.urls,function(e){o.load(e)})})},{"../config.js":16,"../consentwrapper.js":18,"../modules":21,"../utils.js":58}],30:[function(e,t,n){var u=e("../utils");t.exports=function(d,e){var c,s,n;function o(e,t,n,i,r){function o(e){return(b(e)||"")[d]("/","_")[d]("+","-")}var a,s,d,c,u,l,p,g=t.bidder,f=t.size,m=e.parentWindow||e.defaultView,h=m.JSON,b=m.btoa,v=m.encodeURIComponent;return!(!h||!b||(a="script",s="src",d="replace",c="error",u="write",n="https://"+n+"/?wrapper="+v(i)+"&tpid=",f=o(i+"/"+(g={k:{hb_bidder:[g],hb_size:[f]}}).k.hb_bidder[0]+":"+g.k.hb_size[0]),g={wh:f,wd:h.parse(h.stringify(g)),wr:0},l=f,h=o(h.stringify(g)),p=function(){e[u](t.ad)},l=n+v(l)+"&d="+h,h="err__"+ +new Date,m[h]=p,e[u]("<"+a+" on"+c+'="void('+h+'())" '+s+'="'+l+'" type="text/java'+a+'" ></'+a+">"),p={prebid:{adId:t.adId,cpm:t.cpm}},h={d:g,t:t.ad,cb:r,id:p},m[i]={},m[i][f]=h,e.close(),0))}d.loadCondition&&!d.loadCondition()||(window.confiant=window.confiant||{},d.enableIntegrations&&(window.confiant.enable_integrations=d.enableIntegrations),window.confiant[d.propertyId]||(window.confiant[d.propertyId]={}),window.confiant[d.propertyId].clientSettings||(window.confiant[d.propertyId].clientSettings={}),c=window.confiant_refresh_slots=[],s=u.wrapAsync(function(e,t,n,i,r,o,a){"use strict";var s;a=a||"op",u.err("ConfiantBlock",JSON.stringify([e,t,n,i,r,o,a||"op"])),d.refreshBlock&&(s=void 0!==o&&void 0!==o.dfp?o.dfp.s:null)&&n&&-1===c.indexOf(s)&&u.each(googletag.pubads().getSlots(),function(e){e.getSlotElementId()===s&&(e.setTargeting("confiant_refresh","true"),c.push(s),AdBridg.refresh([e],{},!1))})}),d.v2&&(n=function(e,t,n,i,r,a){u.log("Confiant friendly-frame render",a);return o(e,{size:a.width+"x"+a.height,bidder:a.config.bidder_name,ad:a.creative||a.creative_url,cpm:a.cpm,adId:a.config.id},"cdn.confiant-integrations.net",d.propertyId,function(e,t,n,i,r,o){(o=o||{}).dfp||(o.dfp={}),o.dfp.s||(o.dfp.s=a.config.unit.get("dom_id")),s(e,t,n,i,r,o,"v2")})},e.on("adb.get_ff_renderer",function(e,t){t.confiantV2=n})),d.v2&&e.on("adb.confiant_pmmutate",function(e,t,n){n.sid=t.config.unit.get("dom_id"),n.a=t.config.id,n.b=t.config.bidder_name,n.c=t.cpm,n.w=t.width,n.h=t.height,n.cfd="cdn.confiant-integrations.net",n.cfid=d.propertyId,u.log("Confiant SafeFrame render",t,n)}),d.v2&&e.on("adb.confiant_block_sf",function(e,t){t=JSON.parse(t);t.push("sf"),s.apply(null,t)}),window.confiant[d.propertyId].clientSettings.callback=s,u.load("https://cdn.confiant-integrations.net/"+d.propertyId+"/gpt_and_prebid/config.js"))}},{"../utils":58}],31:[function(t,e,n){var i,s=t("../utils"),d=t("../ajax"),r=t("../consentwrapper.js");function c(e){return e&&e.gdprApplies}function u(e){i=e,s.thread(function(){t("../analytics.js").meta("iB",i)})()}u("N"),e.exports=r("ConnectId",function(e,t,n,i){var r,o,a;e.active&&!e.active()?s.log("ConnectId disabled"):(s.log("ConnectId enabled"),r=e.pixelId,o=s.lr("connectid"),(a=(o?JSON.parse(o):{}).connectid)&&u("C"),t.on("gamkvp.getids",function(e,t){a?t.push("iBy"):t.push("iBn")}),t.on("unit.config",function(e,t){a&&(t.set("userId.connectid",a),t.set("userIdAsEids.connectid",{source:"yahoo.com",uids:[{id:a,atype:3}]}))}),o?s.log("ConnectId Skipped: Fetch request"):"function"==typeof e.email&&(s.log("Triggered user id fetch in connectid",e),e.email(function(e){var t;e?(s.log("ConnectId: Email found: ",e),e=["1p=0","he="+e,"gdpr="+(c(n)?"1":"0"),"gdpr_consent="+(c(n)?n.consentString:""),"us_privacy="+(i&&i.uspString?i.uspString:""),"pixelId="+r],t={url:e="https://ups.analytics.yahoo.com/ups/"+r+"/fed?"+e.join("&"),method:"GET",withCredentials:!0},s.log("Fetching connectid from url: ",e),d(t,function(e,t){if(e)u("E");else{var n;if(t)try{n=JSON.parse(t)}catch(e){return s.err("VRE"),void u("E")}n&&n.connectid?(s.log("ConnectId Responded",n),a=n.connectid,u("A")):s.log("ConnectId Skipped: No response"),s.lw("connectid",t,1)}})):s.log("ConnectId Skipped: No email found")})))})},{"../ajax":13,"../analytics.js":14,"../consentwrapper.js":18,"../utils":58}],32:[function(t,e,n){function l(e){i=e,g.thread(function(){t("../analytics.js").meta("i3",i)})()}var i,p,g=t("../utils.js"),f=t("../ajax.js"),r=t("../consentwrapper.js"),m="cto_bidid",h="cto_bundle";l("N"),e.exports=r("CriteoId",function(e,t,n,i){var r,o,a,s,d;function c(e){var t=g.cr(e);return t?l("C"):(t=g.lr(e))&&l("L"),t}function u(e,t){e&&t&&(g.cw(e,t,390),g.lw(e,t))}p||(p=!0,t.on("gamkvp.getids",function(e,t){r?t.push("i3y"):t.push("i3n")})),e.active&&!e.active()?g.log("CriteoID disabled"):(g.log("CriteoID enabled"),e=n&&"boolean"==typeof n.gdprApplies&&n.gdprApplies?n.consentString:void 0,(n={bundle:c(h),bidId:c(m)}).bidId&&(r=n.bidId),n=n,e=e,o=g.cookies,a=(g.url().referrer||"").replace(/^(https?\:\/\/[^\/]+).*$/,"$1/"),s=g.url().domain,d="undefined"!=typeof criteo_pubtag,a=a,s=s,n=n.bundle,o=o,d=d,e=e,a="https://gum.criteo.com/sid/json?origin=prebid"+(a?"&topUrl="+encodeURIComponent(a):"")+(s?"&domain="+encodeURIComponent(s):"")+(n?"&bundle="+encodeURIComponent(n):"")+(e?"&gdprString="+encodeURIComponent(e):"")+(o?"&cw=1":"")+(d?"&pbt=1":""),f({url:a,withCredentials:!0,parseResponseJson:!0},function(e,t){var n;e?("timeout"===e.type?l("ET"):e.type?(n=e.type.match(/status=(\d+)/))&&l("E"+n[1]):l("E"),g.log("CriteoID err",e)):(t.bidId?(u(m,t.bidId),r=t.bidId,l("A")):(n=m,g.cw(n,"",-1),g.lw(n,"")),t.acwsUrl?(e="string"==typeof t.acwsUrl?[t.acwsUrl]:t.acwsUrl,g.each(e,function(e){g.log("CriteoID acwsUrl",e),g.pixel(e)})):t.bundle&&u(h,t.bundle))}),t.on("unit.config",function(e,t){r&&(g.log("Set CriteoID on unit",r,t),t.set("userId.criteoId",r),t.set("userIdAsEids.criteoId",{source:"criteo.com",uids:[{id:r,atype:1}]}))}))})},{"../ajax.js":13,"../analytics.js":14,"../consentwrapper.js":18,"../utils.js":58}],33:[function(e,t,n){var c=e("../utils.js"),e=e("../modulewrapper.js"),i=(t.exports=e({name:"dv"},function(e,t){window.PQ=window.PQ||{cmd:[]};var n=!1;PQ.cmd.push(c.wrapAsync(function(){var o,a,s,d;n||(n=!0,c.log("DV loaded and subscribing to AdBridg events"),o=[],a=[],s=function(e){var t=o.indexOf(e);0<=t&&(o.splice(t,1),a.push(e)),googletag.cmd.push(c.wrapAsync(function(){var r=PQ.PTS,e=googletag.pubads().setTargeting,e=(r.ABS&&(e("ABS",r.ABS),c.log("DV page setTargeting","abs",r.ABS)),r.BSC&&(e("BSC",r.BSC),c.log("DV page setTargeting","bsc",r.BSC)),void 0!==r.IDS&&(e("IDS",e=[String(r.IDS)]),c.log("DV page setTargeting","ids",e)),googletag.pubads().getSlots());c.each(e,function(e){e.setTargeting("ABS",[]),e.setTargeting("BSC",[]),e.setTargeting("IDS",[]),e.setTargeting("pts_sid",[]),e.setTargeting("pts_pid",[]);var t=e.getAdUnitPath(),n=r.TVP&&r.TVP[t]&&Object.values(r.TVP[t])[0],i=r.VLP&&r.VLP[t]&&Object.values(r.VLP[t])[0];n&&e.setTargeting("TVP",n),i&&e.setTargeting("VLP",i),c.log("DV slot setTargeting",{gam_path:t,tvp:n,vlp:i})})}))},d=e.max_pt_ms||1e3,t.on("auction.start",function(e,t){var n=[];t.eachUnit(function(e){n.push(e.get("gpt_slot"))}),c.log("DV initializing batch from auction.start"),o.push(new u(n,t.max_ms+50,s))}),t.on("gpt.before_request",function(e,t){for(var n=[],i=0;i<t.length;++i){var r=t[i];!function(e){for(var t=0;t<o.length;++t)if(o[t].has(e))return!0;for(t=0;t<a.length;++t)if(a[t].has(e))return!0;return!1}(r)&&n.push(r)}n.length&&(c.log("DV initializing batch from gpt.before_request"),o.push(new u(n,d,s)))}),t.on("gpt.render_raw",function(e){for(var t=e.slot,n=a.length-1;0<=n;--n)a[n].has(t)&&a.splice(n,1);for(n=o.length-1;0<=n;--n)o[n].has(t)&&(o[n].expired(),o.splice(n,1),c.err("DVBatchRemovedInProgress",t.getAdUnitPath()))}))}))}),0);class u{constructor(e,t,n){this.id="dvbatch."+ ++i,this.slots=e,this.cb_fn=n,this.done=!1,AdBridg.lock(this.id),setTimeout(c.wrapAsync(this.expired.bind(this)),t),PQ.loadSignalsForSlots(e,c.wrapAsync(this.completed.bind(this))),c.log("DV Batch",this.id,"started",e)}has(e){return 0<=this.slots.indexOf(e)}expired(){this.done||(this.done=!0,c.log("DV Batch",this.id,"expired"),this.cb_fn(this),AdBridg.unlock(this.id))}completed(){this.done||(this.done=!0,c.log("DV Batch",this.id,"completed"),this.cb_fn(this),AdBridg.unlock(this.id))}}},{"../modulewrapper.js":52,"../utils.js":58}],34:[function(e,t,n){var i=e("../utils.js");t.exports=function(t,e){e.on("*",i.wrapAsync(function(e){t[e]&&t[e].apply(null,arguments)}))}},{"../utils.js":58}],35:[function(e,t,n){var l=e("../utils.js");t.exports=function(o,e){var d,c;function u(e){for(;e!==top&&e.parent&&e.parent!==top;)e=e.parent;for(var t in o.slots){var n=o.slots[t],i=document.getElementById(t);if(i){var r=i.querySelector("iframe");if(r&&r.contentWindow===e)return n.els||(n.els={}),n.els.container=i,n.els.frame=r,n.dom_id=t,n}}}o.slots&&(e.on("gpt.filter_refresh",function(e,t){if(d)for(var n=t.length-1;0<=n;--n)if(t[n].getSlotElementId()===d.dom_id)return t.splice(n,1),void l.log("Expand preventing refresh",d.dom_id)}),c=l.wrapAsync(function(){var e;d&&(e=d,d=!1,e.els.gcont.style.display=e.gcont.d,e.els.gcont.style.position=e.gcont.p,e.els.gcont.style.width=e.gcont.w,e.els.gcont.style.height=e.gcont.h,e.els.gcont.style.top=e.gcont.t,e.els.gcont.style.marginLeft=e.gcont.ml,e.els.gcont.style.marginRight=e.gcont.mr,e.els.gcont.style.marginTop=e.gcont.mt,e.els.frame.setAttribute("width",e.frame_w),e.els.frame.setAttribute("height",e.frame_h),e.els.style&&e.els.style.parentNode&&(e.els.style.parentNode.removeChild(e.els.style),delete e.els.style),e.els.close&&e.els.close.parentNode&&(e.els.close.parentNode.removeChild(e.els.close),e.els.close.removeEventListener?e.els.close.removeEventListener("click",c):e.els.close.detachEvent&&e.els.close.detachEvent("onclick",c),delete e.els.close),e.source&&(e.source.postMessage("adbXpConfClose","*"),delete e.source),e.close&&e.close(e),delete e.els)}),e=l.wrapAsync(function(e){var t,n=String(e.message||e.data||e);if(n.match(/^adbXpReqOpen/)){if(!(t=u(e.source)))return l.err("ExpOpenBadSource");d=t;var i=l.vp(),r=n.replace(/^adbXpReqOpen:?/,"")||"full",o=i.w,a=i.h,s=(r.match(/^\d+x\d+/)&&(o=(s=r.split("x"))[0],a=s[1]),t.size={str:r,w:o,h:a},t.style&&!t.els.style&&(t.els.style=document.createElement("style"),t.style=t.style.replace(/\%\%vp.w\%\%/g,i.w+"px"),t.style=t.style.replace(/\%\%vp.h\%\%/g,i.h+"px"),t.els.style.innerHTML=t.style),t.els.style&&t.els.style.parentNode!==t.els.container&&t.els.container.appendChild(t.els.style),t.els.gcont=t.els.container.children[0],t.gcont={d:t.els.gcont.style.display,p:t.els.gcont.style.position,w:t.els.gcont.style.width,h:t.els.gcont.style.height,t:t.els.gcont.style.top,ml:t.els.gcont.style.marginLeft,mr:t.els.gcont.style.marginRight,mt:t.els.gcont.style.marginTop},t.els.gcont.style.display="block",t.els.gcont.style.position="relative",t.els.gcont.style.width=o+"px",t.els.gcont.style.height=a+"px",t.els.gcont.style.top="50%",t.els.gcont.style.marginLeft="auto",t.els.gcont.style.marginRight="auto",t.els.gcont.style.marginTop=-Math.floor(a/2)+"px",t.frame_w=t.els.frame.getAttribute("width"),t.frame_h=t.els.frame.getAttribute("height"),t.els.frame.setAttribute("width",o),t.els.frame.setAttribute("height",a),t.els.close||(t.els.close=document.createElement("button"),t.els.close.innerText="X",t.els.close.classList.add("adb_close"),t.els.close.addEventListener?t.els.close.addEventListener("click",c):t.els.close.attachEvent&&t.els.close.attachEvent("onclick",c),t.els.container.appendChild(t.els.close)),t.open&&t.open(t),t.source=e.source,"adbXpConfOpen");t.size&&t.size.str&&(s+=":"+t.size.str),l.log("EXPANDER sending response",s),e.source.postMessage(s,"*")}else if(n.match(/^adbXpReqClose/))return(t=u(e.source))?t!==d?l.err("ExpCloseBadConf"):void c():l.err("ExpCloseBadSource")}),window.addEventListener?window.addEventListener("message",e):window.attachEvent&&window.attachEvent("onmessage",e))}},{"../utils.js":58}],36:[function(e,t,n){function H(e){var t=e.js.split(".");if("window"==t[0])return t=t[1],window.hasOwnProperty(t)?window[t]:void 0;G.log("GamConfig JS read fail",e)}var G=e("../utils.js"),J=e("../config.js"),X=(e("../unit.js"),0),W={};t.exports=function(n,e){function t(f,m){var t,n,o,h,b,v,_,y,w,x,e,i,r,a,s,A,S,I,j,d,c,u,l,p,g,k,T,C,R,D,B=f.active;(B=B&&B.js?H(B):B)&&B.url&&(new RegExp(B.url,"i"),B=G.url().href.match(B.url)),B?(G.log("GamConfig enabled",f),f.pageType&&(t=[],(n=f.pageType)&&n.js&&(n=H(n)),G.each(f.slots,function(e){e.page_type===n&&t.push(e)}),G.log("GamConfig page type slots: ",{total_slots:f.slots.length,page_type_slots:t.length,slots:t}),f.slots=t),f.collapseEmptyDivs&&AdBridg.gpt.cmd.push(function(){AdBridg.gpt.pubads().collapseEmptyDivs()}),f.centering&&AdBridg.gpt.cmd.push(function(){AdBridg.gpt.pubads().setCentering(!0)}),f.safeFrames&&AdBridg.gpt.cmd.push(function(){G.log("Requiring GPT Sandbox SafeFrames"),AdBridg.gpt.pubads().setSafeFrameConfig({sandbox:!0})}),o={},h=function(e){AdBridg.cmd.push(function(){G.each(e,function(e,t){var n=e;void 0!==(e=(e=e&&e.js?H(e):e)&&e.qs?G.qs(e.qs.match)?e.qs.value:void 0:e)?(G.log("GamConfig setting page targeting: ",t,e),AdBridg.gpt.pubads().setTargeting(t,e),o[t]=e):G.log("GamConfig targeting empty",t,e,n)})})},m.on("pub.config",function(e,t){h(t.targeting)}),f.targeting&&h(f.targeting),b=function(e,t){var n=e.getAttribute(M)||"",n=(n&&(n+=";"),(n+t+"@"+G.dts()+"ms").substr(0,200));200==n.length&&(n+="..."),e.setAttribute(M,n)},(e=function(){W={},v={},_={},y={},x=!(w={}),G.each(f.slots,function(t){if(J.libSettings().gamconfig_filter&&!J.libSettings().gamconfig_filter(t))G.log("GamConfig slot skipped by pub",t),m.trigger("adb.gamconfig_filtered",t);else if(t.dom_ad_class)x=!0,w[t.dom_ad_class]=t;else{if(t.inject&&!document.getElementById(t.dom_id)){var e=document.createElement("div");e.id=t.dom_id;try{document.body.appendChild(e)}catch(e){G.err("GamConfig cannot inject",t.dom_id,e)}}e=t.dom_id;v[e]||_[e]?(G.err("GamConfig duplicate dom_id",e),m.trigger("adb.gamconfig_dupe_id",t)):v[e]=t}})})(),i=!!window.requestAnimationFrame,I=S=A=!1,j=function(){I||S||(I=!0,clearTimeout(a),a=setTimeout(d,100),i?(cancelAnimationFrame(s),s=requestAnimationFrame(d)):(clearTimeout(r),r=setTimeout(d,10)))},d=function(){if(A||S)I||S||j();else{var c=I=!(A=!0);if(x)for(var c=!0,e=document.querySelectorAll("["+P+"],["+E+"]"),t=0;t<e.length;++t){var n,r,i,o,a,s=e[t],d=s.getAttribute(P)||s.getAttribute(E);d&&(J.libSettings("gamconfig_handle_custom",d,s)?(s.removeAttribute(P),s.removeAttribute(E)):(!(o=J.libSettings("gamconfig_ad_class_mutate",d,s,J.libSettings()))&&!1!==o||(n=d,d=o),w[d]?(o=d.replace(/[^\w\d]+/gi,""),W[i=o]=(W[i]||0)+1,r=W[i],i=f.use_pg_in_ids?"p"+X+"_":"",s.setAttribute(U,r),s.id||(s.id=q+o+"_"+i+r),s.removeAttribute(P),s.removeAttribute(E),s.setAttribute(O,d),G.log("GamConfig - setting up ad class",s.id,d,{base:w[d],me:{dom_id:s.id,dom_ctr:r}}),o=G.deepAssign({},w[d]),(a=G.deepAssign({dom_id:s.id,dom_ctr:r},o)).targeting&&G.each(a.targeting,function(e,t){var n,i;"object"==typeof e&&e.format&&(a.targeting[t]=(n=e.format,i=r,t=n.match(/\{\{[^\}]+\}\}/g),G.each(t,function(e){var t=e.replace(/[\{\}]/g,"");"dom_ctr"===t?n=n.replace(e,i):"dom_ctr_zi"===t?n=n.replace(e,i-1):G.err("GamConfig unknown slot targeting format",e)}),n))}),v[s.id]=a):(!1!==d&&G.err("GamConfig invalid ad class attribute",d,n?" (original: "+n+")":""),s.removeAttribute(P),s.removeAttribute(E),s.setAttribute(z,d+(n?"("+n+")":"")),m.trigger("adb.gamconfig_invalid",s.id||"",d,n))))}var u=[],l=[],p=[],g=(G.each(v,function(n,i){var r=document.getElementById(i);if(r)if(J.libSettings("gamconfig_skip_element",i,n))m.trigger("adb.gamconfig_skipped",n,i),c=!0;else{var t,o,a,s,d,e=r.getAttribute(N),e=(e&&""!=e&&(G.log("Path Override: ",N),n.gpt_path=e,delete n.gpt_path_builder),r.getAttribute(L));if(e&&""!=e&&(e=e.split(/[,]+/),G.log("parse_all_page_kvp",e),t={},G.each(e,function(e){e=e.split(/[:]+/);2===e.length&&(t[e[0]]=e[1])}),G.log("Targeting map",t),h(t)),r.innerHTML="",b(r,"detected"),n.size_map){e=J.libSettings().gamconfig_viewport;if((n=e?e(n):n).size=AdBridg.getSizes(n.size_map),delete n.size_map,!n.size.length)return p.push(i),b(r,"vp_no_size"),void m.trigger("adb.gamconfig_no_sizes",n,i)}p.push(i),_[i]||(_[i]=!0,u.push(n),-1===F.indexOf(i)&&F.push(i),n.gpt_path_builder&&(n.gpt_path=(a=i,s=r,d=""+(o=n).gpt_path_builder,e=d.match(/\{\{[^\}]+\}\}/g),G.log("GamConfig extracted curlies: ",e),G.each(e,function(e){var t,n=e.replace(/[\{\}]/g,""),i="";n.match(/^lib\.pub\./)?(t=n.replace("lib.pub.",""),(i=(J.libSettings().pub||{})[t])||(J.libSettings().pub||{}).hasOwnProperty(t)||G.err("GamConfig PathBuilder setting not present:",e),d=d.replace(e,i)):n.match(/^lib\.adb\./)?(t=n.replace("lib.adb.",""),(i=J.libSettings("gamconfig_curly",t,o,a,s,J.libSettings())||AdBridg.global(t)||"")||G.err("Warning: GamConfig PathBuilder AdBridg global empty/not present:",t),d=d.replace(e,i)):G.err("GamConfig unsupported gpt_path_builder part:",e)}),G.log("GamConfig gpt_path_builder",o.gpt_path_builder,d),d)),n.dom_ad_class&&m.on("unit.init_config",function(e,t){t.get("dom_id")==i&&t.set("dom_ad_class",n.dom_ad_class)}),n.events={"gpt.defined":function(e){b(r,"gpt_define")},"gpt.rendered":function(e,t){b(r,"gpt_render:"+t.sourceAgnosticCreativeId)},"gpt.viewed":function(e,t){b(r,"gpt_view")}},m.trigger("adb.gamconfig_slot_configure",n,i,r)),y[i]=!0,l.push(i)}else c=!0}),G.each(p,function(e){delete v[e]}),J.libSettings().gamconfig_fulfillment);u.length&&(G.log("GamConfig configuring slots",u),g?g(u):AdBridg.cmd.push(u)),l.length&&AdBridg.cmd.push(function(){G.each(l,function(e){AdBridg.display(e)})}),c&&!MutationObserver&&j(),A=!1}},G.gamconfig_scanner=d,u=function(){S=!1,MutationObserver?(d(),c&&l(),(c=new MutationObserver(j)).observe(document.body,{attributes:!0,attributeFilter:["id",P,E],childList:!0,subtree:!0}),G.log("GamConfig MutationObserver added")):(G.log("GamConfig polling started"),d())},l=function(){S=!0,c?(c.disconnect(),c=!1,G.log("GamConfig MutationObserver disconnected")):G.log("GamConfig polling stopped")},k=g=!(p=!0),m.on("pub.spa_pv_shutdown",T=function(){if(!g){g=!0;try{G.log("GamConfig stopping for SPA"),e(),l(),G.each(o,function(e,t){G.log("GamConfig erasing KVP",t),AdBridg.gpt.pubads().setTargeting(t,[])});var i=[],r=[];G.each(AdBridg.gpt.pubads().getSlots(),function(e){var t,n;J.libSettings().gamconfig_filter_destroy_slots&&!J.libSettings().gamconfig_filter_destroy_slots(e)?G.log("Gamconfig not destroying this slot: ",e):(n=e.getSlotElementId(),t=document.getElementById(n),(n=0<=F.indexOf(n))&&i.push(e),t&&n&&(r.push(t),b(t,"destroyed"),e=t.getAttribute(P)||t.getAttribute(E)||t.getAttribute(O)||t.getAttribute(z))&&(t.removeAttribute(O),t.removeAttribute(z),t.setAttribute(P,e),(t.id||"").match(q))&&t.removeAttribute("id"))}),i.length&&AdBridg.destroySlots(i),p=g=!1,k&&D()}catch(e){p=g=!1,G.err("SPAPvShutdownFail",e)}}}),C=G.url().page,R=J.libSettings("gamconfig_prevent_doubleinit"),D=function(){if(R){var e=G.url().page;if(e===C)return void G.log("GamConfig prevented SPA re-init from same URL.")}g||p?(k=!0,p&&T()):(G.log("GamConfig restarting SPA"),X+=1,p=!(k=!1),u())},m.on("pub.spa_pv_initialize",D),0!=f.autostart||V?u():G.log("GamConfig waiting for publisher to initialize with action=spa_pv_initialize.")):G.log("GamConfig not enabled")}function i(){document&&document.body?(G.log("Body loaded. Initialising Gamconfig module"),t(n,e)):setTimeout(i,100)}var E="adbridg-ad-class",P="data-adbridg-ad-class",O="data-adbridg-ad-class-loaded",z="data-adbridg-ad-class-invalid",U="data-adbridg-ad-class-ctr",M="data-adbridg-phase",q="adbridg_ad_",N="data-adbridg-gam-path",L="data-adbridg-page-kvps",F=[],V=0,r=(e.on("pub.spa_pv_initialize",function(){V=1}),e.on("pub.config",function(e,t){t.targeting&&(n.targeting?G.deepAssign(n.targeting,t.targeting):n.targeting=t.targeting)}),J.libSettings().gamconfig_defer);"function"==typeof r?(G.log("GamConfig waiting to initialize"),AdBridg.cmd.push(function(){r(i)})):AdBridg.cmd.push(i)}},{"../config.js":16,"../unit.js":57,"../utils.js":58}],37:[function(e,t,n){var s=e("../utils.js");t.exports=function(e,a){var t={"gamkvp.getids":{validate:/^i[\w\d]{2}$/,update:/^i/},"gamkvp.get_test_codes":{validate:/^t[\w\d]{2}$/,update:/^t/},"gamkvp.get_user_segments":{validate:/^u[\w\d]{2}$/,update:/^u/}};function n(e){e?(s.log("GamKVP initializing",e),a.on(e,function(){s.each(t,function(t,n){var i,e,r,o=[];a.trigger(n,o),o=o.filter(function(e){return!!String(e).match(t.validate)||(s.err("GamKVP.badValue",n,e),!1)}),s.log("GamKVP setting values in adb_pvd:",n,o),i=t.update,o=o,e=googletag.pubads().getTargeting("adb_pvd")||[],r=[],e.forEach(function(e){String(e).match(i)||r.push(e)}),o&&o.length&&(r=r.concat(o)),googletag.pubads().setTargeting("adb_pvd",r),s.log("GamKVP set adb_pvd values: ",r)})})):s.err("GamKVP.NoEventName")}var i=e.defer;googletag.cmd.push(function(){"function"==typeof i?i(n):n(e.collection_event||"auction.before_bids")})}},{"../utils.js":58}],38:[function(n,e,t){var h=n("../utils"),r=n("../config");function b(e,t){n("../analytics.js").sqz(1e3,"yi",e,"y",t)}e.exports=function(n,e){var i,m;n.bidders&&((i=r.libSettings()).gpt_clear_kvps||(i.gpt_clear_kvps=[]),h.each(n.bidders,function(e,t){e.custom_keys?h.each(e.custom_keys,function(e){i.gpt_clear_kvps.push(e)}):(i.gpt_clear_kvps.push(e.deal),i.gpt_clear_kvps.push(e.adid))}),m={},e.on("auction.bidding_done",function(e,f){f.eachBidRequest(function(i,r){var o=r.bidder_name,e=n.bidders[o];if(e){var a=e.set_kvps,s=e.deal,d=e.adid,t=i.get("gpt_slot"),c=i.get("dom_id");if(!(t&&c&&(s&&d||a)))return h.log("Gprog skipped",t,c,s,d,typeof a);var u=!1,l={},p=e.active_deals,g=e.is_active_deal;h.each(r.responses,function(e){var t=!1,n=(g&&(t=g(i,e)),e.extras&&e.extras.dealid);n&&(n=String(n),(t=p&&p.length&&0<=p.indexOf(n)?!0:t)&&(e.blocked="pmp",h.log("Gprog: active deal removed from open market auction",e)),t=r.id+":"+e.id,m[t]=e,u=!0,b([f.instancectr,i.id,i.unique_id,r.bidder_id,n],"s"),a?(a(l,e),h.log("gprog ("+o+" custom): ",i.alias,"/",c,l)):(l[s]=l[s]||[],l[s].push(n),l[d]=l[d]||[],l[d].push(e.id),h.log("gprog ("+o+"): ",i.alias,"/",c,s,"=",n,";",d,"=",e.id)))}),u&&(i.settings.gprog=i.settings.gprog||{},h.each(l,function(e,t){h.isarr(e)||(e=[e]),i.settings.gprog[t]||(i.settings.gprog[t]=[]),i.settings.gprog[t]=i.settings.gprog[t].concat(e)}))}})}),e.on("gpt.set_targeting",function(e,t,n){t.settings.gprog&&h.each(t.settings.gprog,function(e,t){e=n.getTargeting(t).concat(e);n.setTargeting(t,e)})}),e.on("bid.render",function(e,t){var n=t.config,i=t.config.id+":"+t.id;m[i]&&b([(i=n.unit).auction.instancectr,i.id,i.unique_id,n.bidder_id,t.extras.dealid],["r",t.width+"x"+t.height,t.extras.crid])}))}},{"../analytics.js":14,"../config":16,"../utils":58}],39:[function(e,t,n){var p=e("../utils.js"),g=e("../config.js");t.exports=function(t,e){function n(){window.requestAnimationFrame(function(){p.log("HL-ASR fallback");var e=document.getElementById(r);e&&(e.setAttribute("adbridg-ad-class","asr_widget"),e.id="adb_asr_fb")})}function i(){if(p.qs("adb_asr_fallback"))p.log("HL-ASR fallback forced by querystring"),n();else{if(1===(a+=1)?p.log("HL-ASR widget start"):2===a&&p.log("HL-ASR widget polling"),!apstag||!apstag.queue)return 100<a?(p.err("HL-ASR_NoAPSTagV2"),void n()):void setTimeout(i,100);apstag.queue.push(function(){p.log("HL-ASR widget listener"),apstag.customPlacements().addEventListener("PlacementResponse",e=>{if(!0!==e.detail.aps[0].active)return p.log("HL-ASR got empty widget response from APSTagV2"),n();p.log("HL-ASR rendered widget"),p.log("-------------------- TODO: ANALYTICS")})}),apstag.queue.push(function(){p.log("HL-ASR widget hint"),apstag.customPlacements().hint("93b7dd52-a8ce-11ed-afa1-0242ac120002:1","default")}),apstag.queue.push(function(){p.log("HL-ASR widget enable"),apstag.customPlacements().enable()})}}var r=!1,o=g.libSettings(),a=0,s=!1,d=!1,c=o.gamconfig_handle_custom,u=!(o.gamconfig_handle_custom=function(e,t){if("asr_widget"===e){var n=t.id;if(!r)return r=n,s?(p.log("HL-ASR: found widget element, calling APSTagV2",e),i()):(d||p.log("HL-ASR: found widget element, but module is not yet active",e),d=!0),!0;r!==n&&p.log("HL-ASR: found duplicate widget element; falling back to GAM ad",e)}return!!c&&c(e,n)}),l=p.thread(function(){var e;t.defer&&!u?(p.log("HL-ASR: deferring initialization"),u=!0,p.thread(t.defer)(l)):("function"==typeof(e=t.active)?e=e():void 0===e&&(e=!0),e?(p.log("HL-ASR enabled"),s=!0,d&&(d=!1,p.log("HL-ASR: unpausing widget, calling APSTagV2",slot_config),i())):p.log("HL-ASR disabled"))});l()}},{"../config.js":16,"../utils.js":58}],40:[function(e,t,n){var p=e("../utils.js");t.exports=function(e,t){var s=!1,d=!1,c=!1,u=0,l=p.wrapAsync(function(e){e=String(e.message||e.data);"adbHLuniq:"===e.substring(0,10)&&(d=e,i())}),i=function(){if(s&&d&&!c){c=!0;var t=d;try{var e=JSON.parse(t.substring(10))["3P"]}catch(e){p.err("CPUVDecodeFail",t.substring(10))}var t="adb_hl1698",n=p.lr(t)||!1;if(n&&n.g===u||(n={l:[],t:[],g:u},p.lw(t,n),n=p.lr(t)||!1)){var t=new Date,i=String(t.getUTCFullYear()),r=i.substr(2),t=((t=t.getUTCMonth()+1)<10?"0":"")+t,r=parseInt(r+t).toString(36),o=s,a=n.l.indexOf(o);if(0<=a){if(r===n.t[a])return}else a=n.l.push(o)-1;n.t[a]=r,p.lw("adb_hl1698",n);o={"@type":"redventures.ecommerce.v1.ProductViewed",product:{category:"CPUV Impression",name:s,sku:t+"-"+i,productId:"0",variant:"Unique Visitor"}};try{tagular("beam",o),p.rec("&hl1698="+encodeURIComponent("0:"+s+"-"+t+"-"+i)),p.log("HL CPUV tagular beam","0:"+s+"-"+t+"-"+i),e&&p.pixel(e,!0)}catch(e){p.err("AD1698TagularCPUV",e)}window.removeEventListener("message",l)}}};t.on("gpt.before_request",function(e,t){var n=googletag.pubads().getTargeting("msiteID");n.length&&(s=n[0])&&i()}),window.addEventListener("message",l,!1);try{ga(function(e){u=e.get("clientId"),p.log("CPUV tracking, set clientId to",u)})}catch(e){p.err("HL-CPUV-noGA")}}},{"../utils.js":58}],41:[function(e,t,n){var _=e("../utils.js"),y=e("../config.js");t.exports=function(e,n){var t,i,r,o,a,s,d=y.libSettings(),c=!1,u=!1,l=!1,p=_.qs("adb_disable_imasync"),g=(g=_.qs("adb_jwp_delay"))&&(parseInt(g)||500),f=0,m=!1;function h(){return!m&&window.google&&window.google.ima&&(_.log("HL IMA/GPT attempt "+f+': fix "force_ad_request_wait_gpt_sync" implemented'),window.google.ima.settings.setFeatureFlags({force_ad_request_wait_gpt_sync:!0}),m=!0),m}function b(){cancelAnimationFrame(t),f+=1,!i&&window.jwplayer&&(i=!0,_.log("HL IMA/GPT attempt "+f+": found JWPlayer, subscribing to events"),jwplayer().on("all",_.wrapAsync(function(e,t){e.match(/manager/i)&&t&&t.adsManager&&t.adsManager.addEventListener&&t.adsManager.addEventListener("loaded",_.wrapAsync(function(e){var t;e&&e.ad&&e.ad.data&&(_.log("HL IMA/GPT JWP ad loaded",e.ad.data),t=encodeURIComponent(e.ad.data.adId||""),e=(e.ad.data.adWrapperIds||[]).map(encodeURIComponent).join(","),_.rec("AD2309:"+t+";"+e))})),m||p||(_.log("HL IMA/GPT attempt "+f+": JWP event",arguments),h())}))),1===f&&_.log("HL IMA/GPT waiting for IMA.."),!p&&h()||(t=requestAnimationFrame(b))}function v(e){r[e]=!0,!r.setup||g&&!r.delay||(_.log("IMASDK checkpoints cleared, unlocking JWP"),l=!0,n.trigger("hl.imasdk_sync"))}p?(_.log("IMASDK synchronization disabled"),b(),s=d.cmd_override,d.cmd_override=function(e){return(e=s?s(e):e)&&e.events&&e.events["hl.imasdk_sync"]?(_.log("IMASDK - HL listener hl.imasdk_sync called back"),_.thread(e.events["hl.imasdk_sync"])(),!1):e}):(_.log("IMASDK synchronization is enabled!"),r={},n.on("hl.imasdk_sync_setup",function(e,t){c?_.log("IMASDK correlator sync - already registered",t):(c=!0,_.log("IMASDK correlator sync registered",t),googletag.cmd.push(function(){googletag.pubads().enableVideoAds(),_.each(googletag.pubads().getSlots(),function(e){_.log("IMASDK companionAds enabled at imasync",e.getAdUnitPath(),e.getSlotElementId()),e.addService(googletag.companionAds())}),u=!0,_.log("IMASDK correlator sync setup completed; starting poll for JWP fix (checkpoint 1)",t),b(),v("setup")}))}),n.on("gpt.before_request",function(){g?(_.log("IMASDK injecting "+g+"ms delay before unlocking JWP"),setTimeout(function(){_.log("IMASDK delay complete (checkpoint 2)"),v("delay")},g)):_.log("IMASDK delay not enabled; use ?adb_jwp_delay=1")}),n.on("pub.config",function(e,t){t.has_preroll&&n.trigger("hl.imasdk_sync_setup","pub_config")}),o=d.before_gpt,d.before_gpt=function(){o&&o(),window.jwplayer?n.trigger("hl.imasdk_sync_setup","pub_config"):_.log("IMASDK - JWPlayer not present at before_gpt")},n.on("gpt.define",function(e,t,n){u&&(_.log("IMASDK companionAds enabled at slot define",n.getAdUnitPath(),n.getSlotElementId()),n.addService(googletag.companionAds()))}),a=d.alter_adb_pixel,d.alter_adb_pixel=function(e){a&&(e=a(e));try{c&&(e+="&ad1970=1")}catch(e){}return e},s=d.cmd_override,d.cmd_override=function(e){if((e=s?s(e):e)&&e.events&&e.events["hl.imasdk_sync"]){if(l)return _.log("IMASDK - HL listener hl.imasdk_sync is being replayed"),_.thread(e.events["hl.imasdk_sync"])(),!1;_.thread(function(){n.trigger("hl.imasdk_sync_setup","hl_subscribed")})(),_.log("IMASDK - HL listener added for hl.imasdk_sync")}return e},window.jwplayer?n.trigger("hl.imasdk_sync_setup","init"):_.log("IMASDK - JWPlayer not present at init"))}},{"../config.js":16,"../utils.js":58}],42:[function(Z,e,t){var ee=Z("../utils.js"),n=Z("../modulewrapper.js");e.exports=n({name:"icu",track_as:"z"},function(s,w){var M=s.tick_ms||100,i=15e3,q=5e3,x={},r={unknown:0,above_viewport:1,below_viewport:2,partially_above_viewport:3,in_viewport:4,partially_below_viewport:5},N={"160x600":1,"300x250":2,"300x600":3,"320x50":4,"320x100":5,"468x60":6,"728x90":7,"970x90":8,"970x250":9},c=0,u=0,l=0,p=ee.dts(),o=0,g=!1,f=!1,t={init:0,focus:1,mousemove:2,mousedown:3,click:4,touchstart:5,touchend:6,keydown:7,keyup:8,scroll:9},A=ee.qs("adb_icu_box"),n=!0,a=(ee.qs("adb_icu")||(0===s.sample?n=!1:s.sample&&s.sample<1&&(n=Math.random()<=s.sample)),s.watch_gpt||n||A);function d(e){return(Math.floor(e)||0).toString(36)}function m(e){return d(100*e)}function h(e){return e.c?(e=Math.round(e.c.w)+"x"+Math.round(e.c.h),N[e]||e):"0x0"}function b(e){return"number"!=typeof e&&(e=ee.dts()),Math.floor(e/10).toString(36)}function L(e){return Math.floor(20*(e.o&&e.o.v||0))}function F(e){return L(e).toString(36)}function v(e){return r[e.p]}function _(e){return.05<=e.v}function V(e){return e.o&&.95<=e.o.o}function H(e){return 0<v(e)?_(e)?F(e):d(e.d):"0"}function S(e){return{t:b(),p:(n=(t=e).c?(Math.floor(t.c.vp.y+t.c.t)||0).toString(36):"0",i=t.c?(Math.floor(t.c.vp.y)||0).toString(36):"0",String(v(t))+n+"."+i),d:H(e),i:(g?"1":"0")+o+b(ee.dts()-p)};var t,n,i}function I(e){return[e.dt,e.a,e.uid,e.uuid]}function G(e){e=e||ee.dts(),l=e+i}function j(e,t){n&&Z("../analytics.js").sqz(q,"zi",e,"z",t),G()}function y(e,t){var n=x[e];if(n.dt&&n.m.length){for(var t=S(t),i=I(n),t=[n.dctr,n.mctr,n.r.t,n.r.p,n.r.d,n.r.i,n.v.t,n.v.p,n.v.d,n.v.i,t.t,t.p,t.d,t.i].join(","),r=[],o=(ee.each(n.s,function(e){0<e[0]?r.push(e[0].toString(36)+"."+e[1]):r.push(e[1])}),r=r.join(","),[]),a=20;0<=a;--a){for(var s,d,c,u,l,p=0,g=0,f=0,m=0,h=0,b=0,v=0;v<n.m.length;++v){var _,y=n.m[v];y.vn>=a?(_=y.d*y.vn,p+=y.d,g+=_,h+=y.d,b+=_,f=Math.max(h,f),m=Math.max(b,m)):b=h=0}0<g&&(p!==s||f!==c||g!==d||m!==u)&&(s=p,d=g,c=f,u=m,l=a.toString(36)+"."+p.toString(36)+"."+g.toString(36),p===f&&g===m||(l+="."+f.toString(36)+"."+m.toString(36)),o.push(l))}o=o.join(","),t=[t,r,o].join("_");!n.v5r&&1e3<n.v5&&(t+="_1",n.v5r=!0,A&&(n.av=E),ee.logl("icu",E,B," // ",e,"counted iab view"),w.trigger("icu.iab",n)),ee.logl("icu",E,B," // ",e,"finalized"),j(i,t),n.mctr+=1}else ee.logl("icu",E,B," // ",e,"stopped empty");n.lts=0,n.v=!1,n.ve=!1,n.m=[]}ee.isdebug()&&(AdBridg.icu={watch:a,sampled:n,sampling:s.sample||1,measurements:x,stat:function(){var e=ee.dts(),n="unknown";return ee.each(t,function(e,t){o===e&&(n=t)}),{last_measure:c,measure_ms:e-c,last_evt:n,idle_ms:e-p,idle:g}}});var k=!1,T=!1,C=!1,R=!1,D=!1,B=0,E=0,J=ee.wrapAsync(function(e){if(D=!0,M<e-E||R){B+=1,E=e;var t=!1;c=ee.dts(),u=c+500,g=g||3e4<c-p,!f&&g?(f=g,w.trigger("icu.idle")):!g&&f&&(f=g,w.trigger("icu.active")),l&&l<E&&(R=!(l=!1));var n,i=[];for(n in x)if(x.hasOwnProperty(n)){var r,o=x[n],a=ee.where(n,!0,o.ok),s=(A&&(o.dbw=a),a.v?(1===a.v&&o.lv<1&&w.trigger("icu.onscreen",o,a),o.lv?1===o.lv&&a.v<1&&w.trigger("icu.leaving",o,a):w.trigger("icu.appearing",o,a),!o.loo&&a.o&&a.o.o?(o.loo=!0,w.trigger("icu.obstructed",o,a)):!o.loo||a.o&&a.o.o||(o.loo=!1,w.trigger("icu.unobstructed",o,a)),o.lv=a.v):o.lv&&(o.lv&&w.trigger("icu.offscreen",o,a),o.lv=0),h(a));if(s!=o.s[o.s.length-1][1]){var d=Math.max(1,Math.floor((E-o.rts)/10));for(o.s.push([d,s]);5<o.s.length;)o.s.shift();ee.logl("icu",E,B," // ",n,"size changed",d,o.s[o.s.length-1][1],s),w.trigger("icu.resized",o,a)}t=!0,o.mx||(g||!_(a)||V(a)?(o.v&&(ee.logl("icu",E,B," // ",n,"stopped",g,!_(a),V(a)),y(n,a),R=!0),_(a)||function(e){O[e]||(O[e]=!0,ee.dom(e,.01,0,X))}(n)):(d=Math.max(1,Math.floor((E-o.lts)/10)),o.v?(s=E-o.lts,o.vt+=s,o.va+=s*(a.o&&a.o.v||0),a.o&&.5<=a.o.v&&(o.v5+=E-o.lts),o.lts=E,s=F(a),r=o.m.length-1,(r=0<=r&&o.m[r])&&r.v==s?(r.d+=d,r.te=E):o.m.push({d:d,t:E,v:s,vn:L(a)}),i.push({t:o,d:n,w:a}),6e4<=o.vt&&(ee.logl("icu",E,B," // ",n,"tracker vt max",o.vt),o.mx=!0,R=!0)):(ee.logl("icu",E,B," // ",n,"started"),W(o,a,E))))}R&&ee.each(i,function(e){y(e.d,e.w),ee.logl("icu",E,B," // ",e.d,"restarted"),W(e.t,e.w,E)}),t||(ee.logl("icu",E,B," // nothing to measure; ending ticks"),l=T=!1),A&&ee.each(x,$),R=!1}C=C&&!(T=!0),T&&(k=window.requestAnimationFrame(J)),D=!1});function P(){C=!0,D||(k&&window.cancelAnimationFrame(k),k=window.requestAnimationFrame(J))}var O={};function X(e){O[e]=!1,P()}function W(e,t,n){e.v=S(t),e.lts=n,e.vt=e.vt||0,e.va=e.va||0,e.v5=e.v5||0,l||G(n)}function K(e){return e.id?e.tagName+"#"+e.id:e.tagName+"."+String(e.className).replace(/^([^\s]+).*$/,"$1").replace(/[^a-z0-9_-]/i,"")}function z(e){var t=document.createElement("div");return t.style="display:inline-block;background:rgba(0,0,0,.6);padding:2px 4px;margin:1px 3px;color:white;",t.innerHTML=e,t}function U(e){return((Math.floor(e/100)||0)/10).toString().replace(/^(\d+\.\d).+$/,"$1").replace(/^([^\.]+)$/,"$1.0")+"s"}function $(e,t){var n,i,r,o,a=e.dbw,s=document.getElementById(t);s&&(r=t+"__adb_dom_debug",(o=document.getElementById(r))?n=o.children[0]:((o=document.createElement("div")).id=r,(debug_el_container=document.createElement("div")).style="position:relative;width:0px;height:0px;margin:0;padding:0;",debug_el_container.appendChild(o),s.children.length?s.insertBefore(debug_el_container,s.children[0]):s.appendChild(debug_el_container),(n=document.createElement("div")).style="background:rgba(255,255,255,.7)",o.appendChild(n),o.appendChild(z(t+" #"+e.dctr+" render @ "+U(e.rts))),e.dbgt={}),!e.dbgt.gv&&e.gv&&(e.dbgt.gv=!0,o.appendChild(z("GPT view @ "+U(e.gv)))),!e.dbgt.v5&&1e3<e.v5&&(e.dbgt.v5=!0,o.appendChild(z("AdBridg IAB view flag @ "+U(E)))),!e.dbgt.v5r&&e.av&&(e.dbgt.v5r=!0,o.appendChild(z("AdBridg IAB view sent @ "+U(e.av)))),r=(a.o||a).v,s=Math.floor(100*r)+"% in view",g&&(s+=" (ux_idle)"),s+="; "+Math.floor(e.va/e.vt*100)+"% over "+U(e.vt),n.innerText!==s)&&(t=r<1||g?r<.5||g?"180,30,30,.9":"180,180,30,.9":"30,180,30,.9",e=a.c.w-10+"px",o.style="position:absolute;background:rgba("+t+");left:5px;top:5px;width:"+e+";height:"+(a.c.h-10)+"px",a.o&&a.o.o&&(i=[],ee.each(a.o.e,function(e,t){i.push("["+t+"="+Math.floor(100*e.o)+"%] "+K(e.el))}),s+="; intersect "+i.join(", ")),n.innerText=s,r=ee.where(n,!0),t=String(r.o&&r.o.v||r.v),n.getAttribute("data-adb-vmw")!==t)&&(n.setAttribute("data-adb-vmw",t),s=a=!1,1==(t=v(r))||3==t?a=!0:2==t||4==t?s=!0:r.o&&r.o.e.tl?a=!0:r.o&&r.o.e.br&&(s=!0),s||a)&&(r=(t=ee.where(o,!0)).o&&t.o.v||t.v,o=v(t),!a||!r||2===o||4===o||t.o&&t.o.e.br?!s||!r||1===o||3===o||t.o&&t.o.e.tl||(n.style.position="initial",n.style.bottom="initial"):(n.style.position="absolute",n.style.bottom="0px",n.style.width=e))}function Y(e,t,n,i,r){(i=!!i&&e)&&s.modify_dom_id&&(i=s.modify_dom_id(i));var o=ee.where(e,!0),a=(x[e]&&y(e,o,ee.dts()),h(o));return x[e]={a:n,d:e,dt:i,ok:r,dctr:t,mctr:1,uid:0,uuid:0,lts:0,rts:ee.dts(),r:S(o),s:[[0,a]],m:[],lv:o.v,loo:o.o&&o.o.o||0},P(),x[e]}var Q;w.on("gpt.render,gpt.render_pt",function(e,t,n,i){var r;a&&(r=n.slot.getAdUnitPath(),s.modify_gpt_path&&(r=s.modify_gpt_path(r)),n=n.slot.getSlotElementId(),n=Y(n,i,r,!0),t&&(n.uid=t.id,n.uuid=t.unique_id),j(I(n),[".",n.dctr,n.s[0][1],n.r.t,n.r.p,n.r.d,n.r.i].join(",")))}),w.on("gpt.viewed_raw",function(e,t){var n,i;a&&(t=t.slot.getSlotElementId(),!(n=x[t])||n.v&&n.m.length||n.v5r||(t=ee.where(t,!0)).o&&!t.o.v&&(i=[(t=t).i||"",String(r[t.p]),H(t),m(t.v),t.in,t.c?d(t.c.t):"0",t.c?d(t.c.l):"0",t.c?d(t.c.w):"0",t.c?d(t.c.h):"0"],t.o&&(i.push(m(t.o.o)),i.push(m(t.o.v)),t.o.e)&&ee.each(t.o.e,function(e,t){i.push(t+";"+e.o+";"+K(e.el))}),t=i.join(","),ee.logl("icu","empty at GPT view",n.dt),j(I(n),["*",n.dctr,n.mctr,t].join(","))),A&&n&&(n.gv=ee.dts()),R=!0,P())}),window.addEventListener&&(Q=function(e){g=!1,p=ee.dts(),o=t[e.type]||"u",u<p&&P()},ee.each(Object.keys(t),function(e){"init"!==e&&window.addEventListener(e,Q,!0)}),window.addEventListener("blur",function(){g=!0})),w.on("icu.watch",function(e,t,n,i){Y(t,1,!1,n,i)}),w.on("icu.ignore",function(e,t){x[t]&&delete x[t]})})},{"../analytics.js":14,"../modulewrapper.js":52,"../utils.js":58}],43:[function(t,e,n){function d(e){i=e,c.thread(function(){t("../analytics.js").meta("iD",i)})()}var i,c=t("../utils"),u=t("../ajax"),r=t("../consentwrapper.js"),l="User ID - ID5 submodule: ",p="id5id",g=p+"_last",f=30;function o(e){return p+"_"+e+"_nb"}function m(e,t){c.lw(o(e),t,f,!0)}function h(e){t=e;var t=((t=c.lr(o(t),!0))?parseInt(t):0)+1;return m(e,t),t}function b(e){var t=0;if(e&&"string"==typeof e.universal_uid){var n={uid:e.universal_uid,ext:{linkType:t=e.link_type||t}},t=c.deepAccess(e,"ab_testing.result");switch(d("A"),t){case"control":c.log(l+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),n.ext.abTestingControlGroup=!0,d("C");break;case"error":c.log(l+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1"),c.err("ID5ABERR");break;case"normal":c.log(l+"A/B Testing - user is NOT in the Control Group"),n.ext.abTestingControlGroup=!1}return c.log(l+"Decoded ID",n),n}}d("N"),e.exports=r("ID5",function(i,e,t,n){if(i.active&&!i.active())c.log("ID5 disabled");else{var r,o=c.lr(p,!0),a=c.lr(g,!0);if(c.log("ID5 enabled",o,a),i.google_esp&&(window.ID5EspConfig={partnerId:i.partner}),o){h(i.partner);try{o=JSON.parse(decodeURIComponent(o)),r=b(o)}catch(e){c.err("ID5DecodeErr",e)}}var s=!1;(s=a&&(a=new Date(a).getTime(),new Date((new Date).toUTCString()).getTime()-a<288e5)?!0:s)||(a=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,s={partner:i.partner,gdpr:a,nbPage:h(i.partner),o:"pbjs",rf:""+window.top.location,top:1,u:window.location.href,v:"v7.44.0"},a&&t.consentString&&(s.gdpr_consent=t.consentString),n&&n.uspString&&(s.us_privacy=n.uspString),o&&o.signature&&(s.s=o.signature),(a="function"==typeof i.pd?i.pd():i.pd)&&(s.pd=a),i.provider&&(s.provider=i.provider),i.ab&&(s.ab_testing={enabled:!0,control_group_pct:i.ab}),c.log(l+"requesting an ID from the server",s),t={url:"https://id5-sync.com/g/v2/"+i.partner+".json",method:"POST",withCredentials:!0,data:JSON.stringify(s)},u(t,function(e,t){if(e)d("E"),c.log(l+"getId fetch encountered an error",error);else{var n;if(t)try{n=JSON.parse(t)}catch(e){return c.err("ID5PE"),void d("E")}n?(m(i.partner,0),n.privacy&&c.lw("id5id_privacy",JSON.stringify(n.privacy),f,!0),c.lw(p,encodeURIComponent(JSON.stringify(n)),90,!0),r=b(o=n),c.lw(g,(new Date).toUTCString(),90,!0)):(c.err("ID5EM"),d("E"))}})),e.on("gamkvp.getids",function(e,t){r?t.push("iDy"):t.push("iDn")}),e.on("unit.config",function(e,t){var n;r&&(n={id:r.uid,atype:1},r.ext&&(n.ext=r.ext),t.set("userIdAsEids.id5id",{source:"id5-sync.com",uids:[n]}))})}})},{"../ajax":13,"../analytics.js":14,"../consentwrapper.js":18,"../utils":58}],44:[function(e,t,n){var o=e("../utils.js"),a=["liveramp","criteoId","sharedid","pubcid","connectid","33acrossid"];t.exports=function(e,t){var i=[],r=!1;window.encryptSignals=function(e,t,n){var i={},r="";return r=n?"object"==typeof id_to_encrypt?"1||"+btoa(JSON.stringify(t)):"1||"+btoa(t):t,i[e]=r,Promise.resolve(i[e])},o.log("userIds module enabled"),t.on("unit.config_brc",function(e,t){var n;r||(n=t,a.forEach(function(e){n.get("userIdAsEids."+e)&&i.push(n.get("userIdAsEids."+e))}),r=!0,o.log("userId signals",i))}),t.on("gpt.before_request",function(e,t){i.length<=0?o.log("No ID signals to send to gam"):(AdBridg.gpt.encryptedSignalProviders=AdBridg.gpt.encryptedSignalProviders||[],AdBridg.gpt.secureSignalProviders.addErrorHandler(function(e){console.log("signal error",e)}),i.forEach(function(e){e.source&&e.uids[0]&&e.uids[0].id&&AdBridg.gpt.encryptedSignalProviders.push({id:e.source,collectorFunction:function(){return window.encryptSignals(e.source,e.uids[0].id,!1)}})}))})}},{"../utils.js":58}],45:[function(e,t,n){var o=e("../utils");t.exports=function(e,t){var i={},n={},r=e.offset_distance||400;t.on("auction.start",function(e,t){t.eachUnit(function(e){var t=e.get("dom_id");if(!t)return o.err("LzEstNoDom",e.alias);i[t]="lzno",n[t]&&(o.logl("lz","LazyEst removing previous",t),o.undom(t,n[t])),n[t]=function(){o.logl("lz","LazyEst triggered",t),i[t]="lzyes"},o.logl("lz","LazyEst measurement",t,o.where(t)),o.dom(t,r,0,n[t])})}),t.on("gpt.set_targeting",function(e,t,n){t.setImpData("lz",i[t.get("dom_id")]||"lzna")})}},{"../utils":58}],46:[function(t,e,n){function a(e){i=e,d.thread(function(){t("../analytics.js").meta("i9",i)})()}function s(e){return e&&e.pam_id&&"string"==typeof e.pam_id.id?e.pam_id:void 0}var i,d=t("../utils"),c=t("../ajax"),r=t("../consentwrapper.js");a("N");e.exports=r("MerkleId",function(e,t,n,i){var r=JSON.parse(d.cr("merkleId")||"{}"),o=s(r);o&&a("C"),t.on("gamkvp.getids",function(e,t){o?t.push("i9y"):t.push("i9n")}),t.on("unit.config",function(e,t){o&&(t.set("userId.merkleId",o.id),t.set("userIdAsEids.merkleId",{source:"merkleinc.com",uids:[{id:o.id,atype:3}],ext:o.keyID?{keyID:o.keyID}:void 0}))}),o?d.log("MerkleId Skipped: Fetch request"):((r=e)&&"string"==typeof r.vendor?"string"!=typeof r.sv_cid?(d.err("User ID - merkleId submodule requires a valid sv_cid string to be defined"),1):"string"!=typeof r.sv_pubid&&(d.err("User ID - merkleId submodule requires a valid sv_pubid string to be defined"),1):(d.err("User ID - merkleId submodule requires a valid vendor to be defined"),1))||(t=["vendor="+e.vendor,"sv_cid="+e.sv_cid,"sv_pubid="+e.sv_pubid,"sv_domain="+d.url().domain],(e="string"==typeof(r=e).sv_session?r.sv_session:d.cr("_svsid"))&&t.push("sv_session="+e),e={url:r="https://id2.sv.rkdms.com/identity/?"+t.join("&"),method:"GET",withCredentials:!0},d.log("Fetching merkleid from url: ",r),c(e,function(e,t){if(e)a("E");else{var n;if(t)try{n=JSON.parse(t)}catch(e){return d.err("MKE"),void a("E")}n?(d.log("MerkleId Responded",n),o=s(n),(t=n)&&t.c&&t.c.value&&"string"==typeof t.c.value&&d.cw("_svsid",t.c.value,7/24),a(o?"A":"B")):d.log("MerkleId Skipped: No response"),o&&d.cw("merkleId",JSON.stringify(n),7/24)}}))})},{"../ajax":13,"../analytics.js":14,"../consentwrapper.js":18,"../utils":58}],47:[function(s,e,t){var d=s("../utils.js"),c={},u=/[;,]+/g;e.exports=function(e,t){function r(e){return e=String(e).replace(u,""),c[e]||(c[e]={pub_audited:0,pub_class:"",gc_result:0,gc_class:"",gam_define:0,sent:0}),c[e]}t.on("pub.audit",function(e,t){var n=r(t.dom_id);n.pub_audited=1,n.pub_class=String(t.ad_class).replace(u,""),d.log("pub.audit event:",t.dom_id,n.pub_class),a()}),t.on("adb.gamconfig_filtered",function(e,t){r(t.dom_id).gc_result=2,d.log("pub.audit error - filtered:",t.dom_id),a()}),t.on("adb.gamconfig_dupe_id",function(e,t){r(t.dom_id).gc_result=3,d.log("pub.audit error - dupe id:",t.dom_id),a()}),t.on("adb.gamconfig_invalid",function(e,t,n){var i=r(t);i.gc_result=4,i.gc_class=n,d.log("pub.audit error - invalid:",t,n),a()}),t.on("adb.gamconfig_skipped",function(e,t){r(t.dom_id).gc_result=5,d.log("pub.audit error - skipped:",t.dom_id),a()}),t.on("adb.gamconfig_no_sizes",function(e,t){r(t.dom_id).gc_result=6,d.log("pub.audit error - no sizes:",t.dom_id),a()}),t.on("adb.gamconfig_slot_configure",function(e,t){var n=r(t.dom_id),i=document.getElementById(t.dom_id);n.gc_result=1,n.gc_class=String(i&&i.getAttribute("data-adbridg-ad-class-loaded")||"err").replace(u,""),d.log("pub.audit gc configured:",t.dom_id,n.gc_class),a()}),t.on("gpt.define",function(e,t){t=t.get("dom_id");r(t).gam_define=1,d.log("pub.audit gpt defined:",t),a()});var i,o="a";function a(){clearTimeout(i),i=setTimeout(n,1e3)}function n(){clearTimeout(i);var e=s("../analytics.js"),n=[];d.each(c,function(e,t){e.sent||(e.sent=!0,n.push([t,e.pub_audited,e.pub_class,e.gc_result,e.gc_class,e.gam_define].join(",")))}),n.length&&(e.metaqx("ad2200"+o,n.join(";")),d.log("pub.audit sent data:",n))}t.on("gpt.before_request",function(){o="b",n()})}},{"../analytics.js":14,"../utils.js":58}],48:[function(r,e,t){var o,a=r("../utils"),n=r("../consentwrapper.js"),i="_pubcid",s="PublisherCommonId",d=a.cr("_pubcid_optout"),c="N";try{d||("object"==typeof window[s]?(o=window[s].getId(),c="A",a.log("Read pubcid from API:"+o)):(o=a.cr(i),c=o?"C":(o=a.lr(i))?"L":(o=a.genUUID(),"G"),a.cw(i,o,1825),a.lw(i,o),window[s]={getId:function(){return o}},a.log("Read pubcid from cache"+o)))}catch(e){a.err("pubcid init fail",e),c="E"}e.exports=n("PubCID",function(e,t,n,i){o&&t.on("unit.config",function(e,t){t.set("userId.pubcid",o),t.set("userIdAsEids.pubcid",{source:"pubcid.org",uids:[{id:o,atype:1}]})}),t.on("gamkvp.getids",function(e,t){o?t.push("i1y"):t.push("i1n")}),a.thread(function(){r("../analytics.js").meta("i1",c)})()})},{"../analytics.js":14,"../consentwrapper.js":18,"../utils":58}],49:[function(t,e,n){function b(e){i=e,w.thread(function(){t("../analytics.js").meta("i0",i)})()}function v(e,t,n,i){if(_||(_=!0,t.on("gamkvp.getids",function(e,t){A?(t.push("i0a"),w.log("liveramp gamkvp.getids","a"),b("A")):(t.push("i0n"),w.log("liveramp gamkvp.getids","n"))})),e.defer&&!x)x=!0,w.log("LR deferring load"),e.defer(w.wrapAsync(function(){w.log("LR resuming load"),v(e,t)}));else if(e.active&&!e.active())w.log("LR disabled");else{w.log("LR enabled"),e.domain&&(y=e.domain),A=w.cr("idl_env");w.cr("adb_lrs");function r(){window.ats?(w.log("LR: ATS library found",p),c=!1,l&&(w.log("LR: Setting additonal configs"),window.ats.setAdditionalData(p)),h()):u?(w.log("LR: Not found"),c=!1):(c=r,e.load_ats||(w.log("LR: ats not loaded yet, check #",g),10<(g+=1)?(w.log("LR: ats took too long to load"),u=!(c=!1),r()):setTimeout(r,500)))}t.on("unit.config",function(e,t){S&&(f()?(w.log("LR: Set lre ID on unit",A,t),t.set("userId.idl_env",A),t.set("userIdAsEids.liveramp",{source:"liveramp.com",uids:[{id:A,atype:3}]})):(w.log("LR: No envelope on unit setup, fetching a new one."),h()))});var o,a,s,d,c=!1,u=!1,l=!1,p=!1,g=0,f=function(e){return e?(w.log("LR: Setting idl_env with new envelope"),A=e,w.cw("idl_env",A,.02,y)):(e=w.cr("idl_env"),A=e||!1),A},m=0,h=function(){if(clearTimeout(o),!f())return window.ats?void(I?w.log("LR: Envelope fetch in progress"):(I=!0,w.log("LR: fetch ats"),window.ats.retrieveEnvelope(w.wrapAsync(function(e){I=!1,e?(w.log("LR: Found envelope (ats)",e),e=JSON.parse(e).envelope,clearTimeout(o),f(e)):w.log("LR: No envelope yet. Will try later")})))):100<++m?void w.log("LR: ATS did not appear after 10s; envelope fetch skipped"):(a||(w.log("LR: ATS not available yet to fetch envelope, starting poll"),a=!0),w.log("LR: ATS tries",m),void(o=setTimeout(h,100)));w.log("LR: Fetch skipped, envelope exists")};if(e.load_ats){if(!e.configuration_id)return void w.log("LR: No configuration Id ");w.log("LR: Loading ATS script"),s=e.configuration_id,d=w.wrapAsync(function(){window.ats||(w.log("LR: ATS script load fail"),u=!0),c&&c(l)}),w.load("https://ats-wrapper.privacymanager.io/ats-modules/"+s+"/ats.js",d).onerror=d}e.direct_mode?e.params?(l=!0,(s=n&&n.gdprApplies?1:0)&&n.vendorData&&n.vendorData.tcfPolicyVersion,(d="function"==typeof e.params?e.params():e.params).id?(w.log("LR: ats_config_params",d),p=Object.assign(!1,d),e.use_ats&&(s&&(p.consentString=n.consentString,p.consentType="gdpr"),r())):(w.log("LR: No pii detected, exiting"),S=!1)):(w.log("LR: No params passed in"),S=!1):(w.log("LR: Using detect mode"),h())}}var i,_,y,w=t("../utils.js"),r=t("../consentwrapper.js"),x=(b("N"),!1),A=!1,S=!0,I=!1;e.exports=r("RampId",v)},{"../analytics.js":14,"../consentwrapper.js":18,"../utils.js":58}],50:[function(e,t,n){var d=e("../utils.js");t.exports=function(e,t){var n="_adbrh",i=n,r=d.qs("adb_rh");if("0"===r?d.cw(n,"",0):r&&d.cw(n,"1",365),d.cr(n)){d.log("RH ad creative history activated.");var o={dfp:[],adb:[]};try{(o=(o=localStorage.getItem(i))&&JSON.parse(o))&&o.dfp||(o={dfp:[],adb:[]})}catch(e){d.err("RH failed to load history from local storage")}function a(e,t){return{t:(new Date).toString(),d:d.url().domain,u:d.url().page,i:e.getSlotElementId(),s:e.getAdUnitPath(),e:t}}function s(e,t){t=e.length-t;0<t&&e.splice(0,t),localStorage.setItem(i,JSON.stringify(o))}t.on("gpt.render_raw",function(e,t){var n={advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,isEmpty:t.isEmpty,lineItemId:t.lineItemId,size:t.size,sourceAgnosticCreativeId:t.sourceAgnosticCreativeId,sourceAgnosticLineItemId:t.sourceAgnosticLineItemId},t=(d.each(n,function(e,t){e||delete n[t]}),a(t.slot,n));o.dfp.push(t),s(o.dfp,20)}),t.on("bid.render",function(e,t){t=a(t.config.unit.get("gpt_slot"),{config:t.config.unit.alias,bidder:t.config.bidder_name,bidderid:t.config.bidder_unit_id,extras:t.extras,ad:escape(t.creative)});o.adb.push(t),s(o.adb,20),d.rec(["RH",JSON.stringify(t)])});r=document.createElement("DIV");r.style="display:block;cursor:pointer;position:fixed;z-index:99999999;top:5px;right:50%;padding:5px 20px;background:red;border:black;box-shadow:1px 2px 6px white;color:white;font-size:12px;",r.innerText="Ad History",r.addEventListener("click",function(){document.write("<button onclick=\"document.getElementById('debuginfo').select()\">Select All</button>&nbsp;|&nbsp;<button onclick=\"localStorage.removeItem('_adbrh');location.reload()\">Clear History</button>&nbsp;|&nbsp;<button onclick=\"location.reload()\">Refresh</button><br><textarea cols=100 rows=100 style='max-height:80%;max-width:80%' id='debuginfo'>"+JSON.stringify(o,null,2)+"</textarea>")}),document.body.appendChild(r)}}},{"../utils.js":58}],51:[function(t,e,n){function a(e){i=e,s.thread(function(){t("../analytics.js").meta("iE",i)})()}var i,s=t("../utils"),d=t("../ajax"),r=t("../consentwrapper.js"),c="pbjs-unifiedid";a("N"),e.exports=r("UID1.0",function(e,t,n,i){if(e.active&&!e.active())s.log("UnifiedId disabled");else if(e.partner||e.url){s.log("UnifiedId enabled");var r,o={};try{o=JSON.parse(s.lr(c,!0)||"{}")}catch(e){s.log("UnifiedId decode from LS error",e),s.err("UnifiedIdJsonFail")}"string"==typeof o.TDID&&(r=o.TDID,a("C")),t.on("gamkvp.getids",function(e,t){r?t.push("iEy"):t.push("iEn")}),t.on("unit.config",function(e,t){r&&(t.set("userId.tdid",r),t.set("userIdAsEids.tdid",{source:"adserver.org",uids:[{id:r,atype:1,ext:{rtiPartner:"TDID"}}]}))}),r?s.log("UnifiedId found",r):(o={url:e.url||"https://match.adsrvr.org/track/rid?ttd_pid="+e.partner+"&fmt=json",method:"GET",withCredentials:!0,parseResponseJson:!0},d(o,function(e,t){e?(s.err("UnifiedIdResultErr-"+e.type),a("E")):"string"!=typeof t.TDID?(s.err("UnifiedIdResultErr-empty"),a("E")):(r=t.TDID,a("A"),s.log("UnifiedId fetched",r),s.lw(c,JSON.stringify(t),60,!0))}))}else s.err("UnifiedId invalid configuration")})},{"../ajax":13,"../analytics.js":14,"../consentwrapper.js":18,"../utils":58}],52:[function(d,e,t){var c=d("./utils.js"),u=d("./config.js");e.exports=function(r,o){function a(e,t){if(e.pub_active){var n,i=u.libSettings("pub");if(!i)return c.log(s,"pub check deferred"),n=!1,void t.on("pub.config",c.wrapAsync(function(){n||(n=!0,a(e,t))}));if(!e.pub_active(i))return void c.log(s,"inactive due to pub check")}if(e.active&&!e.active())return c.log(s,"inactive");r.track_as&&c.thread(function(){d("./analytics.js").mod(r.track_as)})(),c.log(s,"instantiating"),o(e,t)}var s=r.name||"summodhuh";return a}},{"./analytics.js":14,"./config.js":16,"./utils.js":58}],53:[function(e,t,n){var f=e("./utils.js");function i(e){return e}var m=new WeakMap;var o=["dooh","app","site"];var r={1:"banner",2:"video",4:"native"};var a,s,d,c,u,l,p,g={request:{fpd:{priority:99,fn:function(e,t){a.mergeDeep(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:(c="ORTB request",function(r){return o.reduce(function(e,t){var n,i;return null!=(n=r)[i=t]&&0<Object.keys(n[i]).length&&(null!=e?(f.log(c,"specifies both '"+e+"' and '"+t+"'; dropping the latter."),delete r[t]):e=t),e},null),r})},props:{fn:function(e,t){Object.assign(e,{id:e.id||a.generateUUID(),test:e.test||0});t=parseInt(t.timeout,10);isNaN(t)||(e.tmax=t)}},gdprAddtlConsent:{fn:function(e,t){t=t&&t.gdprConsent&&t.gdprConsent.addtlConsent;t&&"string"==typeof t&&a.deepSetValue(e,"user.ext.ConsentedProvidersSettings.consented_providers",t)}},userExtEids:{fn:function(e,t,n){n=n&&n.bidRequests&&n.bidRequests[0]&&n.bidRequests[0].userIdAsEids;n&&0<Object.keys(n).length&&a.deepSetValue(e,"user.ext.eids",n)}},sourceExtSchain:{fn:function(e,t,n){e&&e.source&&e.source.ext&&e.source.ext.schain||(n=n&&n.bidRequests&&n.bidRequests[0]&&n.bidRequests[0].schain)&&a.deepSetValue(e,"source.ext.schain",n)}}},imp:{fpd:{priority:99,fn:function(e,t){a.mergeDeep(e,t.ortb2Imp)}},id:{fn:function(e,t){e.id=t.bidId}},banner:{fn:function(e,t,n){var i;n.mediaType&&"banner"!==n.mediaType||(n=a.deepAccess(t,"mediaTypes.banner"))&&(t={topframe:!0===a.inIframe()?0:1},n.sizes&&(t.format=(i=n.sizes,(i=a.parseSizesInput(i)).map(function(e){e=e.split("x");return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}))),n.hasOwnProperty("pos")&&(t.pos=n.pos),e.banner=a.mergeDeep(t,e.banner))}},pbadslot:{fn:function(e){var t=e&&e.ext&&e.ext.data&&e.ext.data.pbadslot,n=typeof t;(!t&&"undefined"!=n||t&&"string"!=n)&&delete e.ext.data.pbadslot}}},bidResponse:{mediaType:{priority:99,fn:function(e,t,n){if(!e.mediaType){n=n.mediaType;if(!n&&!r.hasOwnProperty(t.mtype))throw new Error("PBJS_ORTB_unknown_mediatype");e.mediaType=n||r[t.mtype]}}},banner:{fn:(d=(s=s||{}).createPixel||function(e){return a.createTrackPixelHtml(decodeURIComponent(e))},function(e,t){"banner"===e.mediaType&&(t.adm&&t.nurl?(e.ad=t.adm,e.ad+=d(t.nurl)):t.adm?e.ad=t.adm:t.nurl&&(e.adUrl=t.nurl))})},props:{fn:function(n,e,t){Object.entries({requestId:(t.bidRequest||{}).bidId,seatBidId:e.id,cpm:e.price,currency:t.ortbResponse.cur||t.currency,width:e.w,height:e.h,dealId:e.dealid,creative_id:e.crid,creativeId:e.crid,burl:e.burl,ttl:e.exp||t.ttl,netRevenue:t.netRevenue}).filter(function(e){e[0];return void 0!==e[1]}).forEach(function(e){var t=e[0],e=e[1];n[t]=e}),n.meta||(n.meta={}),e.adomain&&(n.meta.advertiserDomains=e.adomain),(e.ext||{}).dsa&&(n.meta.dsa=e.ext.dsa)}}}},h=(u=function(){return g},l=l||i,p=new Map,b.clear=p.clear.bind(p),b);function b(){var e=l.apply(this,arguments);return p.has(e)||p.set(e,u.apply(this,arguments)),p.get(e)}n.setPf=function(e){a=e},n.ortbConverter=function(e){var a=e.context||{},c=e.processors||h,u=e.overrides||{},t=e.imp,n=e.request,i=e.bidResponse,e=e.response,s=new WeakMap;function r(o,a,s,d){var e;return function(){return(e=null==e?function(){var e,n,t,i,r=s.bind(this,(e=c()[o]||{},n=(n=u[o]||{})||{},m.has(e)||((t=Object.entries(e)).sort((e,t)=>(e=e[1].priority||0)===(t=t[1].priority||0)?0:t<e?-1:1),m.set(e,t.map(function(e){return[e[0],e[1].fn]}))),i=m.get(e).filter(function(e){e=e[0];return!n.hasOwnProperty(e)||n[e]}).map(function(e){var t=e[0],e=e[1];return n.hasOwnProperty(t)?n[t].bind(this,e):e}),function(){const t=Array.from(arguments);i.forEach(function(e){e.apply(this,t)})}));return a&&(r=a.bind(this,r)),function(){try{return r.apply(this,arguments)}catch(e){d.call(this,e,...arguments)}}}():e).apply(this,arguments)}}var d=r("imp",t,function(e,t,n){var i={};return e(i,t,n),i},function(e,t,n){f.err("PBJS_ORTB_imp_req_skipped",e,t,n)}),l=r("request",n,function(e,t,n,i){t={imp:t};return e(t,n,i),t},function(e,t,n,i){throw f.err("PBJS_ORTB_req",e,t,n,i),e}),p=r("bidResponse",i,function(e,t,n){var i={};return e(i,t,n),i},function(e,t,n){f.err("PBJS_ORTB_seatbid",e,t,n)}),g=r("response",e,function(e,t,n,i){t={bids:t};return e(t,n,i),t},function(e,t,n,i){throw f.err("PBJS_ORTB_response",e,t,n,i),e});return{toORTB:function(e){var i=e.bidderRequest||{},t=e.bidRequests||i.bids,r=e.context||{},o={req:Object.assign({bidRequests:t},a,r),imp:{}},e=(o.req.impContext=o.imp,t.map(function(e){var t=Object.assign({bidderRequest:i,reqContext:o.req},a,r),n=d(e,t);if(null!=n){if(n.hasOwnProperty("id"))return Object.assign(t,{bidRequest:e,imp:n}),o.imp[n.id]=t,n;f.err("PBJS_ORTB_no_bid_id",e,n)}}).filter(Boolean)),t=l(e,i,o.req);return o.req.bidderRequest=i,null!=t&&s.set(t,o),t},fromORTB:function(e){var n=e.request,i=e.response,r=s.get(n);if(null==r)throw new Error("PBJS_ORTB_ortbRequestMismatch");function o(e,t={}){return Object.assign(e,{ortbRequest:n},t,e)}var a=Object.fromEntries((n.imp||[]).map(function(e){return[e.id,e]})),e=(i.seatbid||[]).flatMap(function(t){return(t.bid||[]).map(function(e){if(a.hasOwnProperty(e.impid)&&r.imp.hasOwnProperty(e.impid))return p(e,o(r.imp[e.impid],{imp:a[e.impid],seatbid:t,ortbResponse:i}));f.err("PBJS_ORTB_impid_not_in_req",e)})}).filter(Boolean);return g(e,i,o(r.req))}}}},{"./utils.js":58}],54:[function(e,t,n){var a=e("./utils.js");function i(e){var t=this,n=e.url,i=e.config,r=e.id,o=e.callback,e=e.loaded;this.url=n,this.config=i,this.handlers={},this.id=r,this.loaded=e,this.cmd=[],this.push=function(e){"function"!=typeof e?a.err("Commands given to Renderer.push must be wrapped in a function"):t.loaded?e.call():t.cmd.push(e)},this.callback=o||function(){t.loaded=!0,t.process()},a.load(n,this.callback,!0)}i.install=function(e){return new i({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},i.prototype.getConfig=function(){return this.config},i.prototype.setRender=function(e){this.render=e},i.prototype.setEventHandlers=function(e){this.handlers=e},i.prototype.handleVideoEvent=function(e){var t=e.id,e=e.eventName;"function"==typeof this.handlers[e]&&this.handlers[e](),a.log("Prebid Renderer event for id "+t+" type "+e)},i.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){a.err("Error processing Renderer command: ",e)}},t.exports=i},{"./utils.js":58}],55:[function(e,t,n){function f(t,e){var n="GET"===t.method&&("object"==typeof t.data?h.parseqs(t.data):t.data),n={method:t.method,url:"GET"===t.method&&n?[t.url,"?",n].join(""):t.url,withCredentials:!1!==(t.options&&t.options.withCredentials),parseResponseJson:void 0===t.parseResponseJson||t.parseResponseJson,data:"POST"===t.method&&("object"==typeof t.data?JSON.stringify(t.data):t.data),contentType:(t.options||{}).contentType,headers:(t.options&&t.options||{}).customHeaders,timeout:e.max_ms,_orig:t};return c.libSettings().ajaxraw&&(n.rawProcessor=function(e){c.libSettings().ajaxraw(t,e)}),n}function i(e,t){var n=(t=t.config.size.split("x"))[0],n=(2*(t=t[1])<n?["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;}",".native-flex{display:flex;flex-direction:column;height:",t,"px;}",".native-flex-container{display:flex;flex-direction:row;flex:1}",".native-flex-content{display:flex;flex-direction:column;flex:7}",".native-image{background-image:url(",e.image.url,");flex:1;margin-right:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-flex">','<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-flex-container">','<div class="native-image"></div>','<div class="native-flex-content">','<div class="native-title">',e.title,"</div>",'<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</div>","</div>","</div>","</a>"]:["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;display:flex;flex-direction:column;height:",t,"px;}",".native-image{background-image:url(",e.image.url,");flex:2;margin-bottom:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-title">',e.title,"</div>",'<div class="native-image"></div>','<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</a>"]).join("");return n+=["<script>",'var container=Array.from(document.getElementsByTagName("script")).pop().parentElement,','body=container.querySelector(".native-body"),','body2=container.querySelector(".native-body2");',"if(container.clientHeight-container.scrollHeight)",'body.innerText="";','body2.innerText="";',"<\/script>"].join("")}function r(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var t=t.split("="),n=t[0],t=t[1];return/\[\]$/.test(n)?(e[n=n.replace("[]","")]=e[n]||[],e[n].push(t)):e[n]=t||"",e},{}):{}}function o(e,t){var n=document.createElement("a"),e=(t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e),t&&t.decodeSearchAsString);return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:e?n.search:r(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}var a,s,m=e("./ajax.js"),h=e("./utils.js"),b=e("../src/modules.js"),d=e("../src/storage.js"),c=e("./config.js"),u=e("./renderer.js"),e=e("./oc.js"),v={auction:void 0,gdpr_consent_object:void 0},_=function(e,t){return(t.unit.settings&&t.unit.settings.nativeTemplate||i)(e,t)},y={ortbConverter:e.ortbConverter,pbsExtensions:{},pick:function(r,o){var a;return"object"!=typeof r?{}:(a={},h.each(o,function(e,t){var n,i;"function"!=typeof e&&((i=(n=e).match(/^(.+?)\sas\s(.+?)$/i))&&(e=i[1],n=i[2]),i=r[e],void 0!==(i="function"==typeof o[t+1]?o[t+1](i,a):i))&&(a[n]=i)}),a)},replaceAuctionPrice:function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},debugTurnedOn:function(){return!!h.isdebug()},safeJSONParse:function(e){try{return JSON.parse(e)}catch(e){}},convertOrtbRequestToProprietaryNative:function(e){return e},createEidsArray:function(){var e=v.auction.findUnit(function(){return 1}),e=e&&e.toPrebidUIDs();return e&&e.userIdAsEids},JSEncrypt:0,sha256:0,formatQS:function(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+e}).join("&"):t+"="+e[t]}).join("&")},findIndex:function(e,t){return e.indexOf(t)},getWindowFromDocument:function(e){return e?e.defaultView:null},getRefererInfo:function(){return h.urlref()},mergeDeep:function(){var e=arguments[0];if(e&&"object"==typeof e)for(var t=1;t<arguments.length;++t){var n=arguments[t];if(n&&"object"==typeof n)for(var i in n){var r=typeof n[i];switch(r="object"===r&&Array.isArray(n[i])?"array":r){case"array":e[i]=(e[i]||[]).concat(n[i]);break;case"object":e[i]=y.utils.mergeDeep(e[i]||{},n[i]);break;default:e[i]=n[i]}}}return e},isPlainObject:function(e){return h.isobj(e)},getGptSlotInfoForAdUnitCode:function(t){var e;return(e=window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots?find(window.googletag.pubads().getSlots(),function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}):e)?{gptSlot:e.getAdUnitPath(),divId:e.getSlotElementId()}:{}},parseUrl:function(e,t){var n=document.createElement("a"),e=(t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e),t&&"decodeSearchAsString"in t&&t.decodeSearchAsString);return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:e?n.search:r(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},getValue:function(e,t){return e[t]},buildUrl:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+y.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")},isBoolean:function(e){},getParameterByName:function(e){return h.qs(e)||""},getAdUnitSizes:function(e){var t,n;if(e)return t=[],e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?(n=e.mediaTypes.banner.sizes,Array.isArray(n[0])?t=n:t.push(n)):Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes)),t},parseQueryStringParameters:function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&");return n},getKeys:function(e){return Object.keys(e)},insertElement:function(e,t,n,i){n=(t=t||document).getElementsByTagName(n||"head"),t=(n=n.length?n:t.getElementsByTagName("body"))[0];if(t)return t.insertBefore(e,i?null:t.firstChild)},getDataFromLocalStorage:function(e){if(window.localStorage)return window.localStorage.getItem(e)},inIframe:function(){return!h.url().is_top},_map:function(n,i){var r;return n?"function"==typeof n.map?n.map(i):(r=[],h.each(n,function(e,t){r.push(i(e,t,n))}),r):[]},deepAccess:h.deepAccess,deepSetValue:function(e,t,r){return t.split(".").reduce(function(e,t,n,i){return n===i.length-1?e[t]=r:e[t]=e[t]||{}},e)},getTopWindowUrl:function(){return h.url().href},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},isArray:function(e){return Array.isArray(e)},parseSizesInput:function(e){return"string"==typeof e?e.split(",").filter(function(e){return e.match(/^(\d)+x(\d)+$/i)}):"object"==typeof e?2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?[y.parseGPTSingleSizeArray(e)]:e.map(y.parseGPTSingleSizeArray):[]},parseGPTSingleSizeArray:function(e){if(Array.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e.join("x")},_each:h.each,cookiesAreEnabled:function(e){if(!e)return h.cookies||!1;e(h.cookies||!1)},logError:function(){var e=Array.prototype.slice.apply(arguments);e.unshift("Adapter Error |"),h.log.apply(null,e),b.trigger("pbevt.log_error",arguments)},logWarn:function(){var e=Array.prototype.slice.apply(arguments);e.unshift("Adapter Warning |"),h.log.apply(null,e),b.trigger("pbevt.log_warn",arguments)},logMessage:function(){var e=Array.prototype.slice.apply(arguments);e.unshift("Adapter Message |"),h.log.apply(null,e)},logInfo:function(){var e=Array.prototype.slice.apply(arguments);e.unshift("Adapter Info |"),h.log.apply(null,e)},getBidIdParameter:function(e,t){return t&&t[e]||""},getUniqueIdentifierStr:(s=0,function(){return++s}),convertCamelToUnderscore:function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},convertTypes:function(i,r){return h.each(i,function(e){var t=i[e],n=i[e];r[e]="function"==typeof t?n(n):"string"===t?n&&n.toString():"number"===t?Number(n):n,isNaN(r[e])&&delete r[e]}),r},createTrackPixelHtml:h.pixelh,isEmpty:function(e){if(e){if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1}return!0},transformBidderParamKeywords:function(e){var n=[];return h.each(e,function(e,t){t={key:t};Array.isArray(e)&&(t.value=e.map(function(e){return e+""})),null!=e&&(t.value=[e+""]),t.hasOwnProperty("value")&&n.push(t)}),n},tryAppendQueryString:function(e,t,n){return n?e+(t+"="+encodeURIComponent(n))+"&":e},isAllowZeroCpmBidsEnabled:function(){return!0},isFn:function(e){return"function"==typeof e},isStr:function(e){return"string"==typeof e},isEmptyStr:function(e){return""===e},assign:h.assign,isInteger:Number.isInteger||function(e){return Math.floor(e)===e&&isFinite(e)},isNumber:function(e){return"number"==typeof e},groupBy:function(e,n){return e.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e},{})},deepClone:function i(r){return Object.keys(r||{}).reduce(function(e,t){var n={}.toString.call(r[t]).slice(8,-1);return e[t]="Array"===n||"Object"===n?i(r[t]):"Date"===n?new Date(r[t].getTime()):"RegExp"===n?new RegExp(r[t]):r[t],e},Array.isArray(r)?[]:{})},flatten:function(e,t){return e.concat(t)},chunk:function(e,i){return e.reduce(function(e,t,n){return n%i?e[e.length-1].push(t):e.push([t]),e},[])},fill:function(e,t){for(var n=[];n.length<t;n.push("object"==typeof e?y.utils.deepClone(e):e));return n},getMaxValueFromArray:Function.apply.bind(Math.max,0),getMinValueFromArray:Function.apply.bind(Math.min,0),isArrayOfNums:function(e,t){return e.length===(t||e.length)&&e.reduce(function(e,t){return e&&"number"==typeof t},!0)},generateUUID:h.genUUID,getBidRequest:function(e,t){for(var n=0;n<t.length;++n)for(var i=t[n],r=0;r<i.bids.length;++r){var o=i.bids[r];if(o.bidId===e||o.adId===e||o.bid_id===e)return o}h.err("shimGetBidRequestFail",e)},triggerPixel:function(e){h.uspi("S2S",e)},uniques:function(e,t,n){return n.indexOf(e)===t},contains:function(e,t){return 0<e.length&&-1!==e.indexOf(t)},getOrigin:function(){return h.url()},getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},getCookie:h.cr,isGptPubadsDefined:function(){return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots},isSlotMatchingAdUnitCode:function(t){return function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}},verify:null,_each:h.each,urlUtils:{parse:o},getUniqueIdentifierStr:function(){return++a},url:{type:a=0,parse:o,format:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(y.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}},BANNER:"banner",VIDEO:"video",NATIVE:"native",ADPOD:"adpod",OUTSTREAM:"outstream",INSTREAM:"instream",config:{DynamicPrefix:!0,getLegacyFpd:function(r){var t;if("object"==typeof r)return t={},Object.keys(r).forEach(function(i){var e="site"===i?"context":i;t[e]="context"===e||"user"===e?Object.keys(r[i]).filter(function(e){return"data"!==e}).reduce(function(e,t){var n;return"ext"===t?y.utils.mergeDeep(e,r[i][t]):((n={})[t]=r[i][t],y.utils.mergeDeep(e,n)),e},{}):r[i]}),t},config:{userSync:{syncEnabled:!0,iframeEnabled:!0,imageEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"},iframe:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:c.libSettings("usp_delay")||3e3,auctionDelay:0}},getAnyConfig:function(e){return y.config.getConfig(e)},getConfig:function(e){switch(e){case"pageUrl":return h.url().href;case"bidderTimeout":return v.auction.max_ms;case"consentManagement.cmpApi":return v.gdpr_consent_object.cmpApi;case"rubicon.singleRequest":return!0;case"ortb2":return Config.ortb2();case"publisherDomain":return window.location.origin;case"priceGranularity":return"custom";case"yahoossp.endpoint":return"https://c2shb.ssp.yahoo.com/bidRequest";case"customPriceBucket":return{buckets:(c.libSettings().bid_strategy||"").split(",").map(function(e){var e=e.split(":"),t=e[1].split("-").map(Number);return{precision:2,increment:e[0],min:t[0],max:t[1]}})};default:return h.deepAccess(y.config.config,e)}},bidders:null,js:null,setDefaults:function(e){if("object"!=typeof e)return h.err("defaults must be an object, received",e);h.assign(y.config.config,e)},vastXml:null,vastUrl:null,align:null,closeButton:null,collapse:null,label:null,position:null,rubicon:null},parse:o,parseDomain:function(e,t){var n=(t=t||{}).noLeadingWww||!1,t=t.noPort||!1;try{if(e&&!/\w+:\/\//.exec(e)){var i=window.location.protocol;try{i=window.top.location.protocol}catch(e){}e=/^\/\//.exec(e)?i+e:i+"//"+e}console.log("url after proto",e),e=new URL(e)}catch(e){return void console.log("url creation had error",e)}return e=t?e.hostname:e.host,e=n&&e.startsWith("www.")?e.substring(4):e},registerBidder:function(){},userSync:{registerSync:function(e,t,n){var i="image"===e||"img"===e?h.uspi:"iframe"===e?h.uspf:void 0;i?i(t,n):y.logWarn('User sync type "'+e+'" not supported')}},includes:function(e,t){return-1!==e.indexOf(t)},find:function(e,t){return e.filter(t)[0]},Renderer:u,loadExternalScript:function(e,t){y.logWarn("module "+t+"is loading external JavaScript"),h.load(e,null,!0)},ajax:function(e,i,t,n){m(h.assign({},n,{data:t,url:e}),function(e,t,n){e?i&&i.error&&i.error(e.err,e):i&&i.success?i.success(t,n):i&&i(t)})},getIabSubCategory:function(){return null},auctionManager:{getAdUnits:function(){return v.PBJSObjects.bidRequests}},getStorageManager:function(e){var t;return e.opt_in=!1,e.bidderCode&&(t=c.libSettings("storage_access"))&&(h.isarr(t)?e.opt_in=-1<t.indexOf(e.bidderCode):e.opt_in=!0),d(e)},getGlobal:function(){return pbjs},CONSTANTS:{EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender",BILLABLE_EVENT:"billableEvent"}},events:{on:function(e,t){b.trigger("pbevt.sub",e,t)}},hasDeviceAccess:function(){return!0},hasPurpose1Consent:h.wrapAsync(function(){return!v.gdpr_consent_object||!v.gdpr_consent_object.gdprApplies||!0===h.deepAccess(v.gdpr_consent_object,"vendorData.purpose.consents.1")}),validateStorageEnforcement:function(e,t,n,i){i({valid:!1})},bidderSettings:{get:function(e,t){}}};y.utils=y,e.setPf(y),t.exports={wrap:function(p){var g={},n={};return function(l,i,e,r){this.gdprSupport=p.gdprSupport,this.uspSupport=p.uspSupport,this.settings=e,this.buildPrebidParams=function(e){return t=p.unitIDKey,n=p.floorKey,i=p.floorStr,e=e,delete(r=h.deepAssign({},e.params)).adjust,r[t]=e.bidder_unit_id,"string"==typeof r[t]&&-1===["amx","undertone","yieldmo","pubmatic","conversant","deepintent","kargo","saambaa","ttd"].indexOf(e.bidder_name)&&r[t].match(/^\d+$/)&&(r[t]=parseInt(r[t])),e.bidder_name.match(/^(index|ix)/)&&(r.bidFloorCur="USD"),"string"==typeof r.size&&(r.size=h.sizeStrToArr(r.size)),n&&(r[n]=e.min_cpm,i)&&(r[n]=r[n].toFixed(2)),!r.video&&e.mediaTypes.video&&(r.video=h.copy(e.mediaTypes.video)),r;var t,n,i,r},this.getPrebidReqCtr=function(e){return(g[e]||0)+1},this.getPrebidWinCtr=function(e){return n[e]||0},b&&b.on("pub.spa_pv_shutdown",function(){g={}}),this.onBidWon=h.wrapAsync(function(e){n[e.adUnitCode]=(n[e.adUnitCode]||0)+1;var t=p.spec;"function"==typeof t.onBidWon&&(h.log("Adapter onBidWon",l,e),t.onBidWon(e))}),this.onSetTarget=h.wrapAsync(function(e){var t=p.spec;"function"==typeof t.onSetTargeting&&(h.log("Adapter onSetTarget",l,e),t.onSetTargeting(e))}),this.execute=function(o){function a(){Object.keys(u).map(function(e){return u[e]}).filter(function(e){return!e.found}).forEach(function(e){e.unit.addEmptyBid(e.config)}),b.trigger("bidder.done",s,l,o),h.mock()?h.logl("mock","bypass usync"):[].concat(p.spec.getUserSyncs&&h.wrapAsync(p.spec.getUserSyncs,void 0,p.spec)({syncEnabled:!0,iframeEnabled:!0,imageEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"},iframe:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0},c.map(function(e){return{body:e||{}}}))||[]).forEach(function(e){y.userSync.registerSync(e.type,i,e.url)})}var n,t={},s=(o.eachBidRequest(l,function(e){e=e.toPrebidAdUnitCode();t[e]||(t[e]=!0,g[e]=(g[e]||0)+1)}),v.auction=o,v.gdpr_consent_object=r,v.alias=l,o.toPrebidBidderReq(l)),e=(p.floorKey&&p.floorStr&&s.bids.forEach(function(e){e.params[p.floorKey]=String(e.params[p.floorKey])}),s.bidderCode.match("Sovrn")&&h.each(s.bids,function(e){e.params&&e.params.size&&(e.mediaTypes.banner.sizes=[e.params.size])}),s.start=(new Date).getTime(),{bidderRequest:s,bidRequests:s.bids}),d=(v.PBJSObjects=e,h.each(e.bidRequests,function(e){try{p.spec.isBidRequestValid(e)}catch(e){h.log("Adapter BR invalid",e)}}),h.wrapAsync(p.spec.buildRequests,void 0,p.spec)(e.bidRequests,e.bidderRequest)),c=(Array.isArray(d)||(d=[d]),[]),u=(n={},o.eachBidRequest(l,function(e,t){n[t.id]={config:t,unit:e}}),n);h.mock()?(e=Math.floor(Math.random()*(o.ajax_ms-250))+50,h.logl("mock","bypass bidders",e),setTimeout(a,e)):("function"==typeof p.spec.onTimeout&&o.onHalt(function(){var t=[];h.each(s.bids,function(e){o.getBidRequest(e.bidId).responses.length||(e={bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId,params:[e.params],timeout:o.max_ms},h.log("AdBridg bid object for timeout calculation",l,e),t.push(e))}),t.length&&(h.log("Adapter onTimeout",l,t),p.spec.onTimeout(t))}),d.map(f,o).forEach(function(e,r){e.max_ms=o.ajax_ms,b.trigger("bidder.before_request",e,s),m(e,h.wrapAsync(function(e,t,n){if(c.push(t),e&&"parse"!==e.type&&("timeout"===e.type&&(h.each(s.bids,function(e){h.isarr(e.params)||(e.params=[e.params]),e.timeout=o.max_ms}),y.logError("  xhr timeout after ",o.max_ms,"ms")),y.logError("Server call for "+s.bidderCode+" failed: "+e.err+" "+n.status+". Continuing without bids."),b.trigger("pbevt.ajax_error",n,s,o)),!e||"parse"===e.type){var i;try{i=p.spec.interpretResponse.apply(p.spec,[{body:t||n.responseText},d[r]])}catch(e){y.logError("Bidder "+s.bidderCode+" failed to interpret the server's response. Continuing without bids",null,null)}(i=Array.isArray(i)?i:[i].filter(Boolean)).forEach(function(e){var t,n,i=u[e.requestId];if(!i)return h.err(["unrequested response from",l,":",JSON.stringify(e)].join(" "));e.requestTimestamp=s.start,e.responseTimestamp=(new Date).getTime(),e.timeToRespond=e.responseTimestamp-e.requestTimestamp,t=e,n=i.config,t.ad||t.native||t.renderer||(t.vastUrl||t.vastXml)&&n.renderer?(t=i,(n=e).currency&&!n.originalCurrency&&(n.originalCurrency=n.currency),e={creative:n.ad||(n.native?_(n.native,t):void 0),vastUrl:n.vastUrl,vastXml:n.vastXml,cpm:n.cpm,width:n.native?0|t.config.size.split("x")[0]:n.width,height:n.native?0|t.config.size.split("x")[1]:n.height,extras:{dealid:n.dealId||n.dealid,crid:n.creativeId||n.creativeid,ttl:n.ttl,cur:n.currency,nr:n.netRevenue,mediaType:n.mediaType},render:n.renderer&&n.renderer.render&&n.renderer.render.bind(n.renderer,n),rawbid:n},i.unit.addBid(i.config,e)):i.unit.addEmptyBid(i.config),i.found=!0})}c.length===d.length&&a()}))}),b.trigger("bidder.requested",s,o))}}},polyfills:y}},{"../src/modules.js":21,"../src/storage.js":56,"./ajax.js":13,"./config.js":16,"./oc.js":53,"./renderer.js":54,"./utils.js":58}],56:[function(e,t,n){var o=e("./utils.js");t.exports=function(r){r=r||{opt_in:!0};var i=o.wrapAsync(function(e,t,n){var i={cookiesAreEnabled:!1,localStorageIsEnabled:!1},i=i.hasOwnProperty(e)?i[e]:null;return r.opt_in&&(i=n()),"function"==typeof t?t(i):i});return{findSimilarCookies:function(r,e){return i("findSimilarCookies",e,function(){for(var e=[],t=document.cookie.split(";");t.length;){var n=t.pop(),i=(i=n.indexOf("="))<0?n.length:i;0<=decodeURIComponent(n.slice(0,i).replace(/^\s+/,"")).indexOf(r)&&e.push(decodeURIComponent(n.slice(i+1)))}return e})},getCookie:function(e,t){return i("getCookie",t,function(){return o.cr(e)})},setCookie:function(r,o,a,s,d,e){return i("setCookie",e,function(){var e=d&&""!==d?" ;domain="+encodeURIComponent(d):"",t=a&&""!==a?" ;expires="+a:"",n=null!=s&&"none"==s.toLowerCase()?"; Secure":"",i=s?"; SameSite="+s:"";document.cookie=r+"="+encodeURIComponent(o)+t+"; path=/"+e+i+n})},cookiesAreEnabled:function(e){return i("cookiesAreEnabled",e,function(){return o.cookies||!1})},hasLocalStorage:function(e){return i("hasLocalStorage",e,function(){try{return!!window.localStorage}catch(e){}})},localStorageIsEnabled:function(e){return i("localStorageIsEnabled",e,function(){try{if(localStorage.setItem("adb.cookieTest","1"),"1"===localStorage.getItem("adb.cookieTest"))return!0}catch(e){}return!1})},setDataInLocalStorage:function(e,t,n){return i("setDataInLocalStorage",n,function(){try{window.localStorage.setItem(e,t)}catch(e){}})},getDataFromLocalStorage:function(e,t){return i("getDataFromLocalStorage",t,function(){try{return window.localStorage.getItem(e)}catch(e){}})},removeDataFromLocalStorage:function(e,t){return i("removeDataFromLocalStorage",t,function(){try{window.localStorage.removeItem(e)}catch(e){}})}}}},{"./utils.js":58}],57:[function(e,t,n){var k=e("./utils"),T=e("./analytics"),C=e("./modules"),R=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.dom_ad_class="",this.settings={},this.unique_id=k.genID("U"),this.uuid=k.genUUID(),this.auction=!1,this.all_sizes=[],this.original_sizes=[];var v=this,s={},_={},l=0,r={},y=[],p={},i=!1,w=!1,t=!1,x=!1,g=!1,o=[],A=(this.init=function(){e&&(v.set(e),C.trigger("unit.init_config",v))},this.restrictSizesTo=function(e){v.all_sizes=v.original_sizes,k.logl("sz","Unit",v.alias,"restrict sizes to",JSON.stringify(e)," old _allowed_sizes",JSON.stringify(g)),g=e,o.length&&v.allowSizes(o);for(var t,n,i=[],r=v.all_sizes.length-1;0<r;--r)-1===g.indexOf(v.all_sizes[r])&&(t=v.all_sizes[r],v.all_sizes.splice(r,1),0<=(n=v.other_sizes.indexOf(t))&&v.other_sizes.splice(n,1),i.push(t));a(),k.logl("sz","Unit",v.alias,"removed sizes",JSON.stringify(i),"allowed sizes",JSON.stringify(g)),C.trigger("unit.restrict_sizes",v,g,i)},this.allowSizes=function(e){o=[],k.each(e,function(e){k.logl("sz","Unit size added",v.alias,e),g&&-1==g.indexOf(e)&&g.push(e),-1==o.indexOf(e)&&o.push(e),-1==v.other_sizes.indexOf(e)&&v.other_sizes.push(e),-1==v.all_sizes.indexOf(e)&&v.all_sizes.push(e),a()}),k.logl("sz","Unit",v.alias,"allowed sizes",o),C.trigger("unit.allow_sizes",v,o)},this.configure=function(e){var t,n=k.qs("adb_maxms");for(t in n&&(e.max_ms=n),e)"unique_id"!=t&&"auction"!=t&&("settings"==t?k.each(e[t],function(e,t){v.settings[t]=e}):v.hasOwnProperty(t)&&"function"!=typeof v[t]&&(v[t]=JSON.parse(JSON.stringify(e[t]))));v.all_sizes=[v.size].concat(v.other_sizes),v.original_sizes=[].concat(v.all_sizes),k.logl("sz","Unit definition original_sizes=",JSON.stringify(v.original_sizes),"size=",JSON.stringify(v.size),"other_sizes=",JSON.stringify(v.other_sizes)),k.qs("adb_force_bidder")&&(v.min_cpm=0),a(),C.trigger("unit.config",v)},this.addBidder=function(e,t){p[e]=t},this.eachBidder=function(e){for(var t in p)p.hasOwnProperty(t)&&s[t]&&e(t,p[t])},this.hasBidReqConf=function(){return 0<l},this.addBidReqConf=function(d,e,n){var c,u={id:k.genID("BR"),uuid:k.genUUID(),unit:v,adjust:1,bidder_name:d,bidder_id:e.bidder_id,bidder_unit_id:e.bidder_unit_id,min_cpm:v.min_cpm,size:v.size,other_sizes:v.other_sizes,all_sizes:[],responses:[],late_responses:[],test:e.test,toPrebid:function(e){var t=v.auction.getBdrReqId(d),n=v.toPrebidUIDs(),i=k.copy(v.settings.mediaTypes),r=f(i,v.all_sizes),o=v.toPrebidAdUnitCode(),a=(c=c||p[d].getPrebidReqCtr(o),v.get("imp_ctr")||1),s=R.ortb2(d),t=k.assign({src:"client",adUnitCode:o,adbconfig:v.alias,auctionId:v.auction.uuid,bidId:u.id,bidder:d,bidderRequestId:t,bidderRequestsCount:c,bidderWinsCount:p[d].getPrebidWinCtr(o),bidRequestsCount:a,mediaTypes:i,params:u.params,sizes:r,transactionId:v.uuid,ortb2:s,ortb2Imp:v.toPrebidOrtb2Imp(d),renderer:v.settings.renderer},n),o=u.mediaTypes.native||u.nativeParams;return o&&(t.nativeParams=o),e&&(t.timeout=v.max_ms,t.params=[t.params]),t}};if(p[d]){k.deepAssign(u,v.settings,p[d].settings,e.settings),u.params=k.deepAssign({},p[d].settings,e.settings),1!=u.adjust&&(u.min_cpm=Number((u.min_cpm/u.adjust).toFixed(2)));var t=[],i=!1;if("function"==typeof e.mutate&&t.push({n:"BidReq",f:e.mutate}),"function"==typeof p[d].mutate&&t.push({n:"Bidder",f:p[d].mutate}),k.each(t,function(t){try{t.f(u,n)||(i=!0,k.log(t.n+" mutate rejected BR: ",u))}catch(e){k.err("MutateFail-"+t.n+"-"+d,e)}}),!i)if(u.test&&!k.qsab(d,u.bidder_id,!0))k.log("Test configuration skipped: ",u);else{if(e.settings.size?(u.other_sizes=[],u.size=e.settings.size):"string"==typeof u.other_sizes&&(u.other_sizes=u.other_sizes?u.other_sizes.split(","):[]),g){var r=[];0<=g.indexOf(u.size)&&r.push(u.size);for(var o=0;o<u.other_sizes.length;++o){var a=u.other_sizes[o];0<=g.indexOf(a)&&r.push(a)}if(!r.length)return void(g.length&&k.log("Unit ",v.alias," skipped configuration for ",u.bidder_name," because it does not support any of these sizes: ",g));u.size=r[0],u.other_sizes=r.slice(1)}u.all_sizes=[u.size].concat(u.other_sizes),k.logl("sz","Bid request sizes:",u.bidder_name,u.bidder_unit_id,{size:u.size,other:u.other_sizes,all:u.all_sizes}),s[d]||(s[d]=[]),s[d].push(u),_[u.id]=u,++l,u.params=p[d].buildPrebidParams(u),C.trigger("unit.config_brc",v,u)}}else k.err("BR missing bidder",d)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?k.each(s[e],t):k.each(_,t)},this.getBidReqConf=function(e){return _[e]||!1},this.getBid=function(e){for(var t=0;t<y.length;++t)if(y[t].id===e)return y[t];return!1},this.set=function(e,t){if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&v.set(n,e[n]);else r[e]=t},this.setImpData=function(e,t,n){var i=v.get("adb_imp_data")||{};i[e]=n&&i[e]||t,v.set("adb_imp_data",i)},this.get=function(e){return r[e]},this.halt=function(){w=!0},this.onReady=function(e){t=e,A()},function(){x&&t&&setTimeout(function(){t(v)},0)}),S=(this.markEmpty=function(e){v.eachBidReqConf(e,function(e){e.responses.length||v.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=_[t]))return void k.err("Could not find bid req: ",t)}e.responses.length||w&&e.late_responses.length||v.addBid(e,{})},function(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative}),n=(this.bidRendered=function(e,t){var n,i=e.config.bidder_name;p[i]?((n=e.pbjsBid).status="rendered",p[i].onBidWon&&(n.params=e.config.toPrebid().params,p[i].onBidWon(n)),C.trigger("bid.render",e,t)):k.err("uBidRender.notFound",i,v.id)},this.gptTargetSet=function(e){var t=e.config.bidder_name;p[t]?((e=e.pbjsBid).status="targetingSet",p[t].onSetTarget&&p[t].onSetTarget(e)):k.err("gptTargetSet.notFound",t,v.id)},!(this.addBid=function(e,t){if(!e||!v.getBidReqConf(e.id))return k.err("Bid request from ",e.bidder_name,"not found on unit",v.id),!1;t.cpm&&(t.cpm=parseFloat(t.cpm)),C.trigger("bid.mutate_raw",t,e);var n=t.config&&t.config.unit&&t.config.unit.unique_id,i=Number(parseFloat(t.cpm).toFixed(2))||0,r=Number(t.width)||0,o=Number(t.height)||0,a=t.creative||"",s=t.creative_url||"",d=t.extras||{},c=t.force||!1,u=t.render,l=t.vastUrl,p=t.vastXml,g=t.rawbid,f=(i||(t.empty=!0),Number((i*e.adjust).toFixed(2))),m=e.min_cpm,h=(!n&&0<m&&f<m&&(f=0),R.libSettings().pubchkcreativefn),h=(a&&"function"==typeof h&&!h(e,t,R.libSettings())&&(k.log("Creative blocked: ",e.bidder_id,r,o,f,d),f=0),n?t.ts:k.dts()),b=n?t.ms:Math.round(h-v.auction.ts),b={id:v.id+"."+k.genID("B"),ms:b,ts:h,config:e,viable:!w,cpm:f,_min_cpm:m,_bid_cpm:i,force:c,width:r,height:o,creative:a,creative_url:s,extras:d,render:u,vastUrl:l,vastXml:p,rawbid:g};return n&&((b._origin=t)._pool||(t._pool=[]),t._pool.push(b)),I(b),function(e,t){for(var n=0;n<e.responses.length;++n)if(S(t,e.responses[n]))return!0;for(n=0;n<e.late_responses.length;++n)if(S(t,e.late_responses[n]))return!0;return!1}(e,b)?(k.log("Unit ",v.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",b.ms,b.width+"x"+b.height,b.cpm.toFixed(2)),!1):(h=b.viable?"":"late ",!b.cpm&&0<b._bid_cpm?(f=1!=e.adjust?" * "+e.adjust+" = "+Number((b._bid_cpm*e.adjust).toFixed(2)):"",h+="below-floor ("+b._bid_cpm+f+" < "+b._min_cpm+") "):t.empty&&(h+="empty "),k.log("Unit",v.alias,"got",h+"bid"+(n?" (pooled from "+n+")":""),"from",e.bidder_name,"on BR",e.id,": ",b.ms,b.width+"x"+b.height,b.cpm.toFixed(2)),C.trigger("bid.ready",b),b.pbjsBid&&j(b),b.viable?(e.responses.push(b),y.push(b),C.trigger("bid.response",b),function(){if(!w){for(var e in _){e=_[e];if(e.responses&&!e.responses.length)return}x=!0,A()}}()):(b.pbjsBid&&(b.pbjsBid.timeout=this.max_ms),e.late_responses.push(b),T.lateBid(b)),b)})),a=(this.getWinner=function(){return n||(n=!0,"function"==typeof R.libSettings().filter_bid&&k.wrapAsync(R.libSettings().filter_bid),k.each(y,function(e){C.trigger("bid.auction_close_filter",v,e),e.blocked&&(e.cpm=0,k.log("Bid filtered out",v.alias,e.config.bidder_name,"reason:",e.blocked));var t,n=e.width+"x"+e.height;!e.cpm||!g||-1!=g.indexOf(n)||R.libSettings().bypass_size_check&&-1!=R.libSettings().bypass_size_check.bidder.indexOf(e.config.bidder_name)?(t=e.cpm&&(!i||e.cpm>i.cpm||e.cpm==i.cpm&&.5<Math.random()),i&&i.force&&(t=!1),(e.force||t)&&(i=e)):(t=e._origin?"(pooled bid from "+e._origin.config.unit.unique_id+")":"",k.log("Unit ",v.alias,"rejected",t,e.config.bidder_name,"invalid size",n),e._origin||k.err("U",v.id," B",e.config.bidder_id+"."+e.config.bidder_unit_id,n,g))}),i&&(k.log("Unit ",v.alias,"set winner to ",i.config.bidder_name,i._origin&&"(pooled bid from "+i._origin.config.unit.unique_id+")"||"",i.width+"x"+i.height,i.cpm.toFixed(2)),C.trigger("bid.auction_winner",i))),i},this.toPrebidUIDs=function(){var i=!1;return k.each(r,function(e,t){var n=t.match(/^userId\.(.+)$/),t=t.match(/^userIdAsEids\.(.+)$/);(n||t)&&(i=i||{userId:{},userIdAsEids:[]}),n&&(i.userId[n[1]]=e),t&&i.userIdAsEids.push(e)}),i&&i.userIdAsEids.sort(function(e,t){return e.name<t.name?1:-1}),i&&i.userId.pubcid&&(i.crumbs={pubcid:i.userId.pubcid}),i||{}},function(){v.settings.mediaTypes||(v.settings.mediaTypes={}),v.settings.mediaTypes.banner={sizes:v.all_sizes.filter(Boolean).map(k.sizeStrToArr)}}),f=function(e,t){for(var n=e.banner?k.copy(e.banner.sizes):[],i=n.length-1;0<=i;--i)-1===t.indexOf(n[i].join("x"))&&(debugit=!0,n.splice(i,1));if(e.video){var r=e.video.playerSize;k.isarr(r[0])||(r=[r]);for(i=0;i<r.length;++i){var o=r[i].join("x");-1===t.indexOf(o)&&n.push(r[i])}}return n},d=function(e,t){return k.toRange(e,t,!0).kv.split("-").shift()},c=function(e,t){var n=!e&&"0.00";return{pbLg:n||d(e,".5:0-5"),pbMg:n||d(e,".1:0-20"),pbHg:n||d(e,".01:0-20"),pbDg:n||d(e,".01:0-2.99;.05:3-7.5;.5:8-20"),pbAg:n||d(e,".05:0-4.95;.1:5-9.5;.5:10-20"),pbCg:n||d(e,R.libSettings("bid_strategy",t))}},I=function(e){var t=e.config.toPrebid();if(e.rawbid&&e.viable){var n=t.bidId,i=t.auctionId,r=v.uuid;if(e._origin){if(!e._origin.pbjsBid)return void k.err("BadBPOrigin",v.id,t.bidder,t.adUnitCode);n=e._origin.pbjsBid.requestId,i=e._origin.pbjsBid.auctionId,r=e._origin.pbjsBid.transactionId}n=k.deepAssign({currency:"USD",originalCurrency:"USD",mediaType:"banner"},e.rawbid,{source:"client",statusMessage:"Bid available",requestId:n,auctionId:i,transactionId:r,cpm:e.cpm,originalCpm:e._bid_cpm,adapterCode:t.bidder,bidderCode:t.bidder,bidder:t.bidder,adUnitCode:t.adUnitCode,adbconfig:t.adbconfig,adId:e.id,width:e.width,height:e.height});e.pbjsBidO=k.deepAssign({},n),e.pbjsBid=n}else e.pbjsNoBid=t},j=function(e){var t=e.width+"x"+e.height,n=c(e.pbjsBid.cpm,e),i=e.rawbid&&e.rawbid.adserverTargeting||{},r={hb_bidder:e.pbjsBid.bidderCode,hb_adid:e.pbjsBid.adId,hb_adomain:"",hb_pb:n.pbMg,hb_size:t,hb_source:"client",hb_format:e.rawbid.mediaType||"banner"};e.pbjsBid.meta&&(e.pbjsBid.meta.advertiserDomains&&e.pbjsBid.meta.advertiserDomains.length&&(r.hb_adomain=e.pbjsBid.meta.advertiserDomains[0]),e.pbjsBid.meta.primaryCatId)&&(r.hb_acat=e.pbjsBid.meta.primaryCatId),k.assign(e.pbjsBid,n,{size:t,adserverTargeting:k.assign(r,i)})};this.toPrebidAdUnitCode=function(){return v.get("dom_id")||v.unique_id},this.toPrebidOrtb2Imp=function(t){var n=v.get("gpt_slot"),e={};if(n){var n=n.getAdUnitPath(),i=n+"#"+v.toPrebidAdUnitCode(),e={ext:{tid:v.uuid,data:{adserver:{name:"gam",adslot:n},pbadslot:i,keywords:""},gpid:i}},n=R.libSettings("unit_ortb2",this,t,e);if("string"==typeof n)try{"object"==typeof(n=JSON.parse(n))&&k.deepMerge(e,n)}catch(e){k.err("UnitOrtb2JsonFail",this.id,t||0),n=!1}}return e},this.toPrebidAdUnit=function(){var e=k.copy(this.settings.mediaTypes),t=f(e,this.all_sizes),n=this.toPrebidUIDs(),i=[];return this.eachBidReqConf(function(e){i.push(k.assign({bidder:e.bidder_name,params:e.params},n))}),{code:this.toPrebidAdUnitCode(),adbconfig:this.alias,sizes:t,mediaTypes:e,bids:i,ortb2Imp:this.toPrebidOrtb2Imp(),transactionId:this.uuid}},this.toPrebidResults=function(){var t={noBids:[],bidsReceived:[],winningBids:[],prebidWinningBids:[]};return k.each(y,function(e){e._origin||(e.pbjsBid&&(t.bidsReceived.push(e.pbjsBid),"rendered"===e.pbjsBid.status?t.winningBids.push(e.pbjsBid):"targetingSet"===e.pbjsBid.status&&t.prebidWinningBids.push(e.pbjsBid)),e.pbjsNoBid&&t.noBids.push(e.pbjsNoBid))}),t},this.init()}},{"./analytics":14,"./config":16,"./modules":21,"./utils":58}],58:[function(e,t,x){function n(e){return{loading:1,interactive:2,complete:3}[e=e||document.readyState]||0}function r(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),n}function i(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)}x.wrapAsync=function(e,t,n){return function(){try{return e.apply(n||this,arguments)}catch(e){t?t(e):x.err("Caught AsyncErr: ",e)}}},x.thread=function(t){return t=x.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},x.attempt=function(e,t){try{return e()}catch(e){}return t};var o,a=1,s=(new Date).getTime(),d=function(){try{s-=Math.round(performance.now()),d=function(){return n()+"T"+Math.round(performance.now()).toString(36)},o=[a,s.toString(36),d()]}catch(e){d=function(){return n()+"T"+Math.max(0,(new Date).getTime()-s).toString(36)},o=[a=0,s.toString(36),n()+"T0"]}},c=(d(),x.on=r,x.off=i,r(document,"readystatechange",function(){3==n()&&i(document,"readystatechange",arguments.callee),o.push(d())}),x.perfts=function(){return d()},x.pgts=function(){return o},x.dts=function(){return a?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-s).toFixed(2))},0);x.genID=function(e){return(e||"")+ ++c+Math.random().toString(16).substr(2)},x.dnt=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},x.vp=function(){var e,t,n,i=document;try{e=window.innerWidth,t=window.innerHeight,n=window.pageYOffset,window_x=window.pageXOffset}catch(e){}return{w:e||i.documentElement&&i.documentElement.clientWidth||i.body&&i.body.clientWidth||0,h:t||i.documentElement&&i.documentElement.clientHeight||i.body&&i.body.clientHeight||0,y:n||i.body&&i.body.scrollTop||0,x:window_x||i.body&&i.body.scrollLeft||0}},x.cr=function(e){e=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return e?decodeURIComponent(e[2]):""},x.cw=function(e,t,n,i){exp_string=0<(n=n||1)?"max-age="+86400*n:"max-age=-99999";n=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain=";n+=i||window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1"),document.cookie=n},x.lr=function(t,e,n){var i,r,o="",a="";try{(a=localStorage.getItem(t))&&(e||(a=JSON.parse(a)),i=(new Date).getTime(),(r=e?new Date(localStorage.getItem(t+"_exp")).getTime():parseInt(a.e||"0",36))&&r<i?x.logl("ls","LS expired",t,a,r,i):(x.logl("ls","LS read",t,a,r,i),o=n?r:e?a:a.v))}catch(e){x.logl("ls","LS read fail",t,a,e)}return o},x.lrx=function(e,t,n,i){t*=864e5,n=x.lr(n,i,!0);return""===n||e<t-(n-(new Date).getTime())},x.lw=function(t,n,i,r){try{var e,o,a=r?n:{v:n};i&&(e=(new Date).getTime(),o=Math.round(e+Math.floor(864e5*i)),r?localStorage.setItem(t+"_exp",new Date(o).toUTCString()):(a.s=e.toString(36),a.e=o.toString(36))),r||(a=JSON.stringify(a)),localStorage.setItem(t,a),x.logl("ls","LS written",t,n,r,i,a)}catch(e){x.logl("ls","LS write fail",t,n,r,i,e)}},x.sr=function(t){try{return sessionStorage.getItem(t)}catch(e){x.logl("ss","SS read fail",t,e)}return""},x.sw=function(t,n){try{sessionStorage.setItem(t,n),x.logl("ss","SS written",t,n)}catch(e){x.logl("ss","SS write fail",t,n,e)}};try{x.cw("adbct",1),x.cookies=!!x.cr("adbct"),x.cw("adbct","",-1)}catch(e){}try{x.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}x.https=!("https:"!=location.protocol),x.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,x.genUUID)}catch(e){return 0}},x.qs=function(e){e=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(e)||[]).pop()};var u=x.qs("adb_force_bidder"),l=x.qs("adb_allow_bidder"),p=[];u&&"*"!=u&&(p=p.concat(u.split(","))),l&&"*"!=l&&(p=p.concat(l.split(","))),x.qsab=function(e,t,n){return t=String(t),"*"==l||"*"==u||(n?0<=p.indexOf(t)||0<=p.indexOf(e):!u||0<=p.indexOf(t)||0<=p.indexOf(e))},x.qsappend=function(e,t,n,i){return i&&!t?"":"&"+e+"="+(t=n?encodeURIComponent(t):t)},x.toqs=function(e,n){var i="";return x.each(e,function(e,t){x.isarr(e)?x.each(e,function(e){i+=x.qsappend(t+"[]",e,n)}):i+=x.qsappend(t,e,n)}),i.replace(/^\&/,"")},x.parseqs=function(e){var n="";return x.each(e,function(e,t){n+=t+"="+encodeURIComponent(e)+"&"}),n.replace(/&$/,"")},x.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var n=0;n<e.length;++n)t(e[n],n);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},x.sizeStrToArr=function(e){if(!x.isarr(e)){if("string"==typeof e)return e.split("x").map(Number);x.err("BadSizeConvert",e)}return e},x.resize_element=function(e,t,n){e.style.width&&String(e.style.width).replace("px","")==t||(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")==n||(e.style.height=n+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=n&&e.setAttribute("height",n)},x.resize_iframe=function(e,t,n,i){try{for(var r=e.document.getElementsByTagName("iframe")||[],o=0;o<r.length;++o)try{if(r[o].contentDocument===t)return x.resize_element(r[o],n,i),void(e!==top&&x.resize_iframe(e.parent,e.document,n,i))}catch(e){}}catch(e){x.err("Error resizing window to "+n+"x"+i,e)}x.err("Failed to resize window to "+n+"x"+i)},x.url=function(){var t,n,i,r,o,e=top,a=window,s=document,d=!1;try{d=window.parent===window}catch(e){}try{t=e.location.host,n=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,i=e.document.referrer,r=e.document.title,o=e.location.protocol}catch(e){try{t=(String(s.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),n=(String(s.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),o=(String(s.referrer).match(/^https?\:/)||[]).pop(),href=s.referrer,r=i=""}catch(e){}}return t&&n||(t=a.location.host,n=a.location.pathname+a.location.search+a.location.hash,o=a.location.protocol,href=a.location.href,i=s.referrer),{domain:t,page:n,href:href,referrer:i,title:r,is_top:d,protocol:o}},x.urlref=function(){var e=x.url(),t=function(){try{var e=document.querySelector("link[rel='canonical']");if(null!==e)return e.href}catch(e){}return null}(),t={reachedTop:!0,isAmp:!1,numIframes:0,stack:[e.href],topmostLocation:e.href,location:e.href,canonicalUrl:t,page:e.href,domain:e.domain,legacy:{reachedTop:!0,isAmp:!1,numIframes:0,stack:[e.href],referer:e.href,canonicalUrl:t}};return e.referrer&&(t.ref=e.referrer),t},x.random=function(e,t){return Math.floor(Math.random()*(t-e))+e},x.pixel=function(e,t){(t=t&&!0!==t?t:{append_random:!t,append_ts:!0===t}).append_random?e+="&rnd="+Math.random():t.append_ts&&(e+="&rnd="+(new Date).getTime());var n,i=document.createElement("img");t.onload&&(i.addEventListener("load",n=function(){i.removeEventListener("load",n),i.removeEventListener("error",n),t.onload()}),i.addEventListener("error",n)),i.src=e},x.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},x.pixelf=function(e,t,n){return e?(t&&(e=encodeURI(e)),"<iframe "+(n=n?'sandbox="'+n+'"':"")+' id="'+x.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};function g(e){return 61<e?g(e/62|0)+g(e%62):35<e?String.fromCharCode(e+29):9<e?String.fromCharCode(e+87):-1<e?e+"":e<0?"-"+g(-e):"NaN"}var f,m,h=[],b=!1,v={},_=(x.uspf=x.wrapAsync(function(e,t){b||(x.logl("px","UserSync qF",e,v[e],5,t),v[e]=(v[e]||0)+1,5<v[e])||h.push({a:e,t:"f",u:t})}),x.uspi=x.wrapAsync(function(e,t){b||(x.logl("px","UserSync qI",e,v[e],5,t),v[e]=(v[e]||0)+1,5<v[e])||h.push({a:e,t:"i",u:t})}),x.uspc=x.wrapAsync(function(e){b=!0,x.logl("px","UserSync disabled",e)}),!0),y=!0,w=500,A=!(x.cfusp=function(e,t,n){e||(_=!1),t||(y=!1),n&&(w=n),x.log("UserSync set: ",{image:_,iframe:y,delay:w})}),S=(x.cfuspfn=function(e){A=e},x.wrapAsync(function(){if(clearTimeout(f),h.length){var e=Math.floor(Math.random()*h.length),t=h[e];if(h.splice(e,1),A&&!A(t))return x.logl("px","UserSync not sent (pub): ",t),S();if(y&&"f"==t.t){e=document.createElement("div");e.innerHTML=x.pixelf(t.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(e.firstChild),x.logl("px","UserSync (F): ",t.a,t.u)}else{if(!_||"i"!=t.t)return x.logl("px","UserSync not sent (!): ",t),S();document.createElement("img").src=t.u,x.logl("px","UserSync (I): ",t.a,t.u)}f=setTimeout(S,50)}})),I=(x.qdusp=function(){if(x.logl("px","UserSync Q",h,w,_,y,x.safari,x.cookies),x.safari||!x.cookies)return x.logl("px","UserSync skipped",x.safari,x.cookies);clearTimeout(f),f=setTimeout(S,w)},{}),j=(x.load=function(e,t,n,i){var r;if(t=t?x.wrapAsync(t):function(){},!n||!I[e])return n&&(I[e]||(I[e]={ready:!1,cbs:[t]}),t=function(){I[e].ready=!0,x.each(I[e].cbs,function(e){e()})}),(r=document.createElement("script")).type="text/javascript",r.async=!0,r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=t,r.src=e,(i||document.body||document.head).appendChild(r),r;I[e].ready?t():I[e].cbs.push(t)},x.loadCached=function(e,t){x.load(e,t,!0)},x.iiframe=function(e){var t=document.createElement("iframe");return t.id=x.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},x.prepend=function(e,t){return"string"==typeof t&&(t=document.createElement(t)),e.prepend?e.prepend(t):e.children.length?e.insertBefore(t,e.children[0]):e.appendChild(t),t},x.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)},!(x.isobj=function(e){return"[object Object]"===Object.prototype.toString.call(e)})),k=(x.isdebug=function(){return j},x.setdebug=function(e){e&&(j=e,x.lw("adb_debug",j))},x.log=function(){if(j){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+x.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},x.logl=function(e){j==e&&x.log.apply(x,["log::",e].concat(Array.prototype.slice.apply(arguments,[1])))},x.setdebug(x.qs("adb_debug")||x.lr("adb_debug")),[]),T=(x.err=function(){var t=Array.prototype.slice.apply(arguments);if(j){var e=[].concat(t);e.unshift("AdBridg | "+x.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}m&&!(t=m(t))||k.length&&x.each(k,function(e){e.apply(null,t)})},x.onerr=function(e){k.push(e)},!(x.wraperr=function(e){m=e})),C=(x.mock=function(e){return e&&(String(e).match(/^(native|small|large|common)$/)?(x.log("-- system mock engaged: ",e),T=e):x.err("MockValueInvalid",e)),T},x.mock(x.qs("adb_mock")),!1),R=[],D=(x.onrec=function(e){for(C=e;R.length;)C(R.shift())},x.rec=function(e){C?C(e):R.push(e)},{}),B=(x.toRange=function(e,t,n){e=Math.round(100*e);for(var i=function(e){if(!D[e=e||".05:.05-10"]){D[e]=[];for(var t=e.split(","),n=0;n<t.length;++n){var i=t[n].split(":"),r=i[1].split("-"),i={increment:Math.round(100*parseFloat(i[0])),upper:Math.round(100*parseFloat(r[1])),final:!1};n==t.length-1&&(i.final=i.upper-i.increment),D[e].push(i)}}return D[e]}(t),r=0;r<i.length;++r){var o,a,s=i[r];if(s.final&&e>=s.upper-s.increment)return{r:parseFloat(((s.final+s.increment)/100).toFixed(2)),kv:(s.final/100).toFixed(2)+"-"};if(!(e>=s.upper))return o=Math.floor(e/s.increment)*s.increment/100,a=(s=parseFloat((o+s.increment/100).toFixed(2)))-.01,{r:s,kv:Math.max(n?0:.01,o).toFixed(2)+"-"+a.toFixed(2)}}},x.b62=g,x.fb62=function(e){for(var t=0,n=e.length-1,i=n;0<=i;i--){var r=e.charCodeAt(i),o=i===n?1:Math.pow(62,n-i);if(96<r&&r<123)t+=o*(r-87);else if(64<r&&r<91)t+=o*(r-29);else{if(!(47<r&&r<58))return NaN;t+=o*(r-48)}}return t},x.dom=x.wrapAsync(function(e,t,n,i,r,o){B.add(e,t,n,i,r,o)}),x.undom=x.wrapAsync(function(e,t){B.remove(e,t)}),x.lzrescan=x.wrapAsync(function(e){B.rescan(e)}),new function(){function s(e,t){if(e.f&&!e.f(e,t,p))return x.logl("lz","Lazy blocked",e,p),!1;if(t.in){if(!e.x)return x.logl("lz","Lazy cannot measure el",e,t),!1;var n=document.getElementById(e.i);if(!n)return x.logl("lz","Lazy collapse check - cannot read el",e,t),!1;var i=(n||{}).parentNode;if(!i)return x.logl("lz","Lazy collapse check - cannot read parent",e,t),!1;var r=x.where(i);if(!r.in)return x.logl("lz","Lazy collapse check - parent invis",e,t,r),!1;r=document.createElement("span"),n=(r.style="position:absolute;display:block;width:1px;height:1px;",i.insertBefore(r,n),x.where(r));i.removeChild(r),x.logl("lz","Lazy collapse check - using replacement coords",JSON.stringify({coords:t,replacement:n})),t=n}return 0<e.d&&e.d<1?0===t.d&&(0===t.c.h||0===t.c.w)||t.v>e.d:t.d<=e.d}var t,d,c={},u=0,l=[],n=!1,i=!1,p=!1,g=(this.add=function(e,t,n,i,r,o){var a;e instanceof Node&&((a=e).id||(a.id=x.genID("adb_auto_")),e=a.id),c[e]=c[e]||[],c[e].push({c:i,d:t,t:n,i:e,f:r,x:o}),u+=1,g()},this.remove=function(e,t){var n,i=c[e]||[];if(t)for(n=i.length-1;0<=n;--n)i[n].c===t&&c[e].splice(n,1);for(t&&i.length||delete c[e],n=l.length-1;0<=n;--n)t&&l[n].c!==t||l.splice(n,1)},this.rescan=function(e){x.logl("lz","Lazy explicit rescan"),e&&(d=e),t=setTimeout(g,0)},r(window,"scroll",function(){p=!0,!t&&u&&(x.logl("lz","Lazy scroll wait",100),t=setTimeout(g,100))}),x.thread(function(){var a,e=x.dts();clearTimeout(t),t=!1,n||e-i<50?t=setTimeout(g,50):(n=!0,i=e,x.logl("lz","Lazy measure",e),a=[],x.each(c,function(e,t){var n=x.where(t);if(!n)return x.logl("lz","Lazy no dom",t);for(var i=e.length-1;0<=i;--i){var r=e[i],o=s(r,n);x.logl("lz","Lazy check",JSON.stringify({el:t,coords:n,reqdist:r.d,criteria:o,seenscr:p})),!o&&d&&(o=d(r,n))&&x.logl("lz","Lazy allowed",t),o&&(--u,e.splice(i,1),l.push(r),x.logl("lz","Lazy to duration",t))}e.length||a.push(t)}),x.each(a,function(e){delete c[e]}),e=function(e){for(var t=!1,n=l.length-1;0<=n;--n){var i=l[n],r=i.i;if(x.logl("lz","Lazy check time",i,r," has scroll event: ",p),i.tx){if(!s(i,x.where(r))){x.logl("lz","Lazy back to distance",r),i.tx=0,l.splice(n,1),c[r]=c[r]||[],c[r].push(i),u+=1;continue}}else i.tx=e+i.t;var o=i.tx-e;o<=0?(x.logl("lz","Lazy execute",r),l.splice(n,1),x.thread(i.c)(r)):t=t?Math.min(1+o,t):1+o}return t}(e)||100,l.length&&(x.logl("lz","Lazy duration wait",e),t=setTimeout(g,e)),n=!1)}))}),E=(x.obox=function(e,t){e={top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left),right:Math.min(e.right,t.right)};return e.width=Math.round(e.right-e.left),e.height=Math.round(e.bottom-e.top),e.area=Math.round(e.width*e.height),e},x.opct=function(e,t,n,i,r){var o=x.obox(t,{top:0,bottom:n.h,left:0,right:n.w}),a=o.area,s=a/(Math.round(t.width)*Math.round(t.height)),d={o:0,p:0,v:s,e:{}};if(a){var c,n=o.left+o.width/2,t=o.top+o.height/2,u={mm:[n,t],tl:[o.left+5,o.top+5],br:[o.right-5,o.bottom-5]},l=(7<=r&&(u.tm=[n,o.top+5],u.tr=[o.right-5,o.top+5],u.bl=[o.left+5,o.bottom-5],u.bm=[n,o.bottom-5]),9<=r&&(u.mr=[o.right,t],u.ml=[o.left,t]),[]);for(c in u)if(u.hasOwnProperty(c)){var p=u[c],g=document.elementFromPoint(p[0],p[1]);if((g=i&&g&&((p=document.getElementById(i))===g||g.contains(p)||p.contains(g))?!1:g)&&g!==e&&!e.contains(g)&&!g.contains(e)){var f=x.obox(o,g.getBoundingClientRect()),m=0,h=0,b=g,v=b.parentNode;if(!v.contains(e)){for(m+=1;v.parentNode&&!v.parentNode.contains(e);)m+=1,v=v.parentNode;for(;v!==b;){for(var _=x.obox(o,v.getBoundingClientRect()),y=_.area==f.area,y=((_.area>f.area||y&&h<m)&&(f=_,g=v,h=m),v),w=0;w<v.children.length;++w)if(v.children[w]===b||v.children[w].contains(b)){--m,v=v.children[w];break}if(v===y)break}}if(-1===l.indexOf(g)&&(l.push(g),d.e[c]={el:g,p:f.area,o:f.area/a},d.p+=f.area,d.o=Math.min(1,d.p/a),d.v=d.o?(1-d.o)*s:s,1===d.o))break}}}return d},x.where=function(e,t,n){var i,r,o,a,s,d,c,u,l,p,g;return!!(e="string"==typeof e?document.getElementById(e):e)&&(i=e.getBoundingClientRect(),r=x.vp(),o=i.top,a=i.height,s=i.top+a,d="in_viewport",u=1,g=(c=0)<i.width&&0<a,l=0,(p=E(e))&&(l=1,d="unknown"),o<0?(c=s<0?Math.abs(s):0,d=((u=0<s&&g?s/a:0)?"partially_":"")+"above_viewport"):s>r.h?(c=o>r.h?o-r.h:0,d=((u=o<r.h&&g?(r.h-o)/a:0)?"partially_":"")+"below_viewport"):g||(u=0),g=null,{i:p,p:d,d:c,v:u,in:l,o:g=t&&u&&!l?x.opct(e,i,r,n):g,c:{vp:r,t:o,l:i.left,h:a,w:i.width,b:s}})},x.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},x.copy=function(e){if(x.isarr(e)){for(var t=[],n=0;n<e.length;++n)t.push(x.copy(e[n]));return t}return"object"==typeof e?x.deepAssign({},e):e},x.deepAssign=function(e){if(!e)return e;for(var n=Object(e),t=1;t<arguments.length;t++)x.each(arguments[t],function(e,t){n[t]=x.copy(e)});return n},x.deepMerge=function(e){if(!e)return e;for(var i=x.isarr(e),r=i?e:Object(e),t=1;t<arguments.length;t++)x.each(arguments[t],function(e,t){var n=x.isarr(e),n="object"==typeof e?x.deepMerge(r[t]||(n?[]:{}),e):x.copy(e);i?r.push(n):r[t]=n});return r},x.deepAccess=function(e,t,n){t=t.split(".").reduce(function(e,t){return(e||{})[t]},e);return void 0!==t?t:n},x.deepEq=function(i,r,o,a){o=o||[],a=a||"";for(var e,t=0;t<o.length;++t){var n=o[t];if(n instanceof RegExp&&String(a).match(n))return!0;if(n===a)return!0}return!("function"!=typeof r||!r(i))||("object"!=typeof i||"object"!=typeof r||null==i||null==r?i===r||{p:a,o1:i,o2:r}:0===(e=Object.keys(Object.assign({},i,r)).reduce(function(e,t){var n=a?a+"."+t:t,t=x.deepEq(i[t],r[t],o,n);return t&&t.hasOwnProperty("p")&&t.hasOwnProperty("o1")&&t.hasOwnProperty("o2")?e.push(t):!0!==t&&(e=e.concat(t)),e},[])).length||e)},function(e){try{if(!e)return"no_dom_el";var t=window.getComputedStyle&&window.getComputedStyle(e)||{};if("none"==t.display)return"display_none";if("hidden"==t.visibility)return"vis_hidden"}catch(e){x.err("get_invis_fail")}return!1});x.dom_invisible=x.wrapAsync(function(e){var t=document.getElementById(e),n=E(t);if(n)return"el_"+n;for(var i=0;t.parentNode&&(t=t.parentNode)!==document.body;)if(i+=1,n=E(t))return"anc_"+i+"_"+n;return!1})},{}]},{},[19]);